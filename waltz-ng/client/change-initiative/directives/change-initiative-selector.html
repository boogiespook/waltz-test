<div class="waltz-change-initiative-selector">
    <ui-select ng-model="ctrl.model"
               theme="bootstrap">

        <ui-select-match placeholder="Search for change initiative...">
            <span ng-bind="$select.selected.externalId"
                  class="wcis-selected-text"></span>
            <span class="wcis-selected-text">
                -
            </span>
            <span ng-bind="$select.selected.name"
                  class="wcis-selected-text"></span>
        </ui-select-match>

        <ui-select-choices repeat="result in ctrl.results"
                           refresh="ctrl.refresh($select.search)"
                           refresh-delay="300">

                    <span class="small"
                          ng-bind-html="result.externalId | highlight: $select.search"></span>
            -
            <span ng-bind-html="result.name | highlight: $select.search"></span>
            <small style="display: block"
                   ng-bind-html="result.description | highlight: $select.search"></small>

        </ui-select-choices>
    </ui-select>
</div>