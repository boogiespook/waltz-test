{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{0:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.entityLifecycleStatuses=t.formats=void 0,t.notEmpty=function(e){return!i.default.isEmpty(e)},t.isEmpty=function(e){return i.default.isEmpty(e)},t.mkSafe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.isEmpty(e)?[]:e},t.ifPresent=function(e,t,n){return e?t(e):n},t.groupAndMap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.id},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return i.default.reduce(e,function(e,i){var a=t(i),o=e[a]||[];return o.push(n(i)),e[a]=o,e},{})},t.randomPick=function(e){if(!e)throw new Error(\"Cannot pick from a null set of options\");var t=e.length-1,n=Math.round(Math.random()*t);return e[n]},t.perhaps=function(e,t){try{return e()}catch(e){return t}},t.termSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=t.toLowerCase().split(/\\W/);return i.default.filter(e,function(e){var t=i.default.isEmpty(n)?i.default.keys(e):n,o=i.default.chain(t).reject(function(t){return t.startsWith(\"$\")||i.default.isFunction(i.default.get(e,t))}).map(function(t){return i.default.get(e,t)}).join(\" \").value().toLowerCase();return i.default.every(a,function(e){return o.includes(e)})})},t.toKeyCounts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.map(e,function(e){return{key:e.key,count:e.value}})}((0,a.nest)().key(t).rollup(function(e){return e.length}).entries(e)):[]},t.resetData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(e,i.default.cloneDeep(t))},t.initialiseData=function(e,t){return i.default.defaultsDeep(e,i.default.cloneDeep(t))},t.invokeFunction=function(e){if(i.default.isFunction(e)){var t=i.default.slice(arguments,1);return e.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}return console.log(\"invokeFunction - attempted to invoke empty function: \",e),null};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),a=n(25);t.formats={daysAndMinutes:\"ddd Do MMM YYYY - HH:mm:ss\",daysOnly:\"ddd Do MMM YYYY\",parse:\"YYYY-MM-DDThh:mm:ss.SSS\",parseDateOnly:\"YYYY-MM-DD\"},t.entityLifecycleStatuses={ACTIVE:\"ACTIVE\",PENDING:\"PENDING\",REMOVED:\"REMOVED\"}},107:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.applicationKind={CUSTOMISED:{key:\"CUSTOMISED\",name:\"Customised\",icon:null,description:null,position:10},EUC:{key:\"EUC\",name:\"End User Computing\",icon:null,description:null,position:20},EXTERNAL:{key:\"EXTERNAL\",name:\"External to the organisation\",icon:null,description:null,position:30},EXTERNALLY_HOSTED:{key:\"EXTERNALLY_HOSTED\",name:\"Externally Hosted\",icon:null,description:null,position:40},IN_HOUSE:{key:\"IN_HOUSE\",name:\"In House\",icon:null,description:null,position:50},INTERNALLY_HOSTED:{key:\"INTERNALLY_HOSTED\",name:\"Hosted Internally\",icon:null,description:null,position:60},THIRD_PARTY:{key:\"THIRD_PARTY\",name:\"Third Party\",icon:null,description:null,position:70}}},108:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.criticality={NONE:{key:\"NONE\",name:\"None\",icon:null,description:null,position:10},LOW:{key:\"LOW\",name:\"Low\",icon:null,description:null,position:20},MEDIUM:{key:\"MEDIUM\",name:\"Medium\",icon:null,description:null,position:30},HIGH:{key:\"HIGH\",name:\"High\",icon:null,description:null,position:40},VERY_HIGH:{key:\"VERY_HIGH\",name:\"Very high\",icon:null,description:null,position:50},UNKNOWN:{key:\"UNKNOWN\",name:\"Unknown\",icon:null,description:null,position:60}}},109:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.endOfLifeStatus={END_OF_LIFE:{key:\"END_OF_LIFE\",name:\"End of Life\",icon:null,description:null,position:10},NOT_END_OF_LIFE:{key:\"NOT_END_OF_LIFE\",name:\"Compliant\",icon:null,description:null,position:20}}},110:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.changeRelationshipFunctionsByKind=t.fetchRelationshipFunctionsByKind=t.allowedRelationshipsByKind=void 0,t.mkRel=function(e,t,n){if(\"ROADMAP\"===e.kind){var i=e;e=n,n=i}return{a:e,b:n,relationship:t}};var i=n(2);t.allowedRelationshipsByKind={CHANGE_INITIATIVE:[{value:\"APPLICATION_NEW\",name:\"Application - new\"},{value:\"APPLICATION_FUNCTIONAL_CHANGE\",name:\"Application - functional change\"},{value:\"APPLICATION_DECOMMISSIONED\",name:\"Application - decommissioned\"},{value:\"APPLICATION_NFR_CHANGE\",name:\"Application - NFR change\"},{value:\"DATA_PUBLISHER\",name:\"Data publisher\"},{value:\"DATA_CONSUMER\",name:\"Data consumer\"}]},t.fetchRelationshipFunctionsByKind={CHANGE_INITIATIVE:i.CORE_API.ChangeInitiativeStore.findRelatedForId},t.changeRelationshipFunctionsByKind={CHANGE_INITIATIVE:i.CORE_API.ChangeInitiativeStore.changeRelationship}},111:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.calcComplexitySummary=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e)return;var t=i.default.sumBy(e,\"overallScore\"),n=(0,a.notEmpty)(e)?t/e.length:0;return{cumulativeScore:t,averageScore:n}};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),a=n(0)},112:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getEditRoleForEntityKind=function(e){switch(e){case\"APPLICATION\":return i.default.APP_EDITOR.key;case\"CHANGE_INITIATIVE\":return i.default.CHANGE_INITIATIVE_EDITOR.key;case\"MEASURABLE\":return i.default.CAPABILITY_EDITOR.key;case\"ORG_UNIT\":return i.default.ORG_UNIT_EDITOR.key;case\"DATA_TYPE\":return i.default.AUTHORITATIVE_SOURCE_EDITOR.key;case\"SCENARIO\":return i.default.SCENARIO_EDITOR.key;case\"ROADMAP\":return i.default.SCENARIO_ADMIN.key;default:return i.default.ADMIN.key}};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(53))},115:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.d3ContextMenu=function(e,t){var n=void 0,a=void 0;\"function\"==typeof t?n=t:(n=(t=t||{}).onOpen,a=t.onClose);return(0,i.selectAll)(\".d3-context-menu\").data([1]).enter().append(\"div\").attr(\"class\",\"d3-context-menu\"),(0,i.select)(\"body\").on(\"click.d3-context-menu\",function(){(0,i.select)(\".d3-context-menu\").style(\"display\",\"none\"),a&&a()}),function(t,o){var r=this;(0,i.selectAll)(\".d3-context-menu\").html(\"\"),(0,i.selectAll)(\".d3-context-menu\").on(\"contextmenu\",function(e){(0,i.select)(\".d3-context-menu\").style(\"display\",\"none\"),i.event.preventDefault(),i.event.stopPropagation()}).append(\"ul\").selectAll(\"li\").data(\"function\"==typeof e?e(t,r,o):e).enter().append(\"li\").classed(\"is-divider\",function(e){return e.divider}).classed(\"is-disabled\",function(e){return e.disabled}).classed(\"is-header\",function(e){return!e.action}).classed(\"is-action\",function(e){return null!=e.action}).html(function(e){return e.divider?\"<hr>\":(e.title||console.error(\"No title attribute set. Check the spelling of your options.\"),\"string\"==typeof e.title?e.title:e.title(t))}).on(\"click\",function(e,n){if(!e.disabled&&e.action){var l=e.action(r,t,o);(0,i.select)(\".d3-context-menu\").style(\"display\",\"none\"),a&&a(l)}}),n&&!1===n(t,o)||((0,i.select)(\".d3-context-menu\").style(\"left\",i.event.pageX-2+\"px\").style(\"top\",i.event.pageY-2+\"px\").style(\"display\",\"block\"),i.event.preventDefault(),i.event.stopPropagation())}};var i=n(5)},12:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.sameRef=function(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{skipChecks:!1}).skipChecks||((0,i.checkIsEntityRef)(e),(0,i.checkIsEntityRef)(t));return e.kind===t.kind&&e.id===t.id},t.refToString=function(e){return(0,i.checkIsEntityRef)(e),e.kind+\"/\"+e.id},t.stringToRef=function(e){var t=e.split(\"/\");return{kind:t[0],id:t[1]}},t.toEntityRef=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.kind,n={id:e.id,kind:t,name:e.name,description:e.description};return(0,i.checkIsEntityRef)(n),n},t.loadEntity=function(e,t){(0,i.checkIsEntityRef)(t);var n=function(e){switch(e){case\"APPLICATION\":return a.CORE_API.ApplicationStore.getById;case\"ACTOR\":return a.CORE_API.ActorStore.getById;default:throw\"Unsupported kind for loadEntity: \"+e}}(t.kind);return e.loadViewData(n,[t.id]).then(function(e){return e.data})};var i=n(8),a=n(2)},1255:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.compareCriticalities=function(e,t){var n=i.default.indexOf(a,e);if(-1===n)throw\"Not a recognized criticality\"+e;var r=i.default.indexOf(a,t);if(-1===r)throw\"Not a recognized criticality\"+e;return o(n,r)};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var a=[\"UNKNOWN\",\"NONE\",\"LOW\",\"MEDIUM\",\"HIGH\",\"VERY_HIGH\"],o=function(e,t){return e>t?1:e<t?-1:0}},1364:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.confirmWithUser=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return confirm(e)?t():n()}},148:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.changeInitiative={PROGRAMME:{key:\"PROGRAMME\",name:\"Programme\",icon:null,description:null,position:10},PROJECT:{key:\"PROJECT\",name:\"Project\",icon:null,description:null,position:20},INITIATIVE:{key:\"INITIATIVE\",name:\"Initiative\",icon:null,description:null,position:30}}},149:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.relationshipKind={HAS:{key:\"HAS\",name:\"Has\",icon:null,description:null,position:10},DEPRECATES:{key:\"DEPRECATES\",name:\"Deprecates\",icon:null,description:null,position:20},LOOSELY_RELATES_TO:{key:\"LOOSELY_RELATES_TO\",name:\"Loosely Relates To\",icon:null,description:null,position:30},PARTICIPATES_IN:{key:\"PARTICIPATES_IN\",name:\"Participates In\",icon:null,description:null,position:40},RELATES_TO:{key:\"RELATES_TO\",name:\"Relates To\",icon:null,description:null,position:50},SUPPORTS:{key:\"SUPPORTS\",name:\"Supports\",icon:null,description:null,position:60},APPLICATION_NEW:{key:\"APPLICATION_NEW\",name:\"Application - new\",icon:null,description:null,position:70},APPLICATION_FUNCTIONAL_CHANGE:{key:\"APPLICATION_FUNCTIONAL_CHANGE\",name:\"Application - functional change\",icon:null,description:null,position:80},APPLICATION_DECOMMISSIONED:{key:\"APPLICATION_DECOMMISSIONED\",name:\"Application - decommissioned\",icon:null,description:null,position:90},APPLICATION_NFR_CHANGE:{key:\"APPLICATION_NFR_CHANGE\",name:\"Application - NFR change\",icon:null,description:null,position:100},DATA_PUBLISHER:{key:\"DATA_PUBLISHER\",name:\"Data publisher\",icon:null,description:null,position:110},DATA_CONSUMER:{key:\"DATA_CONSUMER\",name:\"Data consumer\",icon:null,description:null,position:120}}},150:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.releaseLifecycleStatus={DRAFT:{key:\"DRAFT\",name:\"Draft\",icon:null,description:null,position:10},ACTIVE:{key:\"ACTIVE\",name:\"Active\",icon:null,description:null,position:20},DEPRECATED:{key:\"DEPRECATED\",name:\"Deprecated\",icon:null,description:null,position:30},OBSOLETE:{key:\"OBSOLETE\",name:\"Obsolete\",icon:null,description:null,position:40}}},151:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.talliesById=function(e){return i.default.reduce(e,function(e,t){return e[t.id]=t.count,e},{})},t.tallyBy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"key\";return i.default.chain(e).countBy(t).map(function(e,t){return{key:t,count:e}}).value()},t.buildPropertySummer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"directCount\",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"totalCount\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"indirectCount\";return function a(o){if(null==o)return 0;var r=Number(o[e]||0),l=i.default.sumBy(o.children,a);return o.children&&(o[t]=l+r,o[n]=l),r+l}};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1))},153:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.stopPropagation=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault()},t.isIE=function(){return-1!==navigator.userAgent.search(/(?:Edge|MSIE|Trident\\/.*; rv:)/)}},156:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.containsAll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i.default.every(t,function(t){return i.default.includes(e,t)})},t.toCumulativeCounts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.reduce(e,function(e,t){var n=i.default.last(e)||0;return e.push(n+t),e},[])},t.toOffsetMap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.id};return i.default.reduce(e,function(e,n,i){return e[t(n)]=i,e},{})},t.move=function(e,t,n){var i=e.slice(),a=t+n;if(a<0||a==i.length)return;var o=[t,a].sort(function(e,t){return e-t});return i.splice(o[0],2,i[o[1]],i[o[0]]),i};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1))},17:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getDefaultScopeForEntityKind=a,t.mkSelectionOptions=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[\"ACTIVE\"];return(0,i.checkIsEntityRef)(e),{entityReference:e,scope:t||a(e.kind),entityLifecycleStatuses:n}};var i=n(8);function a(e){switch(e){case\"ACTOR\":case\"APPLICATION\":case\"APP_GROUP\":case\"CHANGE_INITIATIVE\":case\"FLOW_DIAGRAM\":case\"LOGICAL_DATA_ELEMENT\":case\"LOGICAL_FLOW\":case\"PHYSICAL_FLOW\":case\"PHYSICAL_SPECIFICATION\":case\"SCENARIO\":return\"EXACT\";default:return\"CHILDREN\"}}},19:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.variableScale=t.randomColorScale=t.flowDirectionColorScale=t.criticalityColorScale=t.lifecyclePhaseColorScale=t.operatingSystemColorScale=t.environmentColorScale=t.authoritativeRatingBackgroundColorScale=t.authoritativeRatingColorScale=t.authoritativeSourceColorScale=t.maturityColorScale=t.investmentRatingColorScale=t.capabilityColorScale=t.ragColorScale=t.actorBg=t.greyBg=t.redBg=t.greenBg=t.amberBg=t.actor=t.gold=t.purple=t.blue=t.lightGrey=t.grey=t.pink=t.red=t.green=t.amber=void 0,t.useBlackAsForeground=I,t.mkRatingSchemeColorScale=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.default.isArray(e)?e:e.ratings||[];return(0,a.scaleOrdinal)().domain(o.default.map(t,\"rating\")).range(o.default.map(t,function(e){return(0,i.rgb)(e.color)}))},t.determineForegroundColor=function(e,t,n){return I(e,t,n)?\"#000\":\"#fff\"};var i=n(10),a=n(30),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var r=t.amber=(0,i.rgb)(\"#D9923F\"),l=t.green=(0,i.rgb)(\"#5BB65D\"),c=t.red=(0,i.rgb)(\"#DA524B\"),s=t.pink=(0,i.rgb)(\"#ffcffc\"),u=t.grey=(0,i.rgb)(\"#939393\"),d=t.lightGrey=(0,i.rgb)(\"#d1d1d1\"),p=t.blue=(0,i.rgb)(\"#5271CC\"),f=t.purple=(0,i.rgb)(\"#B687CC\"),m=t.gold=(0,i.rgb)(\"#b7b04e\"),y=(t.actor=(0,i.rgb)(\"#d7bbdb\"),t.amberBg=(0,i.rgb)(\"#FCF2D7\")),v=t.greenBg=(0,i.rgb)(\"#DFF1D2\"),g=t.redBg=(0,i.rgb)(\"#F2D7D7\"),h=t.greyBg=(0,i.rgb)(\"#F5F5F5\"),b=(t.actorBg=(0,i.rgb)(\"#ede5ee\"),t.ragColorScale=(0,a.scaleOrdinal)().domain([\"R\",\"A\",\"G\",\"Z\",\"X\"]).range([c,r,l,u,d])),S=(t.capabilityColorScale=b,t.investmentRatingColorScale=b,t.maturityColorScale=(0,a.scaleOrdinal)().domain([\"PLANNED\",\"INVEST\",\"HOLD\",\"DISINVEST\",\"UNSUPPORTED\",\"RESTRICTED\"]).range([p,l,r,c,c,c]),t.authoritativeSourceColorScale=(0,a.scaleOrdinal)().domain([\"NON_STRATEGIC\",\"SECONDARY\",\"PRIMARY\",\"NOT_APPLICABLE\"]).range([c,r,l,u]),t.authoritativeRatingColorScale=(0,a.scaleOrdinal)().domain([\"DISCOURAGED\",\"SECONDARY\",\"PRIMARY\",\"NO_OPINION\"]).range([c,r,l,u.darker()]),t.authoritativeRatingBackgroundColorScale=(0,a.scaleOrdinal)().domain([\"DISCOURAGED\",\"SECONDARY\",\"PRIMARY\",\"NO_OPINION\"]).range([g,y,v,h]),t.environmentColorScale=(0,a.scaleOrdinal)().domain([\"DEV\",\"PREPROD\",\"PROD\",\"QA\",\"UAT\",\"DR\"]).range([l,r,m,f,s,p]),t.operatingSystemColorScale=(0,a.scaleOrdinal)().domain([\"Windows\",\"Linux\",\"AS/400\",\"OS/390\",\"AIX\",\"Solaris\"]).range([p,l,(0,i.rgb)(\"#777\"),(0,i.rgb)(\"#555\"),(0,i.rgb)(\"#473\"),r]),t.lifecyclePhaseColorScale=(0,a.scaleOrdinal)().domain([\"PRODUCTION\",\"CONCEPTUAL\",\"DEVELOPMENT\",\"RETIRED\"]).range([m,p,l,u]),t.criticalityColorScale=(0,a.scaleOrdinal)().domain([\"LOW\",\"MEDIUM\",\"HIGH\",\"VERY_HIGH\",\"NONE\",\"UNKNOWN\"]).range([l,r,c,c.darker(),u,u.darker()]),t.flowDirectionColorScale=(0,a.scaleOrdinal)().domain([\"Inbound\",\"Outbound\",\"Intra\",\"UNKNOWN\"]).range([l,r,p,u]),[{color:s,keys:[\"UAT\"]},{color:c,keys:[\"NO\",\"FAIL\",\"DISINVEST\",\"UNSUPPORTED\",\"RESTRICTED\",\"DISCOURAGED\",\"NON_STRATEGIC\",\"NON_COMPLIANT\",\"R\",\"RED\",\"OVERDUE\",\"LATE\",\"BAD\",\"END_OF_LIFE\",\"NON PAAS\"]},{color:l,keys:[\"YES\",\"PASS\",\"COMPLETED\",\"SUCCESS\",\"INVEST\",\"SUPPORTED\",\"PRIMARY\",\"COMPLIANT\",\"ENCOURAGED\",\"STRATEGIC\",\"G\",\"DEV\",\"GREEN\",\"GOOD\",\"NOT_END_OF_LIFE\",\"PAAS\"]},{color:r,keys:[\"MAYBE\",\"PARTIAL\",\"HOLD\",\"IN_PROGRESS\",\"SECONDARY\",\"STRATEGIC_WITH_ISSUES\",\"PART_COMPLIANT\",\"PARTIALLY_COMPLIANT\",\"A\",\"AMBER\",\"YELLOW\",\"OKAY\",\"PREPROD\"]},{color:p,keys:[\"PLANNED\",\"OTHER\",\"CONCEPTUAL\",\"DR\",\"B\",\"NOT_STARTED\",\"BLUE\",\"MEDIUM\",\"VIRTUAL\",\"DR\"]},{color:p.darker(),keys:[\"HIGH\"]},{color:p.brighter(),keys:[\"LOW\"]},{color:f,keys:[\"OTHER\",\"UAT\"]},{},{color:m,keys:[\"PROD\",\"PRD\"]},{color:u,keys:[\"UNKNOWN\",\"EXEMPT\",\"RETIRED\",\"GREY\",\"GRAY\",\"POSTPONED\",\"N/A\",\"NA\",\"NOT_APPLICABLE\",\"MEH\",\"PHYSICAL\"]}]),w=o.default.reduce(S,function(e,t){return o.default.each(t.keys,function(n){return e[n]=t.color}),e},{}),A=t.randomColorScale=(0,a.scaleOrdinal)(a.schemeCategory20c);t.variableScale=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=e.toUpperCase();return w[t]||(0,i.rgb)(A(e))};function I(e,t,n){if(o.default.isString(e)){var a=(0,i.rgb)(e);e=a.r,t=a.g,n=a.b}return(299*e+587*t+114*n)/1e3>123}},2:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CORE_API=void 0,t.getApiReference=function(e,t){return fe[e][t]};var i=n(199),a=n(200),o=n(201),r=n(202),l=n(203),c=n(204),s=n(205),u=n(206),d=n(207),p=n(208),f=n(209),m=n(210),y=n(211),v=n(212),g=n(213),h=n(214),b=n(215),S=n(216),w=n(217),A=n(218),I=n(219),D=n(220),E=n(221),T=n(222),O=n(223),k=n(224),R=n(225),_=n(226),P=n(227),C=n(228),N=n(229),x=n(230),M=n(231),$=n(232),L=n(233),z=n(234),F=n(235),B=n(236),U=n(237),j=n(238),G=n(239),K=n(240),Y=n(241),H=n(242),V=n(243),W=n(244),q=n(245),X=n(246),Z=n(247),Q=n(248),J=n(249),ee=n(250),te=n(251),ne=n(252),ie=n(253),ae=n(254),oe=n(255),re=n(256),le=n(257),ce=n(258),se=n(259),ue=n(260),de=n(261),pe=n(262),fe=t.CORE_API={ActorStore:i.ActorStore_API,AliasStore:a.AliasStore_API,AppGroupStore:o.AppGroupStore_API,ApplicationStore:r.ApplicationStore_API,AttestationInstanceStore:s.AttestationInstanceStore_API,AttestationRunStore:u.AttestationRunStore_API,AssetCostStore:d.AssetCostStore_API,AssessmentDefinitionStore:l.AssessmentDefinitionStore_API,AssessmentRatingStore:c.AssessmentRatingStore_API,AuthSourcesStore:p.AuthSourcesStore_API,BookmarkStore:f.BookmarkStore_API,ChangeInitiativeStore:m.ChangeInitiativeStore_API,ChangeLogStore:y.ChangeLogStore_API,ComplexityStore:v.ComplexityStore_API,DatabaseStore:g.DatabaseStore_API,DataTypeStore:h.DataTypeStore_API,DataTypeUsageStore:b.DataTypeUsageStore_API,DrillGridDefinitionStore:S.DrillGridDefinitionStore_API,EndUserAppStore:w.EndUserAppStore_API,EntityEnumStore:A.EntityEnumStore_API,EntityNamedNoteStore:I.EntityNamedNoteStore_API,EntityNamedNoteTypeStore:D.EntityNamedNoteTypeStore_API,EntityRelationshipStore:E.EntityRelationshipStore_API,EntitySearchStore:T.EntitySearchStore_API,EntityStatisticStore:O.EntityStatisticStore_API,EntityTagStore:k.EntityTagStore_API,EnumValueStore:R.EnumValueStore_API,FlowDiagramStore:P.FlowDiagramStore_API,FlowDiagramAnnotationStore:C.FlowDiagramAnnotationStore_API,FlowDiagramEntityStore:N.FlowDiagramEntityStore_API,EntitySvgDiagramStore:_.EntitySvgDiagramStore_API,InvolvementStore:x.InvolvementStore_API,InvolvementKindStore:M.InvolvementKindStore_API,LogicalDataElementStore:$.LogicalDataElementStore_API,LogicalFlowStore:L.LogicalFlowStore_API,LogicalFlowDecoratorStore:z.LogicalFlowDecoratorStore_API,MeasurableCategoryStore:F.MeasurableCategoryStore_API,MeasurableRatingStore:B.MeasurableRatingStore_API,MeasurableRelationshipStore:U.MeasurableRelationshipStore_API,MeasurableStore:j.MeasurableStore_API,NotificationStore:G.NotificationStore_API,OrgUnitStore:K.OrgUnitStore_API,PersonStore:Y.PersonStore_API,PhysicalFlowStore:H.PhysicalFlowStore_API,PhysicalSpecDataTypeStore:V.PhysicalSpecDataTypeStore_API,PhysicalSpecDefinitionFieldStore:W.PhysicalSpecDefinitionFieldStore_API,PhysicalSpecDefinitionStore:q.PhysicalSpecDefinitionStore_API,PhysicalSpecDefinitionSampleFileStore:X.PhysicalSpecDefinitionSampleFileStore_API,PhysicalSpecificationStore:Z.PhysicalSpecificationStore_API,RatingSchemeStore:Q.RatingSchemeStore_API,RoadmapStore:J.RoadmapStore_API,ScenarioStore:ee.ScenarioStore_API,ServerInfoStore:te.ServerInfoStore_API,SettingsStore:ne.SettingsStore_API,SharedPreferenceStore:ie.SharedPreferenceStore_API,SourceDataRatingStore:ae.SourceDataRatingStore_API,StaticPanelStore:oe.StaticPanelStore_API,SurveyInstanceStore:re.SurveyInstanceStore_API,SurveyRunStore:le.SurveyRunStore_API,SurveyTemplateStore:ce.SurveyTemplateStore_API,SvgDiagramStore:se.SvgDiagramStore_API,TaxonomyManagementStore:ue.TaxonomyManagementStore_API,TechnologyStatisticsService:de.TechnologyStatisticsService_API,UserStore:pe.UserStore_API}},212:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ComplexityStore_API=t.serviceName=void 0,t.store=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function a(e,t){var n=t+\"/complexity\";return{findByApplication:function(t){return console.log(\"DEPRECATED (1.2) - complexity-store:findByApplication\"),e.get(n+\"/application/\"+t).then(function(e){return e.data})},findBySelector:function(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"CHILDREN\",r=i.default.isObject(t)?t:{scope:o,entityReference:{id:t,kind:a}};return e.post(n,r).then(function(e){return e.data})},recalculateAll:function(){return e.get(n+\"/rebuild\").then(function(e){return e.data})}}}a.$inject=[\"$http\",\"BaseApiUrl\"];var o=t.serviceName=\"ComplexityStore\";t.ComplexityStore_API={findByApplication:{serviceName:o,serviceFnName:\"findByApplication\",description:\"executes findByApplication (takes an id)\"},findBySelector:{serviceName:o,serviceFnName:\"findBySelector\",description:\"executes findBySelector\"},recalculateAll:{serviceName:o,serviceFnName:\"recalculateAll\",description:\"executes recalculateAll\"}}},213:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DatabaseStore_API=t.serviceName=void 0,t.store=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function a(e,t){var n=t+\"/database\";return{findByAppId:function(t){return e.get(n+\"/app/\"+t).then(function(e){return e.data})},findBySelector:function(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"CHILDREN\",r=i.default.isObject(t)?t:{scope:o,entityReference:{id:t,kind:a}};return e.post(\"\"+n,r).then(function(e){return e.data})},findStatsForSelector:function(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"CHILDREN\",r=i.default.isObject(t)?t:{scope:o,entityReference:{id:t,kind:a}};return e.post(n+\"/stats\",r).then(function(e){return e.data})}}}a.$inject=[\"$http\",\"BaseApiUrl\"];var o=t.serviceName=\"DatabaseStore\";t.DatabaseStore_API={findByAppId:{serviceName:o,serviceFnName:\"findByAppId\",description:\"executes findByAppId\"},findBySelector:{serviceName:o,serviceFnName:\"findBySelector\",description:\"executes findBySelector\"},findStatsForSelector:{serviceName:o,serviceFnName:\"findStatsForSelector\",description:\"executes findStatsForSelector\"}}},214:function(e,t,n){\"use strict\";function i(e,t){var n=t+\"/data-types\";return{findAll:function(){return e.get(n).then(function(e){return e.data})},search:function(t){return e.get(n+\"/search/\"+t).then(function(e){return e.data})}}}Object.defineProperty(t,\"__esModule\",{value:!0}),i.$inject=[\"$http\",\"BaseApiUrl\"];t.DataTypeStore_API={findAll:{serviceName:\"DataTypeStore\",serviceFnName:\"findAll\",description:\"finds all data types\"},search:{serviceName:\"DataTypeStore\",serviceFnName:\"search\",description:\"search data types\"}};t.default={store:i,serviceName:\"DataTypeStore\"}},215:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DataTypeUsageStore_API=t.serviceName=void 0,t.store=r;var i=n(8),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function r(e,t){var n=t+\"/data-type-usage\";return{findForEntity:function(t,a){var r=o.default.isObject(t)?t:{kind:t,id:a};return(0,i.checkIsEntityRef)(r),e.get(n+\"/entity/\"+r.kind+\"/\"+r.id).then(function(e){return e.data})},findForDataTypeSelector:function(t){return(0,i.checkIsIdSelector)(t),e.post(n+\"/type/\",t).then(function(e){return e.data})},findForUsageKindByDataTypeIdSelector:function(t,a){return(0,i.checkIsIdSelector)(a),e.post(n+\"/usage-kind/\"+t,a).then(function(e){return e.data})},calculateStats:function(t){return(0,i.checkIsIdSelector)(t),e.post(n+\"/type/stats\",t).then(function(e){return e.data})},findForSelector:function(t){return(0,i.checkIsIdSelector)(t),e.post(n+\"/selector\",t).then(function(e){return e.data})},recalculateAll:function(){return e.get(n+\"/calculate-all/application\").then(function(e){return e.data})},save:function(t,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if((0,i.checkIsEntityRef)(t),!(0,a.isEmpty)(r))return e.post(n+\"/entity/\"+t.kind+\"/\"+t.id+\"/\"+o,r).then(function(e){return e.data})}}}r.$inject=[\"$http\",\"BaseApiUrl\"];var l=t.serviceName=\"DataTypeUsageStore\";t.DataTypeUsageStore_API={findForEntity:{serviceName:l,serviceFnName:\"findForEntity\",description:\"findForEntity\"},findForDataTypeSelector:{serviceName:l,serviceFnName:\"findForDataTypeSelector\",description:\"findForDataTypeSelector\"},findForUsageKindByDataTypeIdSelector:{serviceName:l,serviceFnName:\"findForUsageKindByDataTypeIdSelector\",description:\"executes findForUsageKindByDataTypeIdSelector\"},calculateStats:{serviceName:l,serviceFnName:\"calculateStats\",description:\"executes calculateStats\"},findForSelector:{serviceName:l,serviceFnName:\"findForSelector\",description:\"executes findForSelector\"},recalculateAll:{serviceName:l,serviceFnName:\"recalculateAll\",description:\"executes recalculateAll\"},save:{serviceName:l,serviceFnName:\"save\",description:\"executes save\"}}},216:function(e,t,n){\"use strict\";function i(e,t){var n=t+\"/drill-grid-definition\";return{findAll:function(){return e.get(n).then(function(e){return e.data})}}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.store=i,i.$inject=[\"$http\",\"BaseApiUrl\"];var a=t.serviceName=\"DrillGridDefinitionStore\";t.DrillGridDefinitionStore_API={findAll:{serviceName:a,serviceFnName:\"findAll\",description:\"findAll\"}}},24:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.prepareSearchNodes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"name\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"parentId\",a=i.default.keyBy(e,\"id\");return i.default.map(e,function(e){for(var i=e,o=\"\",r=[];i;){r.push(i),o+=(i[t]||\"\")+\" \";var l=i[n];i=a[l]}return{searchStr:o.toLowerCase(),nodePath:r}})},t.doSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=i.default.split(e.toLowerCase(),/\\W+/);return i.default.chain(t).filter(function(t){var a=0===e.trim().length,o=i.default.every(n,function(e){return t.searchStr.indexOf(e)>=0});return a||o}).flatMap(\"nodePath\").uniqBy(function(e){return e.id}).value()},t.populateParents=a,t.buildHierarchies=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i.default.reject(a(e,t),function(e){return e.parent})},t.indexHierarchyByKey=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.id};var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.default.forEach(t,function(t){a[n(t)]=t,e(t.children,n,a)});return a},t.groupHierarchyByKey=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.id};var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.default.forEach(t,function(t){var i=n(t),o=a[i]||[];o.push(t),a[i]=o,e(t.children,n,a)});return a},t.flattenChildren=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];i.default.forEach(t.children||[],function(t){n.push(t),e(t,n)});return n},t.switchToParentIds=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i.default.each(t,function(t){t.parent=t.parent?t.parent.id:null,e(t.children)});return t},t.findNode=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var n=arguments[1];var a=i.default.find(t,{id:n});if(a)return a;for(var o=0;o<t.length;o++){var r=e(t[o].children,n);if(r)return r}return null},t.getParents=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.parent};if(!e)return[];var n=t(e),i=[];for(;n;)i.push(n),n=t(n);return i};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=i.default.chain(i.default.cloneDeep(e)).map(function(e){return i.default.merge(e,{children:[],parent:null})}).keyBy(\"id\").value();return i.default.each(i.default.values(n),function(e){if(e.parentId){var i=n[e.parentId];i&&(i.children.push(e),e.parent=t?i:i.id)}}),i.default.values(n)}},264:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.dataFormatKind={BINARY:{key:\"BINARY\",name:\"Binary\",icon:null,description:null,position:10},DATABASE:{key:\"DATABASE\",name:\"Database\",icon:null,description:null,position:20},FLAT_FILE:{key:\"FLAT_FILE\",name:\"Flat File\",icon:null,description:null,position:30},JSON:{key:\"JSON\",name:\"JSON\",icon:null,description:null,position:40},OTHER:{key:\"OTHER\",name:\"Other\",icon:null,description:null,position:50},UNKNOWN:{key:\"UNKNOWN\",name:\"Unknown\",icon:null,description:null,position:60},UNSTRUCTURED:{key:\"UNSTRUCTURED\",name:\"Unstructured\",icon:null,description:null,position:70},XML:{key:\"XML\",name:\"XML\",icon:null,description:null,position:80}}},265:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.frequencyKind={ON_DEMAND:{key:\"ON_DEMAND\",name:\"On Demand\",icon:null,description:null,position:10},REAL_TIME:{key:\"REAL_TIME\",name:\"Real Time\",icon:null,description:null,position:20},INTRA_DAY:{key:\"INTRA_DAY\",name:\"Intra-day\",icon:null,description:null,position:30},DAILY:{key:\"DAILY\",name:\"Daily\",icon:null,description:null,position:40},WEEKLY:{key:\"WEEKLY\",name:\"Weekly\",icon:null,description:null,position:50},MONTHLY:{key:\"MONTHLY\",name:\"Monthly\",icon:null,description:null,position:60},QUARTERLY:{key:\"QUARTERLY\",name:\"Quarterly\",icon:null,description:null,position:70},BIANNUALLY:{key:\"BIANNUALLY\",name:\"Biannually\",icon:null,description:null,position:80},YEARLY:{key:\"YEARLY\",name:\"Yearly\",icon:null,description:null,position:90},UNKNOWN:{key:\"UNKNOWN\",name:\"Unknown\",icon:null,description:null,position:100}}},266:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.investmentRating={R:{key:\"R\",name:\"Disinvest\",icon:null,description:null,position:10},A:{key:\"A\",name:\"Maintain\",icon:null,description:null,position:20},G:{key:\"G\",name:\"Invest\",icon:null,description:null,position:30},Z:{key:\"Z\",name:\"Unknown\",icon:null,description:null,position:40}}},267:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.rollupKind={SUM_BY_VALUE:{key:\"SUM_BY_VALUE\",name:\"Sum\",icon:null,description:null,position:10},AVG_BY_VALUE:{key:\"AVG_BY_VALUE\",name:\"Average\",icon:null,description:null,position:20},COUNT_BY_ENTITY:{key:\"COUNT_BY_ENTITY\",name:\"Count\",icon:null,description:null,position:30},NONE:{key:\"NONE\",name:\"Value\",icon:null,description:null,position:40}}},268:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.transportKind={DATABASE_CONNECTION:{key:\"DATABASE_CONNECTION\",name:\"Database Connection\",icon:null,description:null,position:10},EMAIL:{key:\"EMAIL\",name:\"Email\",icon:null,description:null,position:20},FILE_TRANSPORT:{key:\"FILE_TRANSPORT\",name:\"File Transport\",icon:null,description:null,position:30},FILE_SHARE:{key:\"FILE_SHARE\",name:\"File Share\",icon:null,description:null,position:40},MANUAL:{key:\"MANUAL\",name:\"Manual\",icon:null,description:null,position:45},MESSAGING:{key:\"MESSAGING\",name:\"Messaging\",icon:null,description:null,position:50},OTHER:{key:\"OTHER\",name:\"Other\",icon:null,description:null,position:60},RPC:{key:\"RPC\",name:\"Remote Procedure Call\",icon:null,description:null,position:70},UDP:{key:\"UDP\",name:\"UDP\",icon:null,description:null,position:80},UNKNOWN:{key:\"UNKNOWN\",name:\"Unknown\",icon:null,description:null,position:90},WEB:{key:\"WEB\",name:\"Web\",icon:null,description:null,position:100}}},27:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.mkEnumGridCell=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{field:t,displayName:e,cellTemplate:'\\n            <div class=\"ui-grid-cell-contents\">\\n                <waltz-enum-value type=\"\\'AuthoritativenessRating\\'\"\\n                                  show-icon=\"'+n+'\"\\n                                  key=\"COL_FIELD\">\\n                </waltz-enum-value>\\n            </div>'}},t.mkEntityLinkGridCell=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"left\";return{field:t+\".name\",displayName:e,cellTemplate:'\\n            <div class=\"ui-grid-cell-contents\">\\n                <waltz-entity-link entity-ref=\"row.entity.'+t+'\" \\n                                   icon-placement=\"\\''+n+\"'\\\">\\n                </waltz-entity-link>\\n            </div>\"}},t.mkLinkGridCell=function(e,t,n,i){return{field:t,displayName:e,cellTemplate:'<div class=\"ui-grid-cell-contents\">\\n<a ui-sref=\"'+i+\" ({ id: row.entity.\"+n+' })\" ng-bind=\"COL_FIELD\">\\n</a>\\n</div>'}}},271:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.currenciesByCode={AFN:{text:\"Afghani\",fraction:2,symbol:\"؋\"},EUR:{text:\"Euro\",fraction:2,symbol:\"€\"},ALL:{text:\"Lek\",fraction:2,symbol:\"Lek\"},DZD:{text:\"Algerian Dinar\",fraction:2,symbol:\"د.ج\"},USD:{text:\"US Dollar\",fraction:2,symbol:\"$\"},AOA:{text:\"Kwanza\",fraction:2,symbol:\"Kz\"},XCD:{text:\"East Caribbean Dollar\",fraction:2,symbol:\"$\"},ARS:{text:\"Argentine Peso\",fraction:2,symbol:\"$\"},AMD:{text:\"Armenian Dram\",fraction:2,symbol:!1},AWG:{text:\"Aruban Florin\",fraction:2,symbol:\"ƒ\"},AUD:{text:\"Australian Dollar\",fraction:2,symbol:\"$\"},AZN:{text:\"Azerbaijanian Manat\",fraction:2,symbol:\"ман\"},BSD:{text:\"Bahamian Dollar\",fraction:2,symbol:\"$\"},BHD:{text:\"Bahraini Dinar\",fraction:3,symbol:\"BD\"},BDT:{text:\"Taka\",fraction:2,symbol:\"৳\"},BBD:{text:\"Barbados Dollar\",fraction:2,symbol:\"$\"},BYR:{text:\"Belarussian Ruble\",fraction:0,symbol:\"p.\"},BZD:{text:\"Belize Dollar\",fraction:2,symbol:\"BZ$\"},XOF:{text:\"CF Franc BCEAO\",fraction:0,symbol:\"CFA\"},BMD:{text:\"Bermudian Dollar\",fraction:2,symbol:\"$\"},BTN:{text:\"Ngultrum\",fraction:2,symbol:\"Nu\"},INR:{text:\"Indian Rupee\",fraction:2,symbol:\"₹\"},BOB:{text:\"Boliviano\",fraction:2,symbol:\"$b\"},BOV:{text:\"Mvdol\",fraction:2,symbol:\"$b\"},BAM:{text:\"Convertible Mark\",fraction:2,symbol:\"KM\"},BWP:{text:\"Pula\",fraction:2,symbol:\"P\"},NOK:{text:\"Norwegian Krone\",fraction:2,symbol:\"kr\"},BRL:{text:\"Brazilian Real\",fraction:2,symbol:\"R$\"},BND:{text:\"Brunei Dollar\",fraction:2,symbol:\"$\"},BGN:{text:\"Bulgarian Lev\",fraction:2,symbol:\"лв\"},BIF:{text:\"Burundi Franc\",fraction:0,symbol:\"BIF\"},KHR:{text:\"Riel\",fraction:2,symbol:\"៛\"},XAF:{text:\"CF Franc BEAC\",fraction:0,symbol:!1},CAD:{text:\"Canadian Dollar\",fraction:2,symbol:\"$\"},CVE:{text:\"Cabo Verde Escudo\",fraction:2,symbol:\"$\"},KYD:{text:\"Cayman Islands Dollar\",fraction:2,symbol:\"$\"},CLF:{text:\"Unidad de Fomento\",fraction:4,symbol:!1},CLP:{text:\"Chilean Peso\",fraction:0,symbol:\"$\"},CNY:{text:\"Yuan Renminbi\",fraction:2,symbol:\"¥\"},COP:{text:\"Colombian Peso\",fraction:2,symbol:\"$\"},COU:{text:\"Unidad de Valor Real\",fraction:2,symbol:!1},KMF:{text:\"Comoro Franc\",fraction:0,symbol:!1},CDF:{text:\"Congolese Franc\",fraction:2,symbol:!1},NZD:{text:\"New Zealand Dollar\",fraction:2,symbol:\"$\"},CRC:{text:\"Cost Rican Colon\",fraction:2,symbol:\"₡\"},HRK:{text:\"Croatian Kuna\",fraction:2,symbol:\"kn\"},CUC:{text:\"Peso Convertible\",fraction:2,symbol:!1},CUP:{text:\"Cuban Peso\",fraction:2,symbol:\"₱\"},ANG:{text:\"Netherlands Antillean Guilder\",fraction:2,symbol:\"ƒ\"},CZK:{text:\"Czech Koruna\",fraction:2,symbol:\"Kč\"},DKK:{text:\"Danish Krone\",fraction:2,symbol:\"kr\"},DJF:{text:\"Djibouti Franc\",fraction:0,symbol:!1},DOP:{text:\"Dominican Peso\",fraction:2,symbol:\"RD$\"},EGP:{text:\"Egyptian Pound\",fraction:2,symbol:\"£\"},SVC:{text:\"El Salvador Colon\",fraction:2,symbol:\"$\"},ERN:{text:\"Nakfa\",fraction:2,symbol:!1},ETB:{text:\"Ethiopian Birr\",fraction:2,symbol:!1},FKP:{text:\"Falkland Islands Pound\",fraction:2,symbol:\"£\"},FJD:{text:\"Fiji Dollar\",fraction:2,symbol:\"$\"},XPF:{text:\"CFP Franc\",fraction:0,symbol:!1},GMD:{text:\"Dalasi\",fraction:2,symbol:!1},GEL:{text:\"Lari\",fraction:2,symbol:!1},GHS:{text:\"Ghan Cedi\",fraction:2,symbol:!1},GIP:{text:\"Gibraltar Pound\",fraction:2,symbol:\"£\"},GTQ:{text:\"Quetzal\",fraction:2,symbol:\"Q\"},GBP:{text:\"Pound Sterling\",fraction:2,symbol:\"£\"},GNF:{text:\"Guine Franc\",fraction:0,symbol:!1},GYD:{text:\"Guyan Dollar\",fraction:2,symbol:\"$\"},HTG:{text:\"Gourde\",fraction:2,symbol:!1},HNL:{text:\"Lempira\",fraction:2,symbol:\"L\"},HKD:{text:\"Hong Kong Dollar\",fraction:2,symbol:\"$\"},HUF:{text:\"Forint\",fraction:2,symbol:\"Ft\"},ISK:{text:\"Iceland Krona\",fraction:0,symbol:\"kr\"},IDR:{text:\"Rupiah\",fraction:2,symbol:\"Rp\"},XDR:{text:\"SDR (Special Drawing Right)\",fraction:0,symbol:!1},IRR:{text:\"Iranian Rial\",fraction:2,symbol:\"﷼\"},IQD:{text:\"Iraqi Dinar\",fraction:3,symbol:!1},ILS:{text:\"New Israeli Sheqel\",fraction:2,symbol:\"₪\"},JMD:{text:\"Jamaican Dollar\",fraction:2,symbol:\"J$\"},JPY:{text:\"Yen\",fraction:0,symbol:\"¥\"},JOD:{text:\"Jordanian Dinar\",fraction:3,symbol:!1},KZT:{text:\"Tenge\",fraction:2,symbol:\"лв\"},KES:{text:\"Kenyan Shilling\",fraction:2,symbol:!1},KPW:{text:\"North Korean Won\",fraction:2,symbol:\"₩\"},KRW:{text:\"Won\",fraction:0,symbol:\"₩\"},KWD:{text:\"Kuwaiti Dinar\",fraction:3,symbol:!1},KGS:{text:\"Som\",fraction:2,symbol:\"лв\"},LAK:{text:\"Kip\",fraction:2,symbol:\"₭\"},LBP:{text:\"Lebanese Pound\",fraction:2,symbol:\"£\"},LSL:{text:\"Loti\",fraction:2,symbol:!1},ZAR:{text:\"Rand\",fraction:2,symbol:\"R\"},LRD:{text:\"Liberian Dollar\",fraction:2,symbol:\"$\"},LYD:{text:\"Libyan Dinar\",fraction:3,symbol:!1},CHF:{text:\"Swiss Franc\",fraction:2,symbol:\"CHF\"},LTL:{text:\"Lithuanian Litas\",fraction:2,symbol:\"Lt\"},MOP:{text:\"Pataca\",fraction:2,symbol:!1},MKD:{text:\"Denar\",fraction:2,symbol:\"ден\"},MGA:{text:\"Malagasy riary\",fraction:2,symbol:!1},MWK:{text:\"Kwacha\",fraction:2,symbol:!1},MYR:{text:\"Malaysian Ringgit\",fraction:2,symbol:\"RM\"},MVR:{text:\"Rufiyaa\",fraction:2,symbol:!1},MRO:{text:\"Ouguiya\",fraction:2,symbol:!1},MUR:{text:\"Mauritius Rupee\",fraction:2,symbol:\"₨\"},XUA:{text:\"ADB Unit of ccount\",fraction:0,symbol:!1},MXN:{text:\"Mexican Peso\",fraction:2,symbol:\"$\"},MXV:{text:\"Mexican Unidad de Inversion (UDI)\",fraction:2,symbol:!1},MDL:{text:\"Moldovan Leu\",fraction:2,symbol:!1},MNT:{text:\"Tugrik\",fraction:2,symbol:\"₮\"},MAD:{text:\"Moroccan Dirham\",fraction:2,symbol:!1},MZN:{text:\"Mozambique Metical\",fraction:2,symbol:\"MT\"},MMK:{text:\"Kyat\",fraction:2,symbol:!1},NAD:{text:\"Namibi Dollar\",fraction:2,symbol:\"$\"},NPR:{text:\"Nepalese Rupee\",fraction:2,symbol:\"₨\"},NIO:{text:\"Cordob Oro\",fraction:2,symbol:\"C$\"},NGN:{text:\"Naira\",fraction:2,symbol:\"₦\"},OMR:{text:\"Rial Omani\",fraction:3,symbol:\"﷼\"},PKR:{text:\"Pakistan Rupee\",fraction:2,symbol:\"₨\"},PAB:{text:\"Balboa\",fraction:2,symbol:\"B/.\"},PGK:{text:\"Kina\",fraction:2,symbol:\"K\"},PYG:{text:\"Guarani\",fraction:0,symbol:\"Gs\"},PEN:{text:\"Nuevo Sol\",fraction:2,symbol:\"S/.\"},PHP:{text:\"Philippine Peso\",fraction:2,symbol:\"₱\"},PLN:{text:\"Zloty\",fraction:2,symbol:\"zł\"},QAR:{text:\"Qatari Rial\",fraction:2,symbol:\"﷼\"},RON:{text:\"New Romanian Leu\",fraction:2,symbol:\"lei\"},RUB:{text:\"Russian Ruble\",fraction:2,symbol:\"руб\"},RWF:{text:\"Rwand Franc\",fraction:0,symbol:\"R₣\"},SHP:{text:\"Saint Helen Pound\",fraction:2,symbol:\"£\"},WST:{text:\"Tala\",fraction:2,symbol:\"$\"},STD:{text:\"Dobra\",fraction:2,symbol:!1},SAR:{text:\"Saudi Riyal\",fraction:2,symbol:\"﷼\"},RSD:{text:\"Serbian Dinar\",fraction:2,symbol:\"Дин.\"},SCR:{text:\"Seychelles Rupee\",fraction:2,symbol:\"₨\"},SLL:{text:\"Leone\",fraction:2,symbol:\"Le\"},SGD:{text:\"Singapore Dollar\",fraction:2,symbol:\"$\"},XSU:{text:\"Sucre\",fraction:0,symbol:!1},SBD:{text:\"Solomon Islands Dollar\",fraction:2,symbol:\"$\"},SOS:{text:\"Somali Shilling\",fraction:2,symbol:\"S\"},SSP:{text:\"South Sudanese Pound\",fraction:2,symbol:!1},LKR:{text:\"Sri Lank Rupee\",fraction:2,symbol:\"₨\"},SDG:{text:\"Sudanese Pound\",fraction:2,symbol:!1},SRD:{text:\"Surinam Dollar\",fraction:2,symbol:\"$\"},SZL:{text:\"Lilangeni\",fraction:2,symbol:!1},SEK:{text:\"Swedish Krona\",fraction:2,symbol:\"kr\"},CHE:{text:\"WIR Euro\",fraction:2,symbol:!1},CHW:{text:\"WIR Franc\",fraction:2,symbol:!1},SYP:{text:\"Syrian Pound\",fraction:2,symbol:\"£\"},TWD:{text:\"New Taiwan Dollar\",fraction:2,symbol:\"NT$\"},TJS:{text:\"Somoni\",fraction:2,symbol:!1},TZS:{text:\"Tanzanian Shilling\",fraction:2,symbol:!1},THB:{text:\"Baht\",fraction:2,symbol:\"฿\"},TOP:{text:\"Pa’anga\",fraction:2,symbol:!1},TTD:{text:\"Trinidad nd Tobago Dollar\",fraction:2,symbol:\"TT$\"},TND:{text:\"Tunisian Dinar\",fraction:3,symbol:!1},TRY:{text:\"Turkish Lira\",fraction:2,symbol:\"₺\"},TMT:{text:\"Turkmenistan New Manat\",fraction:2,symbol:!1},UGX:{text:\"Ugand Shilling\",fraction:0,symbol:!1},UAH:{text:\"Hryvnia\",fraction:2,symbol:\"₴\"},AED:{text:\"UAE Dirham\",fraction:2,symbol:!1},USN:{text:\"US Dollar (Next day)\",fraction:2,symbol:!1},UYI:{text:\"Uruguay Peso en Unidades Indexadas (URUIURUI)\",fraction:0,symbol:!1},UYU:{text:\"Peso Uruguayo\",fraction:2,symbol:\"$U\"},UZS:{text:\"Uzbekistan Sum\",fraction:2,symbol:\"лв\"},VUV:{text:\"Vatu\",fraction:0,symbol:!1},VEF:{text:\"Bolivar\",fraction:2,symbol:\"Bs\"},VND:{text:\"Dong\",fraction:0,symbol:\"₫\"},YER:{text:\"Yemeni Rial\",fraction:2,symbol:\"﷼\"},ZMW:{text:\"Zambian Kwacha\",fraction:2,symbol:!1},ZWL:{text:\"Zimbabwe Dollar\",fraction:2,symbol:\"$\"}}},29:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.enums=t.applicationRating=t.capabilityRating=void 0,t.getEnumName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return e[t]?e[t].name:t},t.toOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.default.chain(e).map(function(e,t){return{name:e.name,code:t,position:e.position}}).sortBy([\"position\",\"name\"]).reject(function(e){return\"UNKNOWN\"===e.code&&t}).value()},t.toGridOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.map(e,function(e,t){return{label:e.name,value:t}})};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),a=n(686),o=n(107),r=n(687),l=n(688),c=n(689),s=n(108),u=n(148),d=n(264),p=n(109),f=n(80),m=n(690),y=n(691),v=n(265),g=n(692),h=n(266),b=n(693),S=n(88),w=n(694),A=n(695),I=n(696),D=n(697),E=n(149),T=n(150),O=n(267),k=n(698),R=n(699),_=n(700),P=n(701),C=n(702),N=n(703),x=n(268);var M=t.capabilityRating=h.investmentRating,$=t.applicationRating=h.investmentRating;t.enums={action:a.action,applicationKind:o.applicationKind,applicationRating:$,appGroupKind:r.appGroupKind,attestationType:l.attestationType,BOOLEAN:c.BOOLEAN,capabilityRating:M,entityLifecycleStatus:y.entityLifecycleStatus,investmentRating:h.investmentRating,lifecyclePhase:S.lifecyclePhase,orgUnitKind:I.orgUnitKind,severity:k.severity,entity:f.entity,changeInitiative:u.changeInitiative,entityStatistic:m.entityStatistic,hierarchyQueryScope:g.hierarchyQueryScope,usageKind:A.usageKind,criticality:s.criticality,rollupKind:O.rollupKind,endOfLifeStatus:p.endOfLifeStatus,transportKind:x.transportKind,frequencyKind:v.frequencyKind,dataFormatKind:d.dataFormatKind,lifecycleStatus:w.lifecycleStatus,fieldDataType:C.fieldDataType,physicalSpecDefinitionType:N.physicalSpecDefinitionType,rag:D.rag,relationshipKind:E.relationshipKind,surveyInstanceStatus:R.surveyInstanceStatus,releaseLifecycleStatus:T.releaseLifecycleStatus,surveyRunStatus:P.surveyRunStatus,surveyQuestionFieldType:_.surveyQuestionFieldType,issuance:b.issuance}},31:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=t.dynamicSections={appsSection:{componentId:\"apps-section\",name:\"Applications\",icon:\"desktop\",id:1},assetCostsSection:{componentId:\"asset-costs-section\",name:\"Costs\",icon:\"money\",id:2},appCostsSection:{componentId:\"app-costs-section\",name:\"Costs\",icon:\"money\",id:3},authSourcesSection:{componentId:\"auth-sources-section\",name:\"Authoritative Sources\",icon:\"shield\",id:4},bookmarksSection:{componentId:\"bookmarks-section\",name:\"Bookmarks\",icon:\"rocket\",id:5},changeInitiativeSection:{componentId:\"change-initiative-section\",name:\"Change Initiatives\",icon:\"paper-plane-o\",id:6},changeLogSection:{componentId:\"change-log-section\",icon:\"history\",name:\"Changes\",id:7},complexitySection:{componentId:\"complexity-section\",icon:\"sort-numeric-asc\",name:\"Complexity\",id:8},dataFlowSection:{componentId:\"data-flow-section\",name:\"Data Flows\",icon:\"random\",id:9},entityNamedNotesSection:{componentId:\"entity-named-notes-section\",name:\"Notes\",icon:\"sticky-note-o\",id:10},entityStatisticSection:{componentId:\"entity-statistic-section\",name:\"Indicators\",icon:\"pie-chart\",id:11},involvedPeopleSection:{componentId:\"involved-people-section\",name:\"People\",icon:\"users\",id:13},logicalFlowsTabgroupSection:{componentId:\"logical-flows-tabgroup-section\",name:\"Logical Flows\",icon:\"random\",id:14},measurableRatingAppSection:{componentId:\"measurable-rating-app-section\",name:\"Ratings\",icon:\"puzzle-piece\",id:15},measurableRatingsBrowserSection:{componentId:\"measurable-ratings-browser-section\",name:\"Ratings\",icon:\"star-half-o\",id:16},surveySection:{componentId:\"survey-section\",name:\"Surveys\",icon:\"wpforms\",id:17},technologySection:{componentId:\"technology-section\",name:\"Technology\",icon:\"server\",id:18},technologySummarySection:{componentId:\"technology-summary-section\",name:\"Technologies\",icon:\"server\",id:19},entityStatisticSummarySection:{componentId:\"entity-statistic-summary-section\",name:\"Indicators\",icon:\"pie-chart\",id:20},measurableRatingExplorerSection:{componentId:\"measurable-rating-explorer-section\",name:\"Ratings\",icon:\"star-half-o\",id:21},relatedMeasurablesSection:{componentId:\"related-measurables-section\",name:\"Related Viewpoints\",icon:\"link\",id:22},relatedDataTypesSection:{componentId:\"related-data-type-section\",name:\"Related Types\",icon:\"qrcode\",id:23},relatedAppsSection:{componentId:\"related-apps-section\",name:\"Related Apps\",icon:\"desktop\",id:24},relatedAppGroupsSection:{componentId:\"related-app-groups-section\",name:\"Related Groups\",icon:\"object-group\",id:25},personHierarchySection:{componentId:\"person-hierarchy-section\",name:\"Hierarchy\",icon:\"address-book-o\",id:26},personAppsSection:{componentId:\"person-apps-section\",name:\"Applications\",icon:\"desktop\",id:27},dataTypeOriginatorsSection:{componentId:\"data-type-originators\",name:\"Originators\",icon:\"inbox\",id:28},dataTypeFlowSection:{componentId:\"data-type-flow-section\",name:\"Data Flows\",icon:\"random\",id:29},changeInitiativeNavigatorSection:{componentId:\"change-initiative-navigator-section\",name:\"Change Initiatives\",icon:\"paper-plane-o\",id:30},relatedPhysicalFieldSection:{componentId:\"related-physical-spec-defn-field-section\",name:\"Physical Fields\",icon:\"file-code-o\",id:40},relatedOrgUnitSection:{componentId:\"related-org-unit-section\",name:\"Organisation Units\",icon:\"sitemap\",id:50},entityDiagramsSection:{componentId:\"entity-diagrams-section\",name:\"Diagrams\",icon:\"picture-o\",id:12}};t.dynamicSectionsByKind={APPLICATION:[i.measurableRatingAppSection,i.entityNamedNotesSection,i.bookmarksSection,i.involvedPeopleSection,i.changeInitiativeSection,i.entityDiagramsSection,i.dataFlowSection,i.technologySection,i.appCostsSection,i.entityStatisticSection,i.surveySection,i.changeLogSection],ACTOR:[i.measurableRatingAppSection,i.bookmarksSection,i.entityNamedNotesSection,i.involvedPeopleSection,i.changeInitiativeSection,i.entityDiagramsSection,i.dataFlowSection,i.appsSection,i.technologySummarySection,i.changeLogSection],CHANGE_INITIATIVE:[i.bookmarksSection,i.changeInitiativeNavigatorSection,i.entityNamedNotesSection,i.involvedPeopleSection,i.relatedMeasurablesSection,i.relatedAppsSection,i.relatedAppGroupsSection,i.relatedDataTypesSection,i.entityStatisticSummarySection,i.technologySummarySection,i.surveySection,i.entityDiagramsSection,i.logicalFlowsTabgroupSection,i.entityStatisticSummarySection,i.changeLogSection],ORG_UNIT:[i.measurableRatingsBrowserSection,i.logicalFlowsTabgroupSection,i.authSourcesSection,i.changeInitiativeSection,i.complexitySection,i.involvedPeopleSection,i.appsSection,i.entityStatisticSummarySection,i.technologySummarySection,i.assetCostsSection,i.bookmarksSection,i.changeLogSection],MEASURABLE:[i.entityNamedNotesSection,i.measurableRatingExplorerSection,i.relatedMeasurablesSection,i.bookmarksSection,i.involvedPeopleSection,i.logicalFlowsTabgroupSection,i.appsSection,i.authSourcesSection,i.entityStatisticSummarySection,i.complexitySection,i.technologySummarySection,i.assetCostsSection,i.entityDiagramsSection,i.changeLogSection],PERSON:[i.personHierarchySection,i.personAppsSection,i.bookmarksSection,i.changeInitiativeSection,i.logicalFlowsTabgroupSection,i.authSourcesSection,i.entityStatisticSummarySection,i.assetCostsSection,i.complexitySection,i.technologySummarySection,i.changeLogSection],DATA_TYPE:[i.entityNamedNotesSection,i.bookmarksSection,i.involvedPeopleSection,i.authSourcesSection,i.dataTypeOriginatorsSection,i.dataTypeFlowSection,i.changeLogSection],APP_GROUP:[i.changeInitiativeSection,i.measurableRatingsBrowserSection,i.logicalFlowsTabgroupSection,i.authSourcesSection,i.appsSection,i.relatedAppGroupsSection,i.entityStatisticSummarySection,i.complexitySection,i.technologySummarySection,i.assetCostsSection,i.bookmarksSection,i.entityNamedNotesSection,i.relatedDataTypesSection,i.relatedMeasurablesSection,i.changeLogSection],SCENARIO:[i.changeInitiativeSection,i.logicalFlowsTabgroupSection,i.appsSection,i.entityStatisticSummarySection,i.complexitySection,i.technologySummarySection,i.assetCostsSection,i.bookmarksSection,i.entityNamedNotesSection,i.changeLogSection]}},39:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.truncate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"...\";if(!e)return\"\";if(e.length<=t)return e;var i=n.length,a=t-i;return e.substr(0,a)+n},t.truncateMiddle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\" ... \";if(e.length<=t)return e;var i=n.length,a=t-i,o=Math.ceil(a/2),r=Math.floor(a/2),l=e.substr(0,o),c=e.substr(e.length-r);return l+n+c},t.stringToBoolean=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";switch(e.toLowerCase().trim()){case\"true\":case\"yes\":case\"1\":return!0;case\"false\":case\"no\":case\"0\":case null:case void 0:return!1;default:return Boolean(e)}},t.toDomain=function(e){var t=void 0;t=e.indexOf(\"://\")>-1?e.split(\"/\")[2]:e.indexOf(\"mailto:\")>-1?e.split(\"mailto:\")[1]:e.split(\"/\")[0];return t=t.split(\":\")[0]},t.escapeRegexCharacters=function(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")},t.numberFormatter=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[{value:1e12,symbol:\"T\"},{value:1e9,symbol:\"B\"},{value:1e6,symbol:\"M\"},{value:1e3,symbol:\"k\"}];if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])return e.toFixed(t).replace(/\\.?0+$/,\"\");for(var i=0;i<n.length;i++)if(e>=n[i].value)return(e/n[i].value).toFixed(t).replace(/\\.?0+$/,\"\")+n[i].symbol;return e},t.toPercentage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return 0===t?\"-\":Number((e/t*100).toFixed(n)).toString()}},390:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.findUnknownDataType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=i.default.find(e,function(e){return e.unknown});if(!t)throw\"Unknown data type not found!\";return t};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1))},391:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=[{displayName:\"Consumer\",kind:\"CONSUMER\",nameDescription:\"A consumer is an application that acquires data from an upstream source\",readOnly:!0,readOnlyDescription:\"This value is derived from the presence of <strong>incoming</strong> flows\"},{displayName:\"Distributor\",kind:\"DISTRIBUTOR\",nameDescription:\"A distributor is an application that provides data to one or more downstream applications\",readOnly:!0,readOnlyDescription:\"This value is derived from the presence of <strong>outgoing</strong> flows\"},{displayName:\"Modifier\",kind:\"MODIFIER\",nameDescription:\"A modifier is an application that changes the data acquired from an upstream source. Changes may be as a result of an application function or direct manipulation in a GUI\",readOnly:!1,readOnlyDescription:\"\"},{displayName:\"Originator / Manual Entry\",kind:\"ORIGINATOR\",nameDescription:\"An originator is an application that captures data via a GUI or other input type (e.g. scanner, smartphone, card reader)\",readOnly:!0,readOnlyDescription:\"This value is derived from the presence of <strong>outgoing</strong> flows without any corresponding incoming flows\"}]},392:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.dyamicSectionNavigationDefaultOffset=void 0;var i=c(n(1)),a=n(0),o=c(n(945)),r=n(30),l=n(10);function c(e){return e&&e.__esModule?e:{default:e}}var s={sections:[],offset:t.dyamicSectionNavigationDefaultOffset=250,stickyVisible:!1,onSelect:function(e){return console.log(\"default on-select handler for dynamic-section-navigation: \",e)}};function u(e,t){var n=(0,a.initialiseData)(this,s),o=(0,r.scaleLinear)().range([(0,l.rgb)(\"#ffc46e\"),(0,l.rgb)(\"#ffffff\")]),c=function(){e.$applyAsync(function(){n.stickyVisible=t.pageYOffset>n.offset})};n.$onInit=function(){angular.element(t).on(\"scroll\",i.default.throttle(c,100))},n.$onDestroy=function(){angular.element(t).off(\"scroll\",c)},n.$onChanges=function(){o.domain([0,i.default.get(n,[\"availableSections\",\"length\"],1)/2.5]),n.sections=i.default.map(n.availableSections,function(e){var t=i.default.findIndex(n.openSections,function(t){return t.id===e.id}),a={\"border-bottom\":\"2px solid \"+(t>-1?(0,l.rgb)(o(t)):(0,l.rgb)(255,255,255)).toString()};return Object.assign({},e,{style:a})})},n.scrollAndSelectSection=function(e){(0,a.invokeFunction)(n.onSelect,e),t.scrollTo(0,n.offset)}}u.$inject=[\"$scope\",\"$window\"];var d={template:o.default,bindings:{availableSections:\"<\",openSections:\"<\",parentEntityRef:\"<\",onSelect:\"<\",offset:\"@?\"},controller:u};t.default={component:d,id:\"waltzDynamicSectionNavigation\"}},396:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.severityToBootstrapAlertClass=function(e){return o(e).bootstrapClass},t.severityToBootstrapBtnClass=function(e){return\"btn-\"+o(e).bootstrapClass},t.findHighestSeverity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _.maxBy(e,function(e){return _.get(i,[e],a).score})};var i={INFORMATION:{bootstrapClass:\"info\",score:0},WARNING:{bootstrapClass:\"warning\",score:1},ERROR:{bootstrapClass:\"danger\",score:2}},a=i.INFORMATION;function o(e){return _.get(i,[e],a)}},44:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.responsivefy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"both\",n=(0,a.select)(e.node().parentNode),i=\"resize.\"+n.attr(\"id\"),r=parseInt(e.style(\"width\")),l=parseInt(e.style(\"height\")),c=r/l,s=function(){var i=parseInt(n.style(\"width\"));o.default.isNaN(i)||(e.attr(\"width\",i),\"both\"===t&&e.attr(\"height\",Math.round(i/c)))};e.attr(\"viewBox\",\"0 0 \"+r+\" \"+l),\"both\"===t&&e.attr(\"perserveAspectRatio\",\"xMinYMid\");return e.call(s),(0,a.select)(window).on(i,s),function(){return(0,a.select)(window).on(i,null)}},t.lineWithArrowPath=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return e.attr(\"d\",function(e){return r(e.source.x,e.source.y,e.target.x,e.target.y,t)})},t.mkLineWithArrowPath=r,t.mkCurvedLine=function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,o=n-e,r=i-t,l=Math.sqrt(o*o+r*r);return\"M\"+e+\" \"+t+\" \\n            A\"+l*a+\",\"+l*a+\" 0 0,1 \"+n+\",\"+i},t.wrapText=function(e,t){e.each(function(){for(var e=(0,a.select)(this),n=e.text().split(/\\s+/).reverse(),o=[],r=0,l=e.attr(\"y\"),c=void 0,s=e.text(null).append(\"tspan\").attr(\"x\",0).attr(\"y\",l);c=n.pop();){o.push(c),s.text(o.join(\" \"));var u=(0,i.perhaps)(function(){return s.node().getComputedTextLength()},150);u>t&&(r++,o.pop(),s.text(o.join(\" \")),o=[c],s=e.append(\"tspan\").attr(\"x\",0).attr(\"y\",1.1*r+.1+\"em\").text(c))}})},t.truncateText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:130;return e.each(function(){var e=(0,a.select)(this);setTimeout(function(){for(var n=e.node().getComputedTextLength(),i=e.text();n>t&&i.length>0;)0,i=i.slice(0,-1),e.text(i+\"...\"),n=e.node().getComputedTextLength()},10)})},t.createGroupElements=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return o.default.forEach(t,function(t){return function e(t,i){var a=t.append(\"g\").classed(i.name,!0);o.default.forEach(i.attrs,function(e,t){return a.attr(t,e)}),n[i.name]=a,o.default.forEach(i.children||[],function(t){return e(a,t)})}(e,t)}),n},t.toPath=function(e){return o.default.reduce(e,function(e,t,n){return e+(0==n?\"M\":\"L\")+t.x+\" \"+t.y+\" \"},\"\")+\"Z\"};var i=n(0),a=n(5),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function r(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2,o=n-e,r=i-t,l=Math.atan2(r,o),c=Math.PI/2,s=Math.sqrt(o*o+r*r)*a-7,u=n-s/2*Math.cos(l),d=i-s/2*Math.sin(l);return\"M\"+e+\",\"+t+\" \\n            l\"+o+\" \"+r+\"\\n            M\"+u+\",\"+d+\"\\n            l\"+(3.5*Math.cos(c-l)-10*Math.cos(l))+\"\\n                ,\"+(-3.5*Math.sin(c-l)-10*Math.sin(l))+\"\\n            L\"+(u-3.5*Math.cos(c-l)-10*Math.cos(l))+\"\\n                ,\"+(d+3.5*Math.sin(c-l)-10*Math.sin(l))+\"\\n            z\"}},686:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.action={ADD:{key:\"ADD\",name:\"Add\",icon:null,description:null,position:10},REMOVE:{key:\"REMOVE\",name:\"Remove\",icon:null,description:null,position:10},NO_CHANGE:{key:\"NO_CHANGE\",name:\"No change\",icon:null,description:null,position:10}}},687:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.appGroupKind={PUBLIC:{key:\"PUBLIC\",name:\"Public\",icon:null,description:\"Visible to all users of Waltz\",position:10},PRIVATE:{key:\"PRIVATE\",name:\"Private\",icon:null,description:\"Visibility restricted to a subset of users\",position:20}}},688:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.attestationType={IMPLICIT:{key:\"IMPLICIT\",name:\"Implicit\",icon:null,description:null,position:10},EXPLICIT:{key:\"EXPLICIT\",name:\"Explicit\",icon:null,description:null,position:20}}},689:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.BOOLEAN={Unknown:{key:\"Unknown\",name:\"Unknown\",icon:\"question\",description:null,position:10},Exempt:{key:\"Exempt\",name:\"Exempt\",icon:\"ban\",description:null,position:20},Yes:{key:\"Yes\",name:\"Yes\",icon:\"check\",description:null,position:30},No:{key:\"No\",name:\"No\",icon:\"times\",description:null,position:40}}},690:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.entityStatistic={COMPLIANCE:{key:\"COMPLIANCE\",name:\"Compliance\",icon:\"exclamation-triangle\",description:null,position:10},GOVERNANCE:{key:\"GOVERNANCE\",name:\"Governance\",icon:\"balance-scale\",description:null,position:20},SECURITY:{key:\"SECURITY\",name:\"Security\",icon:\"unlock-alt\",description:null,position:30},REGULATORY:{key:\"REGULATORY\",name:\"Regulatory\",icon:\"registered\",description:null,position:40},DATA_QUALITY:{key:\"DATA_QUALITY\",name:\"Data Quality\",icon:\"exchange\",description:null,position:50},TECHNICAL:{key:\"TECHNICAL\",name:\"Technical\",icon:\"gears\",description:null,position:60}}},691:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.entityLifecycleStatus={ACTIVE:{key:\"ACTIVE\",name:\"Active\",icon:null,description:null,position:10},PENDING:{key:\"PENDING\",name:\"Pending\",icon:null,description:null,position:20},REMOVED:{key:\"REMOVED\",name:\"Removed\",icon:null,description:null,position:30}}},692:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.hierarchyQueryScope={EXACT:{key:\"EXACT\",name:\"Exact\",icon:null,description:null,position:10},PARENTS:{key:\"PARENTS\",name:\"Parents\",icon:null,description:null,position:30},CHILDREN:{key:\"CHILDREN\",name:\"Children\",icon:null,description:null,position:20}}},693:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.issuance={GROUP:{key:\"GROUP\",name:\"Group\",icon:null,description:null,position:10},INDIVIDUAL:{key:\"INDIVIDUAL\",name:\"Individual\",icon:null,description:null,position:20}}},694:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.lifecycleStatus={ACTIVE:{key:\"ACTIVE\",name:\"Active\",icon:null,description:null,position:10},BUILDING:{key:\"BUILDING\",name:\"Building\",icon:null,description:null,position:20},INACTIVE:{key:\"INACTIVE\",name:\"Inactive\",icon:null,description:null,position:30},RETIRING:{key:\"RETIRING\",name:\"Retiring\",icon:null,description:null,position:40},UNKNOWN:{key:\"UNKNOWN\",name:\"Unknown\",icon:null,description:null,position:50}}},695:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.usageKind={ORIGINATOR:{key:\"ORIGINATOR\",name:\"Originator\",icon:\"pencil\",description:null,position:10},DISTRIBUTOR:{key:\"DISTRIBUTOR\",name:\"Distributor\",icon:\"paper-plane-o\",description:null,position:20},CONSUMER:{key:\"CONSUMER\",name:\"Consumer\",icon:\"eye\",description:null,position:30},MODIFIER:{key:\"MODIFIER\",name:\"Modifier\",icon:\"pencil-square-o\",description:null,position:40}}},696:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.orgUnitKind={IT:{key:\"IT\",name:\"Information Technology\",icon:null,description:null,position:10},BUSINESS:{key:\"BUSINESS\",name:\"Business\",icon:null,description:null,position:20},CONTROL:{key:\"CONTROL\",name:\"Control\",icon:null,description:null,position:30}}},697:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.rag={R:{key:\"R\",name:\"R\",icon:\"times-circle\",description:null,position:10},A:{key:\"A\",name:\"A\",icon:\"question-circle\",description:null,position:20},G:{key:\"G\",name:\"G\",icon:\"check-circle\",description:null,position:30},Z:{key:\"Z\",name:\"Z\",icon:\"circle-o\",description:null,position:40}}},698:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.severity={INFORMATION:{key:\"INFORMATION\",name:\"Info\",icon:\"sitemap\",description:null,position:10},ERROR:{key:\"ERROR\",name:\"Error\",icon:\"sitemap\",description:null,position:20},WARNING:{key:\"WARNING\",name:\"Warning\",icon:\"sitemap\",description:null,position:30}}},699:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.surveyInstanceStatus={APPROVED:{key:\"APPROVED\",name:\"Approved\",icon:null,description:null,position:5},COMPLETED:{key:\"COMPLETED\",name:\"Completed\",icon:null,description:null,position:10},EXPIRED:{key:\"EXPIRED\",name:\"Expired\",icon:null,description:null,position:20},IN_PROGRESS:{key:\"IN_PROGRESS\",name:\"In Progress\",icon:null,description:null,position:30},NOT_STARTED:{key:\"NOT_STARTED\",name:\"Not Started\",icon:null,description:null,position:40},REJECTED:{key:\"REJECTED\",name:\"Rejected\",icon:null,description:null,position:50},WITHDRAWN:{key:\"WITHDRAWN\",name:\"Withdrawn\",icon:null,description:null,position:60}}},7:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.registerServices=t.registerService=t.registerStores=t.registerStore=t.registerComponents=t.registerComponent=void 0;var i=n(8),a=t.registerComponent=function(e,t){(0,i.ensureNotNull)(e,\"must provide a module\"),(0,i.checkIsComponentDefinition)(t),e.component(t.id,t.component)},o=(t.registerComponents=function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(t){return a(e,t)})},t.registerStore=function(e,t){(0,i.ensureNotNull)(e,\"must provide a module\"),(0,i.checkIsStoreDefinition)(t),e.service(t.serviceName,t.store)}),r=(t.registerStores=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,i.checkIsArray)(t,\"store definitions must be an array\"),t.forEach(function(t){return o(e,t)})},t.registerService=function(e,t){(0,i.ensureNotNull)(e,\"must provide a module\"),(0,i.checkIsServiceDefinition)(t),e.service(t.serviceName,t.service)});t.registerServices=function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(t){return r(e,t)})}},700:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.surveyQuestionFieldType={APPLICATION:{key:\"APPLICATION\",name:\"Application\",icon:null,description:null,position:10},BOOLEAN:{key:\"BOOLEAN\",name:\"Boolean\",icon:null,description:null,position:20},DATE:{key:\"DATE\",name:\"Date\",icon:null,description:null,position:25},DROPDOWN:{key:\"DROPDOWN\",name:\"Dropdown\",icon:null,description:null,position:30},NUMBER:{key:\"NUMBER\",name:\"Number\",icon:null,description:null,position:40},PERSON:{key:\"PERSON\",name:\"Person\",icon:null,description:null,position:50},TEXT:{key:\"TEXT\",name:\"Text\",icon:null,description:null,position:60},TEXTAREA:{key:\"TEXTAREA\",name:\"Text Area\",icon:null,description:null,position:70}}},701:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.surveyRunStatus={DRAFT:{key:\"DRAFT\",name:\"Draft\",icon:null,description:null,position:10},ISSUED:{key:\"ISSUED\",name:\"Issued\",icon:null,description:null,position:20},COMPLETED:{key:\"COMPLETED\",name:\"Completed\",icon:null,description:null,position:30}}},702:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.fieldDataType={DATE:{key:\"DATE\",name:\"Date\",icon:null,description:null,position:10},DECIMAL:{key:\"DECIMAL\",name:\"Decimal\",icon:null,description:null,position:20},INTEGER:{key:\"INTEGER\",name:\"Integer\",icon:null,description:null,position:30},STRING:{key:\"STRING\",name:\"String\",icon:null,description:null,position:40},BOOLEAN:{key:\"BOOLEAN\",name:\"Boolean\",icon:null,description:null,position:50},ENUM:{key:\"ENUM\",name:\"Enum\",icon:null,description:null,position:60},UNSPECIFIED:{key:\"UNSPECIFIED\",name:\"Unspecified\",icon:null,description:null,position:70}}},703:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.physicalSpecDefinitionType={DELIMITED:{key:\"DELIMITED\",name:\"Delimited\",icon:null,description:null,position:10}}},74:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.kindToViewState=function(e){if(\"APPLICATION\"===e)return\"main.app.view\";if(\"ACTOR\"===e)return\"main.actor.view\";if(\"APP_GROUP\"===e)return\"main.app-group.view\";if(\"DATA_TYPE\"===e)return\"main.data-type.view\";if(\"FLOW_DIAGRAM\"===e)return\"main.flow-diagram.view\";if(\"LOGICAL_DATA_ELEMENT\"===e)return\"main.logical-data-element.view\";if(\"LOGICAL_DATA_FLOW\"===e)return\"main.logical-flow.view\";if(\"MEASURABLE\"===e)return\"main.measurable.view\";if(\"MEASURABLE_CATEGORY\"===e)return\"main.measurable-category.view\";if(\"ORG_UNIT\"===e)return\"main.org-unit.view\";if(\"CHANGE_INITIATIVE\"===e)return\"main.change-initiative.view\";if(\"ENTITY_STATISTIC\"===e)return\"main.entity-statistic.view\";if(\"PERSON\"===e)return\"main.person.id\";if(\"PROCESS\"===e)return\"main.process.view\";if(\"PHYSICAL_SPECIFICATION\"===e)return\"main.physical-specification.view\";if(\"PHYSICAL_FLOW\"===e)return\"main.physical-flow.view\";if(\"ROADMAP\"===e)return\"main.roadmap.view\";throw\"Unable to convert kind: \"+e+\" to a ui-view state\"}},75:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.downloadTextFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\",\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"download.csv\";o(i.dsvFormat(t).formatRows(e),n)},t.downloadFile=o;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1580)),a=n(153);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"download.csv\",n=document,i=n.createElement(\"a\"),o=\"application/octet-stream;charset=utf-8\",r=void 0;if(navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([e],{type:o}),t);if((0,a.isIE)()){var l=n.createElement(\"iframe\");return document.body.appendChild(l),l.contentWindow.document.open(\"text/html\",\"replace\"),l.contentWindow.document.write(e),l.contentWindow.document.close(),l.contentWindow.focus(),l.contentWindow.document.execCommand(\"SaveAs\",!0,t),document.body.removeChild(l),!0}if(\"download\"in i){var c=new Blob([e],{type:o});r=URL.createObjectURL(c),i.setAttribute(\"download\",t)}else r=\"data:\"+o+\",\"+encodeURIComponent(e),i.setAttribute(\"target\",\"_blank\");i.href=r,i.setAttribute(\"style\",\"display:none;\"),n.body.appendChild(i),setTimeout(function(){if(i.click)i.click();else if(document.createEvent){var e=document.createEvent(\"MouseEvents\");e.initEvent(\"click\",!0,!0),i.dispatchEvent(e)}n.body.removeChild(i)},100)}},8:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.checkIsIdSelector=t.checkIsApplicationIdSelector=t.checkIsStringList=t.checkIsDynamicSection=t.checkIsServiceBrokerOptions=t.checkIsAuthSourceCreateCommand=t.checkIsAuthSourceUpdateCommand=t.checkIsServiceBrokerTarget=t.checkIsServiceDefinition=t.checkIsStoreDefinition=t.checkIsComponentDefinition=t.checkIsEntityRelationshipChangeCommand=t.checkIsEntityInvolvementChangeCommand=t.checkIsCreateInvolvementKindCommand=t.checkIsCreateActorCommand=t.checkIsCreatePhysicalFlowCommand=t.checkIsMeasurable=t.checkIsMeasurableRating=t.checkIsLogicalFlow=t.checkIsEntityRef=void 0,t.checkTrue=function(e,t){P(e,t)},t.checkNotEmpty=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"is empty\";P((0,o.notEmpty)(e),t)},t.checkAll=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"failed test\";return P(i.default.every(e,t),n)},t.checkIsArray=function(e,t){if(i.default.isArray(e))return e;throw new Error(t||\"not an array\",e)},t.ensureNotNull=function(e,t){if(i.default.isNull(e)||i.default.isUndefined(e))throw new Error(t||\"is null\",e);return e};var i=r(n(1)),a=r(n(147)),o=n(0);function r(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.default)({verbose:!1}),c={id:a.default.number,kind:a.default.string},s={entityReference:l.shape(c),measurableId:a.default.number,rating:a.default.string},u={source:l.shape(c),target:l.shape(c),id:a.default.number},d={id:a.default.number,categoryId:a.default.number,name:a.default.string,description:a.default.string},p={entityReference:l.shape(c),scope:l.oneOf([\"EXACT\",\"PARENTS\",\"CHILDREN\"])},f={name:a.default.string,description:a.default.string,format:a.default.string,lastUpdatedBy:a.default.string},m={transport:a.default.string,frequency:a.default.string,basisOffset:a.default.number},y={template:a.default.string,controller:a.default.func.optional,bindings:a.default.object},v={id:a.default.string,component:l.shape(y)},g={serviceName:a.default.string,store:l.func},h={serviceName:a.default.string,service:l.func},b={serviceName:a.default.string,serviceFnName:a.default.string},S={description:a.default.string.optional,rating:a.default.string,id:a.default.number},w={description:a.default.string.optional,rating:a.default.string,applicationId:a.default.number,dataTypeId:a.default.number,orgUnitId:a.default.number},A={componentId:a.default.string,fn:l.func},I={force:a.default.bool.optional,cacheRefreshListener:l.shape(A).optional},D={id:a.default.number,componentId:a.default.string,name:a.default.string,icon:a.default.string},E={name:a.default.string,description:a.default.string,isExternal:a.default.bool},T={name:a.default.string,description:a.default.string},O={operation:a.default.string,personEntityRef:l.shape(c),involvementKindId:a.default.number},k={specification:l.shape(f),flowAttributes:l.shape(m),logicalFlowId:a.default.number},R={operation:a.default.string,entityReference:l.shape(c),relationship:a.default.string},_=function(e,t){return l.throw(e,t)},P=function(e,t){if(!e)throw t};t.checkIsEntityRef=function(e){return _(l.shape(c),e)},t.checkIsLogicalFlow=function(e){return _(l.shape(u),e)},t.checkIsMeasurableRating=function(e){return _(l.shape(s),e)},t.checkIsMeasurable=function(e){return _(l.shape(d),e)},t.checkIsCreatePhysicalFlowCommand=function(e){return _(l.shape(k),e)},t.checkIsCreateActorCommand=function(e){return _(l.shape(E),e)},t.checkIsCreateInvolvementKindCommand=function(e){return _(l.shape(T),e)},t.checkIsEntityInvolvementChangeCommand=function(e){_(l.shape(O),e)},t.checkIsEntityRelationshipChangeCommand=function(e){_(l.shape(R),e)},t.checkIsComponentDefinition=function(e){_(l.shape(v),e)},t.checkIsStoreDefinition=function(e){_(l.shape(g),e)},t.checkIsServiceDefinition=function(e){_(l.shape(h),e)},t.checkIsServiceBrokerTarget=function(e){_(l.shape(b),e)},t.checkIsAuthSourceUpdateCommand=function(e){_(l.shape(S),e)},t.checkIsAuthSourceCreateCommand=function(e){_(l.shape(w),e)},t.checkIsServiceBrokerOptions=function(e){_(l.shape(I),e)},t.checkIsDynamicSection=function(e){_(l.shape(D),e)},t.checkIsStringList=function(e){return _(l.arrayOf(a.default.string),e)};var C=t.checkIsApplicationIdSelector=function(e){return _(l.shape(p),e)};t.checkIsIdSelector=C},80:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.entity={ACTOR:{key:\"ACTOR\",name:\"Actor\",icon:\"user-circle\",description:null,position:10},APP_CAPABILITY:{key:\"APP_CAPABILITY\",name:\"Application Function\",icon:\"puzzle-piece\",description:null,position:20},APP_GROUP:{key:\"APP_GROUP\",name:\"Application Group\",icon:\"object-group\",description:null,position:30},APP_RATING:{key:\"APP_RATING\",name:\"Application Rating\",icon:\"star-o\",description:null,position:40},APPLICATION:{key:\"APPLICATION\",name:\"Application\",icon:\"desktop\",description:null,position:50},ASSET_COST:{key:\"ASSET_COST\",name:\"Asset Cost\",icon:\"money\",description:null,position:60},ATTESTATION:{key:\"ATTESTATION\",name:\"Attestation\",icon:\"check-square-o\",description:null,position:65},ATTESTATION_RUN:{key:\"ATTESTATION_RUN\",name:\"Attestation Run\",icon:\"check-square-o\",description:null,position:67},AUTHORITATIVE_SOURCE:{key:\"AUTHORITATIVE_SOURCE\",name:\"Authoritative Source\",icon:\"shield\",description:null,position:70},BOOKMARK:{key:\"BOOKMARK\",name:\"Bookmark\",icon:\"bookmark-o\",description:null,position:80},CHANGE_INITIATIVE:{key:\"CHANGE_INITIATIVE\",name:\"Change Initiative\",icon:\"paper-plane-o\",description:null,position:90},DATABASE:{key:\"DATABASE\",name:\"Database\",icon:\"database\",description:null,position:100},DATA_TYPE:{key:\"DATA_TYPE\",name:\"Data Type\",icon:\"qrcode\",description:null,position:110},DRILL_GRID_DEFINITION:{key:\"DRILL_GRID_DEFINITION\",name:\"Drill Grid Definition\",icon:\"compass\",description:\"A drill grid is used to compare the co-occurrence of two hierarchical dimensions of data\",position:110},END_USER_APPLICATION:{key:\"END_USER_APPLICATION\",name:\"End User App\",icon:\"table\",description:null,position:120},ENTITY_STATISTIC:{key:\"ENTITY_STATISTIC\",name:\"Statistic\",icon:\"pie-chart\",description:null,position:130},FLOW_DIAGRAM:{key:\"FLOW_DIAGRAM\",name:\"Flow Diagram\",icon:\"picture-o\",description:null,position:140},INVOLVEMENT:{key:\"INVOLVEMENT\",name:\"Involvement\",icon:\"share-alt-square\",description:null,position:150},LOGICAL_DATA_ELEMENT:{key:\"LOGICAL_DATA_ELEMENT\",name:\"Logical Data Element\",icon:\"asterisk\",description:null,position:155},LOGICAL_DATA_FLOW:{key:\"LOGICAL_DATA_FLOW\",name:\"Logical Data Flow\",icon:\"random\",description:null,position:160},ORG_UNIT:{key:\"ORG_UNIT\",name:\"Org Unit\",icon:\"sitemap\",description:null,position:170},MEASURABLE:{key:\"MEASURABLE\",name:\"Viewpoint\",icon:\"puzzle-piece\",description:null,position:180},MEASURABLE_CATEGORY:{key:\"MEASURABLE_CATEGORY\",name:\"Viewpoint Rating\",icon:\"puzzle-piece\",description:null,position:185},MEASURABLE_RATING:{key:\"MEASURABLE_RATING\",name:\"Viewpoint Rating\",icon:void 0,description:null,position:190},PERSON:{key:\"PERSON\",name:\"Person\",icon:\"user\",description:null,position:200},PHYSICAL_SPECIFICATION:{key:\"PHYSICAL_SPECIFICATION\",name:\"Physical Specification\",icon:\"file-text\",description:null,position:210},PHYSICAL_FLOW:{key:\"PHYSICAL_FLOW\",name:\"Physical Flow\",icon:\"qrcode\",description:null,position:220},PROCESS:{key:\"PROCESS\",name:\"Process\",icon:\"code-fork\",description:null,position:230},ROADMAP:{key:\"ROADMAP\",name:\"Roadmap\",icon:\"road\",description:null,position:235},SCENARIO:{key:\"SCENARIO\",name:\"Scenario\",icon:\"picture-o\",description:null,position:237},SERVER:{key:\"SERVER\",name:\"Server\",icon:\"server\",description:null,position:240},SOFTWARE:{key:\"SOFTWARE\",name:\"Software\",icon:\"gift\",description:null,position:250},SYSTEM:{key:\"SYSTEM\",name:\"System\",icon:\"gears\",description:null,position:260}}},831:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),a=n(7),o=c(n(212)),r=c(n(832)),l=c(n(833));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.default=function(){var e=i.default.module(\"waltz.complexity\",[]);return(0,a.registerStores)(e,[o]),(0,a.registerComponents)(e,[r,l]),e.name}},832:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.id=t.component=void 0;var i=n(0),a=n(44),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),r=n(30),l=n(5),c=n(14),s=n(90),u=n(47);n(45);var d={complexity:[],apps:[],onHover:o.default.identity,onSelect:o.default.identity},p=(0,u.format)(\".2f\"),f=function(e){return\"\"+p(e)},m=\"#FFF3E5\",y=\"#FFA54F\",v={graph:{width:600},margin:{top:0,left:150,right:50,bottom:50},circleSize:24};function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.default.identity,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.default.identity,a=(0,c.extent)(t,function(e){return e.overallScore}),l=(0,r.scaleLinear)().range([0,v.graph.width-v.margin.left-v.margin.right]).domain([0,a[1]]),u=(0,r.scaleBand)().domain(o.default.map(t,function(e){return e.app.name})).range([0,v.graph.height-(v.margin.top+v.margin.bottom)]).padding(.2),d=(0,r.scaleLinear)().domain(a).range([m,y]),p=e.append(\"g\").attr(\"transform\",\"translate(\"+v.margin.left+\",\"+v.margin.top+\")\"),g=p.selectAll(\".wcbc-bar\").data(t,function(e){return e.id}).enter().append(\"g\").classed(\"wcbc-bar\",!0).attr(\"transform\",function(e,t){return\"translate(0, \"+u(e.app.name)+\")\"}).on(\"mouseenter.hover\",function(e){return n(e)}).on(\"mouseleave.hover\",function(e){return n(null)}).on(\"click.select\",function(e){return i(e)});g.append(\"rect\").attr(\"x\",0).attr(\"y\",0).attr(\"width\",function(e){return l(e.overallScore)}).attr(\"height\",u.bandwidth()).attr(\"fill\",function(e,t){return d(e.overallScore)}),g.append(\"text\").attr(\"x\",10).attr(\"y\",u.bandwidth()/2+3).text(function(e){return f(e.overallScore)}),function(e,t){var n=(0,s.axisBottom)(e).tickFormat(f).ticks(5);t.append(\"g\").attr(\"transform\",\"translate(0, \"+(v.graph.height-(v.margin.top+v.margin.bottom))+\")\").call(n)}(l,p),function(e,t){var n=(0,s.axisLeft)(e);t.append(\"g\").attr(\"transform\",\"translate(\"+v.margin.left+\", \"+v.margin.top+\")\").call(n)}(u,e)}function h(e,t){var n=(0,i.initialiseData)(this,d),r=e.find(\"div\")[0],c=(0,l.select)(r).append(\"svg\").attr(\"id\",\"waltz-complexity-bar-chart\"),s=function(){};n.$onDestroy=function(){return s()},n.$onChanges=function(){if(!(0,i.isEmpty)(n.complexity)&&!(0,i.isEmpty)(n.apps)){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=o.default.keyBy(t,\"id\");return o.default.chain(e).orderBy(\"overallScore\",\"desc\").take(10).map(function(e){return Object.assign(e,{app:n[e.id]})}).value()}(n.complexity,n.apps);v.graph.height=100+20*e.length,c.attr(\"width\",v.graph.width).attr(\"height\",v.graph.height).attr(\"viewbox\",\"0 0 \"+v.graph.width+\" \"+v.graph.height),g(c,e,function(e){return t.$applyAsync(function(){return n.onHover(e)})},function(e){return t.$applyAsync(function(){return n.onSelect(e)})}),s(),s=(0,a.responsivefy)(c,\"width-only\")}}}h.$inject=[\"$element\",\"$scope\"];t.component={bindings:{complexity:\"<\",apps:\"<\",onSelect:\"<\"},template:\"<div class='waltz-complexity-bar-chart'></div>\",controller:h},t.id=\"waltzComplexityBarChart\"},833:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.id=t.component=void 0;var i=s(n(1)),a=n(0),o=n(27),r=n(2),l=s(n(834)),c=n(17);function s(e){return e&&e.__esModule?e:{default:e}}var u={csvName:\"complexity.csv\",gridData:[],gridDataCount:0,summarySelection:null,visibility:{summary:!0,detail:!1},exportGrid:function(){}};function d(e){var t=(0,a.initialiseData)(this,u);t.$onInit=function(){},t.$onChanges=function(){if(t.parentEntityRef){var n=(0,c.mkSelectionOptions)(t.parentEntityRef);e.loadViewData(r.CORE_API.ApplicationStore.findBySelector,[n]).then(function(e){return t.apps=e.data}),e.loadViewData(r.CORE_API.ComplexityStore.findBySelector,[n]).then(function(e){return t.complexity=e.data})}},t.onSummarySelect=function(e){return t.summarySelection=e},t.showSummary=function(){t.visibility.summary=!0,t.visibility.detail=!1},t.showDetail=function(){t.visibility.summary=!1,t.visibility.detail=!0,t.columnDefs=[Object.assign((0,o.mkLinkGridCell)(\"Application\",\"app.name\",\"app.id\",\"main.app.view\"),{sort:{direction:\"asc\"},width:\"30%\"}),{field:\"connectionComplexity.score\",displayName:\"Connection Score\",cellFilter:\"toFixed:'2'\"},{field:\"measurableComplexity.score\",displayName:\"Viewpoints Score\",cellFilter:\"toFixed:'2'\"},{field:\"serverComplexity.score\",displayName:\"Server Score\",cellFilter:\"toFixed:'2'\"},{field:\"overallScore\",displayName:\"Overall Score\",cellFilter:\"toFixed:'2'\"}],t.onGridInitialise=function(e){t.exportGrid=function(){return e.exportFn(t.csvName)}},t.onGridChange=function(e){t.gridDataCount=e.entriesCount},(0,a.isEmpty)(t.gridData)&&(t.gridData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=i.default.keyBy(t,\"id\");return i.default.chain(e).map(function(e){return Object.assign(e,{app:n[e.id]})}).value()}(t.complexity,t.apps))}}d.$inject=[\"ServiceBroker\"];t.component={template:l.default,bindings:{parentEntityRef:\"<\",csvName:\"@?\"},controller:d},t.id=\"waltzComplexitySection\"},834:function(e,t){e.exports='<div> <waltz-section-actions> <button ng-click=$ctrl.exportGrid() class=\"btn btn-xs btn-primary\" ng-show=$ctrl.visibility.detail ng-disabled=\"$ctrl.gridDataCount == 0\"> <waltz-icon name=cloud-download></waltz-icon> Export </button> </waltz-section-actions> <div ng-if=\"$ctrl.complexity.length === 0\"> <waltz-no-data> <message> <strong>No complexity ratings found.</strong> </message> </waltz-no-data> </div> <uib-tabset ng-if=\"$ctrl.complexity.length > 0\"> <uib-tab select=$ctrl.showSummary()> <uib-tab-heading> Top 10 </uib-tab-heading> <br> <div class=row> <div class=col-sm-8> <div ng-if=$ctrl.visibility.summary> <waltz-complexity-bar-chart complexity=$ctrl.complexity apps=$ctrl.apps on-select=$ctrl.onSummarySelect> </waltz-complexity-bar-chart> </div> </div> <div class=col-sm-4 style=\"border-left:1px solid #eee\"> <div ng-if=\"! $ctrl.summarySelection\" class=waltz-fade-if> <waltz-static-panels group-key=SECTION.COMPLEXITY.ABOUT class=small render-mode=minimal-border> </waltz-static-panels> </div> <div ng-if=$ctrl.summarySelection class=waltz-fade-if> <a ui-sref=\"main.app.view ({ id: $ctrl.summarySelection.app.id })\"> <h5 ng-bind=$ctrl.summarySelection.app.name></h5> </a> <hr> <table class=\"table table-condensed table-striped small\"> <thead> <tr> <th>Type</th> <th> <div align=right> Score </div> </th> </tr> </thead> <tbody> <tr> <td>Connection</td> <td align=right> <span ng-bind=\"$ctrl.summarySelection.connectionComplexity.score | toFixed: 2\"> </span> </td> </tr> <tr> <td>Characteristic</td> <td align=right> <span ng-bind=\"$ctrl.summarySelection.measurableComplexity.score | toFixed: 2\"> </span> </td> </tr> <tr> <td>Server</td> <td align=right> <span ng-bind=\"$ctrl.summarySelection.serverComplexity.score | toFixed: 2\"> </span> </td> </tr> <tr> <td> <strong>Overall</strong> </td> <td align=right> <span ng-bind=\"$ctrl.summarySelection.overallScore | toFixed: 2\"> </span> </td> </tr> </tbody> </table> </div> </div> </div> </uib-tab> <uib-tab select=$ctrl.showDetail()> <uib-tab-heading> All Data </uib-tab-heading> <br> <div ng-if=$ctrl.visibility.detail> <div ng-if=\"$ctrl.gridData.length > 0\"> <waltz-grid-with-search column-defs=$ctrl.columnDefs entries=$ctrl.gridData search-placeholder-text=\"Search application complexity...\" on-initialise=$ctrl.onGridInitialise on-change=$ctrl.onGridChange> </waltz-grid-with-search> </div> </div> </uib-tab> </uib-tabset> </div> '},835:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=l(n(6)),a=l(n(836)),o=l(n(859)),r=l(n(871));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=i.default.module(\"waltz.common\",[]);return(0,a.default)(e),(0,o.default)(e),(0,r.default)(e),e.name}},836:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=v(n(837)),a=v(n(838)),o=v(n(839)),r=v(n(841)),l=v(n(843)),c=v(n(845)),s=v(n(847)),u=v(n(849)),d=v(n(851)),p=v(n(853)),f=v(n(855)),m=v(n(857)),y=n(7);function v(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){e.component(\"waltzBooleanRenderer\",i.default).component(\"waltzBucketChart\",a.default).component(\"waltzLastUpdated\",o.default).component(\"waltzMultiSelectTreeControl\",r.default).component(\"waltzSearchControl\",l.default).component(\"waltzEntityIconLabel\",c.default).component(\"waltzEntityLink\",s.default).component(\"waltzGrid\",u.default).component(\"waltzGridSref\",d.default).component(\"waltzGridWithSearch\",p.default).component(\"waltzDatePickerFormInput\",f.default),(0,y.registerComponents)(e,[m.default])}},837:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),a=n(39),o={booleanValue:null};function r(){var e=(0,i.initialiseData)(this,o);e.$onChanges=function(){!0===e.value||!0===(0,a.stringToBoolean)(e.value)?e.booleanValue=!0:!1===e.value||!1===(0,a.stringToBoolean)(e.value)?e.booleanValue=!1:e.booleanValue=null}}r.$inject=[];var l={bindings:{value:\"<\"},template:'<waltz-icon ng-if=\"$ctrl.booleanValue === true\" name=\"check\" class=\"text-success\"></waltz-icon>\\n                  <waltz-icon ng-if=\"$ctrl.booleanValue === false\" name=\"times\" class=\"text-danger\"></waltz-icon>\\n                  <span ng-if=\"$ctrl.booleanValue == null\" class=\"text-muted\">-</span>',controller:r};t.default=l},838:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=c(n(1)),a=c(n(6)),o=n(30),r=n(90),l=n(5);function c(e){return e&&e.__esModule?e:{default:e}}n(45);function s(e,t){var n=this,c=t.find(\"div\")[0],s=i.default.debounce(function(){n.buckets&&function(e,t){var n=e.svg,a=e.buckets,l=e.dimensions;n.attrs({width:l.width,height:l.height});var c=i.default.chain(a).map(function(e){return e.size}).max().value(),s=(0,o.scaleLinear)().domain([0,c]).range([0,l.height/1.6/2]),u=(0,o.scaleBand)().domain(i.default.map(a,\"name\")).range([0,l.width],.3),d=(0,r.axisBottom)().scale(u).tickSize(4);n.append(\"g\").attr(\"class\",\"x axis\"),n.select(\".axis\").attr(\"transform\",\"translate(0, \"+(l.height-l.margin.bottom)+\" )\").call(d);var p=n.selectAll(\".bucket\").data(a),f=p.enter().append(\"circle\").classed(\"bucket\",!0).on(\"click\",function(e){t&&t(e)});f.append(\"title\").text(function(e){return\"# = \"+e.size}),p.merge(f).attrs({r:function(e){return s(e.size)},cx:function(e){return u(e.name)+u.bandwidth()/2},cy:l.height/2})}({svg:(0,l.select)(c).select(\"svg\"),buckets:n.buckets,dimensions:{width:c.clientWidth,height:160,margin:{top:10,bottom:20}}},n.onBucketSelect)},100);n.$onChanges=s,n.$onInit=function(){return a.default.element(e).on(\"resize\",s)},n.$onDestroy=function(){return a.default.element(e).off(\"resize\",s)}}s.$inject=[\"$window\",\"$element\"];var u={template:'<div class=\"wbc\"><svg></svg></div>',controller:s,bindings:{buckets:\"=\",onBucketSelect:\"=?\"}};t.default=u},839:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(840)),a=n(0);var o={showLabel:!0};var r={bindings:{entity:\"<\",showLabel:\"<?\"},template:i.default,controller:function(){(0,a.initialiseData)(this,o)}};t.default=r},840:function(e,t){e.exports=\"<span class=text-muted ng-if=$ctrl.showLabel> Last Modified: </span> <span ng-if=$ctrl.entity.lastUpdatedBy> <span ng-bind=$ctrl.entity.lastUpdatedBy></span>, </span> <waltz-from-now class=text-muted timestamp=$ctrl.entity.lastUpdatedAt> </waltz-from-now>\"},841:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=c(n(1)),a=n(0),o=n(153),r=n(24),l=c(n(842));function c(e){return e&&e.__esModule?e:{default:e}}var s={items:[],expandedItemIds:[],expandedNodes:[],checkedItemIds:[],checkedMap:{},hierarchy:[],onCheck:function(e){return console.log(\"default handler in multi-select-treecontrol for node id check: \",e)},onUncheck:function(e){return console.log(\"default handler in multi-select-treecontrol for node id uncheck: \",e)},onClick:function(e){return console.log(\"default handler in multi-select-treecontrol for node click: \",e)}};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i.default.flattenDeep(function e(t,n){var a=i.default.filter(t,function(e){return n.includes(e.id)}),o=i.default.chain(a).filter(function(e){return e.parentId}).map(\"parentId\").value();return o.length>0?[a,e(t,o)]:[a]}(e,t))}function d(){var e=(0,a.initialiseData)(this,s),t=!1;e.treeOptions={nodeChildren:\"children\",dirSelectable:!0,equality:function(e,t){return e&&t&&e.id===t.id},multiSelection:!1,isSelectable:function(e){return i.default.get(e,\"concrete\",!0)}},e.onNodeClick=function(t){if(t.children&&t.children.length>0){var n=i.default.findIndex(e.expandedNodes,function(e){return e.id===t.id});-1===n?e.expandedNodes.push(t):e.expandedNodes.splice(n,1)}(0,a.invokeFunction)(e.onClick,t.id)},e.onNodeCheck=function(t){(0,a.invokeFunction)(e.onCheck,t),(0,o.preventDefault)(event),(0,o.stopPropagation)(event)},e.onNodeUncheck=function(t){(0,a.invokeFunction)(e.onUncheck,t),(0,o.preventDefault)(event),(0,o.stopPropagation)(event)},e.$onChanges=function(n){n.items&&(e.hierarchy=(0,r.buildHierarchies)(e.items),e.searchNodes=(0,r.prepareSearchNodes)(e.items)),t||!n.items&&!n.expandedItemIds||e.expandedItemIds&&e.items&&(e.expandedNodes=u(e.items,e.expandedItemIds),t=!0),e.checkedMap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i.default.reduce(e,function(e,n){return e[n.id]=i.default.includes(t,n.id),e},{})}(e.items,e.checkedItemIds)},e.searchTermsChanged=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",n=(0,r.doSearch)(t,e.searchNodes);e.hierarchy=(0,r.buildHierarchies)(n),e.expandedNodes=0===t.length?u(e.items,e.expandedItemIds):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length<6?i.default.clone(e):[]}(e.hierarchy)},e.clearSearch=function(){e.searchTermsChanged(\"\"),e.searchTerms=\"\",e.expandedNodes=u(e.items,e.expandedItemIds)}}d.$inject=[];var p={bindings:{items:\"<\",onClick:\"<\",onCheck:\"<\",onUncheck:\"<\",checkedItemIds:\"<\",expandedItemIds:\"<\"},template:l.default,controller:d,transclude:!0};t.default=p},842:function(e,t){e.exports='<div class=waltz-multi-select-tree-control> <div class=wmstc-search-region> <waltz-icon name=search ng-class=\"{\\n                    \\'wmstc-search-active\\' : $ctrl.searchTerms.length > 0,\\n                    \\'wmstc-search-inactive\\' : $ctrl.searchTerms.length == 0\\n                }\"> </waltz-icon> <input type=search class=form-control name=searchTerms ng-model=$ctrl.searchTerms ng-change=$ctrl.searchTermsChanged($ctrl.searchTerms) ng-model-options=\"{ debounce: 200 }\" placeholder=Search> &nbsp; <waltz-icon name=close style=color:#8b0000 ng-if=\"$ctrl.searchTerms.length > 0\" class=clickable ng-click=$ctrl.clearSearch()> </waltz-icon> </div> <treecontrol class=tree-light tree-model=$ctrl.hierarchy order-by=\"\\'-name\\'\" expanded-nodes=$ctrl.expandedNodes on-selection=$ctrl.onNodeClick(node) options=$ctrl.treeOptions> <span> <input type=checkbox checked=checked ng-if=$ctrl.checkedMap[node.id] ng-disabled=!node.concrete ng-click=$ctrl.onNodeUncheck(node.id)> <input type=checkbox ng-if=!$ctrl.checkedMap[node.id] ng-disabled=!node.concrete ng-click=$ctrl.onNodeCheck(node.id)> <ng-transclude> <span ng-bind=node.name></span> </ng-transclude> </span> </treecontrol> </div>'},843:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),a=r(n(1)),o=r(n(844));function r(e){return e&&e.__esModule?e:{default:e}}var l={minCharacters:3,delay:250,placeholderText:\"Search...\",onQuery:function(e){return console.log(\"default onQuery handler in search-control: \",e)}};function c(e){var t=(0,i.initialiseData)(this,l);t.options={debounce:t.delay},e.$watch(\"$ctrl.query\",function(e){a.default.isString(e)&&(e.length>=t.minCharacters||\"\"===e)&&(0,i.invokeFunction)(t.onQuery,e)})}c.$inject=[\"$scope\"];var s={bindings:{onQuery:\"<\",minCharacters:\"<\",delay:\"<\",placeholderText:\"@\"},template:o.default,controller:c};t.default=s},844:function(e,t){e.exports=\"<div class=waltz-search-control> <div class=input-group> <input type=text ng-model=$ctrl.query ng-model-options=$ctrl.options placeholder={{$ctrl.placeholderText}} class=form-control> <div class=input-group-addon> <waltz-icon name=search></waltz-icon> </div> </div> </div>\"},845:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0);var a={iconPlacement:\"left\",tooltipPlacement:\"top\",trigger:\"none\"};var o={bindings:{entityRef:\"<\",iconPlacement:\"@\",tooltipPlacement:\"@\"},template:function(e){return e&&e.__esModule?e:{default:e}}(n(846)).default,controller:function(){var e=(0,i.initialiseData)(this,a);e.$onChange=function(t){e.trigger=e.entityRef.description||e.entityRef.lifecyclePhase?\"mouseenter\":\"none\"}}};t.default=o},846:function(e,t){e.exports='<span class=waltz-entity-icon-label uib-popover-template=\"\\'weil-popover.html\\'\" popover-trigger={{$ctrl.trigger}} popover-append-to-body=true popover-placement=\"{{ $ctrl.tooltipPlacement }}\"> <waltz-icon fixed-width=true name=\"{{ $ctrl.entityRef.kind | toIconName:\\'entity\\' }}\" ng-if=\"$ctrl.iconPlacement === \\'left\\'\" style=color:#332b23> </waltz-icon> <span ng-bind=$ctrl.entityRef.name ng-class=\"{\\n            \\'weil-entity-removed\\': $ctrl.entityRef.entityLifecycleStatus === \\'REMOVED\\',\\n            \\'weil-entity-pending\\': $ctrl.entityRef.entityLifecycleStatus === \\'PENDING\\'\\n          }\"> </span> <waltz-icon fixed-width=true name=\"{{ $ctrl.entityRef.kind | toIconName:\\'entity\\' }}\" ng-if=\"$ctrl.iconPlacement === \\'right\\'\" style=color:#332b23> </waltz-icon> </span> <script type=text/ng-template id=weil-popover.html> <div>\\n        <div ng-bind=\"$ctrl.entityRef.description\"></div>\\n        <div ng-if=\"$ctrl.entityRef.entityLifecycleStatus\" class=\"small\">\\n            <hr>\\n            <strong>Status:</strong>\\n            <span ng-bind=\"$ctrl.entityRef.entityLifecycleStatus | toDisplayName:\\'entityLifecycleStatus\\'\">\\n            </span>\\n        </div>\\n    </div> <\\/script>'},847:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),a=n(74),o=function(e){return e&&e.__esModule?e:{default:e}}(n(848));var r={iconPlacement:\"left\",tooltipPlacement:\"top\"};function l(e){var t=(0,i.initialiseData)(this,r);t.$onChanges=function(n){if(t.entityRef){var i=(0,a.kindToViewState)(t.entityRef.kind);i&&(t.viewUrl=e.href(i,{id:t.entityRef.id}))}}}l.$inject=[\"$state\"];var c={bindings:{entityRef:\"<\",iconPlacement:\"@\",tooltipPlacement:\"@\",target:\"@\"},template:o.default,controller:l};t.default=c},848:function(e,t){e.exports=' <a ng-if=$ctrl.viewUrl ng-href=\"{{ $ctrl.viewUrl }}\" ng-attr-target=\"{{ $ctrl.target }}\" class=waltz-visibility-parent> <waltz-entity-icon-label entity-ref=$ctrl.entityRef icon-placement={{$ctrl.iconPlacement}} tooltip-placement={{$ctrl.tooltipPlacement}}> </waltz-entity-icon-label> <waltz-icon ng-if=\\'$ctrl.target === \"_blank\"\\' class=waltz-visibility-child-30 name=external-link> </waltz-icon> </a> <waltz-entity-icon-label entity-ref=$ctrl.entityRef icon-placement={{$ctrl.iconPlacement}} tooltip-placement={{$ctrl.tooltipPlacement}} ng-if=!$ctrl.viewUrl> </waltz-entity-icon-label> '},849:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(n(850));var o=\",\",r={columnDefs:[],rowData:[],minRowsToShow:10,rowTemplate:null,scopeProvider:null,onInitialise:function(e){}};function l(e,t){var n=(0,i.initialiseData)(this,r);n.$onInit=function(){n.gridOptions={appScopeProvider:n.scopeProvider,columnDefs:n.columnDefs,data:n.rowData,enableColumnMenus:!1,enableGridMenu:!1,minRowsToShow:n.minRowsToShow,enableRowHeaderSelection:!1,enableRowSelection:!!n.onRowSelect,onRegisterApi:function(e){n.gridApi=e,n.onInitialise({exportFn:n.exportData,gridApi:n.gridApi}),n.onRowSelect&&(e.selection.setMultiSelect(!1),e.selection.toggleRowSelection(!0),e.selection.on.rowSelectionChanged(null,function(t){n.onRowSelect(_.first(e.selection.getSelectedRows()))}))},exporterFieldCallback:function(e,t,n,i){var a=n.colDef.exportFormatter;return a?a(i):i},rowTemplate:n.rowTemplate}},n.$onChanges=function(e){n.gridOptions&&(e.columnDefs&&(n.gridOptions.columnDefs=n.columnDefs),n.gridOptions.minRowsToShow=Math.min(n.minRowsToShow,n.rowData.length),n.gridOptions.data=n.rowData)},n.exportData=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"download.csv\",a=n.gridApi.grid,r=e.ALL,l=e.ALL;t.loadAllDataIfNeeded(a,r,l).then(function(){var e=t.getColumnHeaders(a,l),n=t.getData(a,r,l),c=t.formatAsCsv(e,n,o);t.downloadFile(i,c,!1)})}}l.$inject=[\"uiGridExporterConstants\",\"uiGridExporterService\"];var c={bindings:{columnDefs:\"<\",rowData:\"<\",rowTemplate:\"<\",onInitialise:\"<\",scopeProvider:\"<?\",onRowSelect:\"<\"},template:a.default,controller:l};t.default=c},850:function(e,t){e.exports=\"<div> <div ui-grid=$ctrl.gridOptions ui-grid-exporter ui-grid-selection class=waltz-grid ng-class=\\\"{ 'waltz-grid-row-select': $ctrl.onRowSelect }\\\"> </div> </div>\"},851:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(n(1)),a=n(0),o=r(n(852));function r(e){return e&&e.__esModule?e:{default:e}}var l={linkText:\"Visit\"};function c(e){var t=(0,a.initialiseData)(this,l);t.$onChanges=function(n){if(t.state&&t.params){var a=i.default.isString(t.params)?JSON.parse(t.params):t.params;t.viewUrl=e.href(t.state,a)}}}c.$inject=[\"$state\"];var s={bindings:{state:\"<\",params:\"<\",linkText:\"@\"},template:o.default,controller:c};t.default=s},852:function(e,t){e.exports=' <a ng-href=\"{{ $ctrl.viewUrl }}\" ng-bind=$ctrl.linkText> </a> '},853:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=o(n(1)),a=n(0);function o(e){return e&&e.__esModule?e:{default:e}}var r={columnDefs:[],entries:[],filteredEntries:[],scopeProvider:null,searchFields:[],searchPlaceholderText:\"Search...\",onInitialise:function(e){return console.log(\"Default onInitialise handler for grid-search: \",e)},onChange:function(e){}};var l={bindings:{columnDefs:\"<\",entries:\"<\",searchPlaceholderText:\"@\",scopeProvider:\"<?\",onInitialise:\"<\",onChange:\"<\",onRowSelect:\"<?\"},template:o(n(854)).default,controller:function(){var e=(0,a.initialiseData)(this,r);e.$onChanges=function(t){e.filteredEntries=e.entries,e.searchFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.chain(e).filter(function(e){return!i.default.isUndefined(e.field)}).map(\"field\").value()}(e.columnDefs),(0,a.invokeFunction)(e.onChange,{entriesCount:i.default.size(e.filteredEntries)})},e.filterEntries=function(t){e.filteredEntries=(0,a.termSearch)(e.entries,t,e.searchFields),(0,a.invokeFunction)(e.onChange,{entriesCount:i.default.size(e.filteredEntries)})}}};t.default=l},854:function(e,t){e.exports='<div> <div class=row ng-if=\"$ctrl.entries.length > 10\"> <div class=col-md-6> <waltz-search-control min-characters=3 delay=250 on-query=$ctrl.filterEntries placeholder-text=\"{{ $ctrl.searchPlaceholderText }}\"> </waltz-search-control> </div> </div> <br> <waltz-grid column-defs=$ctrl.columnDefs row-data=$ctrl.filteredEntries scope-provider=$ctrl.scopeProvider on-initialise=$ctrl.onInitialise on-row-select=$ctrl.onRowSelect class=small> </waltz-grid> </div>'},855:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0);var a={dateOptions:{formatYear:\"yyyy\",startingDay:1},datePickerOpened:!1,placeHolder:\"\",onChange:function(e,t){return console.log(\"default onChange \")}};var o={bindings:{id:\"@\",placeHolder:\"@\",required:\"@\",format:\"@\",allowPastDates:\"@\",model:\"=\",itemId:\"<\",onChange:\"<\"},template:function(e){return e&&e.__esModule?e:{default:e}}(n(856)).default,controller:function(){var e=(0,i.initialiseData)(this,a);e.$onInit=function(){e.allowPastDates||(e.dateOptions.minDate=new Date)},e.datePickerOpen=function(){e.datePickerOpened=!0},e.valueChanged=function(){e.onChange(e.itemId,e.model)}}};t.default=o},856:function(e,t){e.exports='<p class=input-group> <input id={{$ctrl.id}} type=text class=form-control placeholder={{$ctrl.placeHolder}} ng-model=$ctrl.model ng-model-options=\"{timezone: \\'utc\\'}\" ng-required=$ctrl.required ng-change=$ctrl.valueChanged() uib-datepicker-popup={{$ctrl.format}} is-open=$ctrl.datePickerOpened datepicker-options=$ctrl.dateOptions close-text=Close /> <span class=input-group-btn> <button type=button class=\"btn btn-default\" style=padding-bottom:7px ng-click=$ctrl.datePickerOpen()> <waltz-icon name=calendar /> </button> </span> </p>'},857:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(858)),a=n(0);var o={};function r(){var e=(0,a.initialiseData)(this,o);e.$onChanges=function(){e.availableActions=_.filter(e.actions,function(t){return function(t){return!t.predicate||t.predicate(e.ctx)}(t)})}}r.$inject=[];var l={controller:r,bindings:{actions:\"<\",ctx:\"<\"},template:i.default};t.default={id:\"waltzMiniActions\",component:l}},858:function(e,t){e.exports='<span ng-repeat=\"action in $ctrl.availableActions\"> <span ng-switch=action.type uib-popover-template=\"\\'wma-action-popover.html\\'\" popover-trigger=mouseenter popover-popup-delay=300 popover-append-to-body=true popover-enable=action.description popover-placement=top> <a ui-sref=\"{{ action.state }} ({{ action.stateParams }})\" ng-switch-when=link class=clickable> <waltz-icon ng-if=action.name name=\"{{ action.icon }}\"> </waltz-icon> <span ng-bind=action.name></span> </a> <a ng-click=action.execute($ctrl.ctx) ng-switch-default class=clickable> <waltz-icon ng-if=action.name name=\"{{ action.icon }}\"> </waltz-icon> <span ng-bind=action.name></span> </a> </span> <span ng-if=!$last> | </span> </span> <script type=text/ng-template id=wma-action-popover.html> <div class=\"small\">\\n        <waltz-markdown text=\"action.description\">\\n        </waltz-markdown>\\n    </div> <\\/script> '},859:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=m(n(860)),a=m(n(861)),o=m(n(862)),r=m(n(863)),l=m(n(864)),c=m(n(865)),s=m(n(866)),u=m(n(867)),d=m(n(868)),p=m(n(869)),f=m(n(870));function m(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){e.filter(\"isEmpty\",i.default).filter(\"merge\",a.default).filter(\"useDefaultRatingScheme\",f.default).filter(\"toBasisOffset\",o.default).filter(\"toDisplayName\",r.default).filter(\"toDomain\",l.default).filter(\"toDescription\",c.default).filter(\"toFixed\",s.default).filter(\"toIconName\",u.default).filter(\"truncate\",d.default).filter(\"truncateMiddle\",p.default)}},860:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(){return function(e){return i.default.isEmpty(e)}}},861:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e?Object.assign.apply(Object,[e].concat(n)):null}}},862:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){return function(e){return e?e>0?\"T+\"+e:e<0?\"T\"+e:e:\"T\"}}},863:function(e,t,n){\"use strict\";function i(e){return function(t,n){return e.lookup(n,t)}}Object.defineProperty(t,\"__esModule\",{value:!0}),i.$inject=[\"DisplayNameService\"],t.default=i},864:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(39);t.default=function(){return function(e){return(0,i.toDomain)(e)}}},865:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=[\"DescriptionService\",function(e){return function(t,n){return e.lookup(n,t)}}]},866:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(){return function(e,t){return i.default.isNumber(e)?Number(e).toFixed(t||2):\"\"}}},867:function(e,t,n){\"use strict\";function i(e){return function(t,n){return e.lookup(n,t)}}Object.defineProperty(t,\"__esModule\",{value:!0}),i.$inject=[\"IconNameService\"],t.default=i},868:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(39);t.default=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"...\";return(0,i.truncate)(e,t,n)}}},869:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(39);t.default=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\" ... \";return(0,i.truncateMiddle)(e,t,n)}}},870:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(73);t.default=function(){return function(e,t){return(0,i.ragToRatingSchemeItem)(e,t)}}},871:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=u(n(1)),a=u(n(872)),o=n(29),r=u(n(873)),l=u(n(874)),c=n(2),s=n(879);function u(e){return e&&e.__esModule?e:{default:e}}var d=new a.default,p=new a.default,f=new a.default;function m(e,t){t.loadAppData(c.CORE_API.DataTypeStore.findAll).then(function(e){var t=i.default.keyBy(e.data,\"code\"),n=i.default.keyBy(e.data,\"id\");d.register(\"dataType\",i.default.mapValues(t,\"name\")).register(\"dataType\",i.default.mapValues(n,\"name\")),f.register(\"dataType\",i.default.mapValues(t,\"description\")).register(\"dataType\",i.default.mapValues(n,\"description\"))}),e.loadInvolvementKinds().then(function(e){var t=i.default.keyBy(e,\"id\");d.register(\"involvementKind\",i.default.mapValues(t,\"name\")),f.register(\"involvementKind\",i.default.mapValues(t,\"description\"))}),t.loadAppData(c.CORE_API.MeasurableCategoryStore.findAll).then(function(e){var t=i.default.keyBy(e.data,\"id\");d.register(\"measurableCategory\",i.default.mapValues(t,\"name\")),f.register(\"measurableCategory\",i.default.mapValues(t,\"description\"))}),t.loadAppData(c.CORE_API.EntityNamedNoteTypeStore.findAll).then(function(e){var t=i.default.keyBy(e.data,\"id\");d.register(\"entityNamedNoteType\",i.default.mapValues(t,\"name\")),f.register(\"entityNamedNoteType\",i.default.mapValues(t,\"description\"))}),t.loadAppData(c.CORE_API.EnumValueStore.findAll).then(function(e){var t=function(e){return e.key};i.default.chain(e.data).groupBy(\"type\").each(function(e,n){d.register(n,(0,s.toMap)(e,t,function(e){return e.name})),f.register(n,(0,s.toMap)(e,t,function(e){return e.description})),p.register(n,(0,s.toMap)(e,t,function(e){return e.icon}))}).value()})}t.default=function(e){e.service(\"DisplayNameService\",function(){return d}).service(\"IconNameService\",function(){return p}).service(\"DescriptionService\",function(){return f}).service(\"PreventNavigationService\",r.default).service(\"ServiceBroker\",l.default);var t=function(e){return e.key};function n(e,t){e.$on(\"$stateChangeSuccess\",function(){t.resetViewData()})}i.default.each(o.enums,function(e,n){d.register(n,(0,s.toMap)(e,t,function(e){return e.name})),f.register(n,(0,s.toMap)(e,t,function(e){return e.description})),p.register(n,(0,s.toMap)(e,t,function(e){return e.icon}))}),m.$inject=[\"InvolvementKindService\",\"ServiceBroker\"],n.$inject=[\"$rootScope\",\"ServiceBroker\"],e.run(m).run(n)}},872:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.lookupsByType={}}return i(e,[{key:\"register\",value:function(e,t){if(!(a.default.isString(e)&&a.default.isObject(t)))throw Error(\"Cannot register type and lookupMap unless they are a string and a map\",e,t);var n=this.lookupsByType[e]||{};return this.lookupsByType[e]=Object.assign({},n,t),this}},{key:\"lookup\",value:function(e,t){var n=this.lookupsByType[e];return n?n[t]||\"\":(console.warn(\"No lookupMap registered for type\",e),\"??\"+t+\"??\")}},{key:\"getAllByType\",value:function(e){return this.lookupsByType[e]}},{key:\"toOptions\",value:function(e){return a.default.chain(this.lookupsByType[e]).map(function(e,t){return{name:e,code:t}}).sortBy(function(e){return e.name}).value()}},{key:\"toGridOptions\",value:function(e){return a.default.map(this.lookupsByType[e],function(e,t){return{label:e,value:t}})}}]),e}();t.default=o},873:function(e,t,n){\"use strict\";function i(e,t,n){t()?confirm(\"This will discard your changes, OK to confirm\")?n():e.preventDefault():n()}function a(){return{setupWarningDialog:function(e,t){var n=e.$on(\"$locationChangeStart\",function(e){return i(e,t,o)}),a=e.$on(\"$stateChangeStart\",function(e){return i(e,t,o)}),o=function(){a(),n()}}}}Object.defineProperty(t,\"__esModule\",{value:!0}),a.$inject=[],t.default=a},874:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=c(n(1)),a=c(n(4)),o=c(n(875)),r=n(0),l=n(8);function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u={viewData:new Map,appData:new Map,viewDataCacheRefreshListeners:new Map,appDataCacheRefreshListeners:new Map};function d(e,t,n){var a=e[n];if(a&&i.default.isFunction(a))return a;throw t+\".\"+n+\" not found!\"}function p(e,t,n){(0,l.checkIsServiceBrokerTarget)(e),(0,l.checkIsArray)(t,\"targetParams must be an array\"),(0,l.checkIsServiceBrokerOptions)(n)}function f(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=arguments[5],c=i.serviceName,u=i.serviceFnName,p=l.force,f=void 0!==p&&p,m=l.cacheRefreshListener;if(!e.has(c)){var y=\"ServiceBroker::loadData - Unable to locate service: \"+c;return console.error(y),Promise.reject(y)}var v=e.get(c),g=function(e,t,n){return e+\"_\"+t+\"_\"+(0,o.default)(n)}(c,u,r);if(!t.has(g)||!0===f){var h=function(e,t,n,i){return d(e,t,n).apply(void 0,s(i))}(v,c,u,r);t.set(g,function(e){return{promise:e,lastRefreshed:(0,a.default)()}}(h)),function(e,t,n,i,a){var o=t.get(e);if(o){var r={eventType:a,serviceName:n.serviceName,serviceFnName:n.serviceFnName,params:i};o.forEach(function(e){return e(r)})}}(g,n,i,r,\"REFRESH\")}m&&function(e,t,n){e.has(t)||e.set(t,new Map),e.get(t).set(n.componentId,n.fn)}(n,g,m);var b=t.get(g);return b.promise.then(function(e){return{lastRefreshed:b.lastRefreshed,data:e}}).catch(function(e){throw t.delete(g),console.warn(\"ServiceBroker::loadData - \"+c+\".\"+u+\": \"+e.statusText+\" - \"+e.data.message,r),e})}function m(e){var t=(0,r.initialiseData)(this,u),n=function(){t.viewData.clear(),t.viewDataCacheRefreshListeners.clear()};return{execute:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(t,n,i);var a=t.serviceName,o=t.serviceFnName;if(!e.has(a)){var r=\"ServiceBroker::execute - Unable to locate service: \"+a;return console.error(r),Promise.reject(r)}return d(e.get(a),a,o).apply(void 0,s(n)).then(function(e){return{data:e}}).catch(function(e){throw console.warn(\"ServiceBroker::execute - \"+a+\".\"+o+\": \"+e.statusText+\" - \"+e.data.message,n),e})},loadAppData:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force:!1};return p(n,i,a),f(e,t.appData,t.appDataCacheRefreshListeners,n,i,a)},loadViewData:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force:!1};return p(n,i,a),f(e,t.viewData,t.viewDataCacheRefreshListeners,n,i,a)},resetViewData:n,resetAll:function(){n(),t.appData.clear()}}}m.$inject=[\"$injector\"],t.default=m},879:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.mergeKeyedLists=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.mergeWith(e,t,i.default.union)},t.toGroupedMap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default.identity;return i.default.reduce(e,function(e,i){var a=t(i),o=n(i),r=e[a]||[];return e[a]=r.concat([o]),e},{})},t.toMap=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default.identity;return i.default.reduce(e,function(e,i){var a=t(i);return e[a]=n(i),e},{})};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1))},88:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.lifecyclePhase={PRODUCTION:{key:\"PRODUCTION\",name:\"Production\",icon:null,description:null,position:10},DEVELOPMENT:{key:\"DEVELOPMENT\",name:\"Development\",icon:null,description:null,position:20},CONCEPTUAL:{key:\"CONCEPTUAL\",name:\"Conceptual\",icon:null,description:null,position:30},RETIRED:{key:\"RETIRED\",name:\"Retired\",icon:null,description:null,position:40}}},888:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(n(6)),a=n(7),o=s(n(889)),r=s(n(891)),l=s(n(893)),c=s(n(895));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=i.default.module(\"waltz.data-flow\",[]);return(0,a.registerComponents)(e,[o.default,r.default,l.default,c.default]),e.name}},889:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=c(n(1)),a=c(n(890)),o=n(0),r=n(25),l=n(2);function c(e){return e&&e.__esModule?e:{default:e}}var s={nestedAuthSources:null};function u(e){var t=(0,o.initialiseData)(this,s);t.$onInit=function(){e.loadAppData(l.CORE_API.OrgUnitStore.findAll).then(function(e){return t.orgUnitsById=i.default.chain(e.data).map(function(e){return Object.assign({},e,{kind:\"ORG_UNIT\"})}).keyBy(\"id\").value()})},t.$onChanges=function(){t.nestedAuthSources=(0,r.nest)().key(function(e){return e.dataType}).key(function(e){return e.rating}).object(t.authSources||[])}}u.$inject=[\"ServiceBroker\"];var d={controller:u,bindings:{authSources:\"<\"},template:a.default};t.default={id:\"waltzAppAuthorityPanel\",component:d}},890:function(e,t){e.exports='<div class=waltz-panel-content> <pre>{{$ctrl.authSources|json}}</pre> <div ng-if=\"!($ctrl.authSources | isEmpty)\"> <p> This application has been declared as an authoritative source for some of the data-types it deals with. </p> <div style=padding-top:5px> <p class=text-muted ng-bind=\"authSource.dataType | toDescription:\\'dataType\\'\"> </p> <table class=\"table table-condensed\"> <colgroup> <col width=15% /> <col width=15% /> <col width=15% /> <col/> </colgroup> <thead> <tr> <th>Data Type</th> <th>Rating</th> <th>Applicable Org Unit</th> <th>Description</th> </tr> </thead> <tbody> <tr ng-repeat=\"authSource in $ctrl.authSources\"> <td> <span ng-bind=\"authSource.dataType | toDescription:\\'dataType\\'\"> </span> </td> <td> <waltz-rating-indicator value=\"{{ authSource.rating }}\"> </waltz-rating-indicator> <waltz-enum-value type=\"\\'AuthoritativenessRating\\'\" show-icon=false key=authSource.rating> </waltz-enum-value> </td> <td> Organisational Units: <ul class=list-inline style=display:inline-block> <li ng-repeat=\"source in sources\"> <waltz-entity-link entity-ref=$ctrl.orgUnitsById[source.parentReference.id]> </waltz-entity-link> </li> </ul> </td> <td></td> </tr> </tbody> </table> </div> <hr/> <small class=text-muted> The above table shows the data-types this application is considered to be an authoritative source for. The classification of authoritativeness is from the viewpoint of an organisational unit (and its sub units) therefore you may see multiple declarations from different areas in the organisation. </small> </div> <waltz-no-data ng-if=($ctrl.authSources|isEmpty)> <message> This application has not been declared an <strong>Authoritative Source</strong> for any data-types </message> </waltz-no-data> </div> '},891:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(n(1)),a=n(5),o=n(30),r=n(0),l=n(19),c=s(n(892));function s(e){return e&&e.__esModule?e:{default:e}}var u={},d=30,p=5,f=3*d,m=120,y=5,v=3*m,g=[\"NO_OPINION\",\"DISCOURAGED\",\"SECONDARY\",\"PRIMARY\"],h={INBOUND:{KNOWN:\"translate(0, \"+d+\") rotate(180, \"+m/2+\", \"+d/2+\") \",UNKNOWN:\"translate(0, \"+2*d+\") rotate(180, \"+m/2+\", \"+d/2+\")\"},OUTBOUND:{KNOWN:\"translate(\"+2*m+\", \"+d+\")\",UNKNOWN:\"translate(\"+2*m+\", \"+2*d+\")\"}},b={BAND:\"wafsg-band\",BAR:\"wafsg-bar\"};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,n=[];return i.default.forEach(g,function(i){var a=e.values[i]||0,o=t+a;n.push([t,o]),t=o}),Object.assign({},e,{stack:n,total:t})}function w(e){var t=(0,r.initialiseData)(this,u),n=null,c=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e){var n=i.default.chain(t).map(function(e){return e.total}).max().value(),a=m-2*y,r=(0,o.scaleLinear)().domain([0,n]).range([0,a]);e.selectAll(\".\"+b.BAR).data(t).enter().append(\"g\").classed(b.BAR,!0).attr(\"transform\",function(e){return h[e.row][e.col]}).selectAll(\".\"+b.BAND).data(function(e){return e.stack}).enter().append(\"rect\").classed(b.BAND,!0).attr(\"x\",function(e){return r(e[0])}).attr(\"y\",p).attr(\"height\",d-2*p).attr(\"width\",function(e){return r(e[1]-e[0])}).attr(\"stroke\",function(e,t){return(0,l.authoritativeRatingBackgroundColorScale)(g[t])}).attr(\"stroke-width\",.5).attr(\"fill\",function(e,t){return(0,l.authoritativeRatingColorScale)(g[t])})}}(n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.chain(e).flatMap(function(e,t){return i.default.map(e,function(e,n){return{row:t,col:n,values:e}})}).map(S).value(e)}(t.summaryData))};t.$onChanges=function(){return c()},t.$onInit=function(){var t=e[0].firstChild;(function(e){var t=[m,2*m];e.selectAll(\"line\").data(t).enter().append(\"line\").attr(\"x1\",function(e){return e}).attr(\"x2\",function(e){return e}).attr(\"y1\",d).attr(\"y2\",f).attr(\"stroke\",\"#ddd\")})(n=(0,a.select)(t).attr(\"width\",v).attr(\"height\",f)),function(e){var t=e.append(\"g\").attr(\"transform\",\"translate(0, \"+d/2+\")\"),n=[{title:\"Inbound\",padding:-4,x:m,anchor:\"end\"},{title:\"Outbound\",padding:4,x:2*m,anchor:\"start\"}];t.selectAll(\"text\").data(n).enter().append(\"text\").text(function(e){return e.title}).attr(\"text-anchor\",function(e){return e.anchor}).attr(\"x\",function(e){return e.x+e.padding})}(n),function(e){e.append(\"g\").style(\"border\",\"1px solid red\").attr(\"transform\",\"translate(\"+m+\", \"+d+\")\").selectAll(\"text\").data([\"Known\",\"Unknown\"]).enter().append(\"text\").text(function(e){return e}).attr(\"text-anchor\",\"middle\").attr(\"x\",m/2).attr(\"y\",function(e,t){return d*(t+.5)+4})}(n),c()}}w.$inject=[\"$element\"];var A={template:c.default,bindings:{summaryData:\"<\"},controller:w};t.default={component:A,id:\"waltzApplicationFlowSummaryGraph\"}},892:function(e,t){e.exports=\"<svg> </svg>\"},893:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(i=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),a=d(n(1)),o=n(0),r=n(2),l=n(390),c=n(113),s=n(25),u=d(n(894));function d(e){return e&&e.__esModule?e:{default:e}}var p={authoritativeCols:[\"PRIMARY\",\"SECONDARY\",\"DISCOURAGED\",\"NO_OPINION\"],visibility:{stats:!1}};function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=a.default.keyBy(n,\"id\");return a.default.chain(i).filter(function(e){return\"DATA_TYPE\"===e.decoratorEntity.kind}).map(function(n){var i=o[n.dataFlowId];return{decorator:n,logicalFlow:i,direction:(0,c.categorizeDirection)(i,e),mappingStatus:function(e){return e.decoratorEntity.id!==t}(n)?\"KNOWN\":\"UNKNOWN\"}}).value()}function m(e,t){var n=(0,o.initialiseData)(this,p),a=function(a){var o={entityReference:n.parentEntityRef,scope:\"EXACT\"},l=t.loadViewData(r.CORE_API.LogicalFlowStore.findByEntityReference,[n.parentEntityRef]).then(function(e){return e.data}),c=t.loadViewData(r.CORE_API.LogicalFlowDecoratorStore.findBySelectorAndKind,[o,\"DATA_TYPE\"]).then(function(e){return e.data});e.all([l,c]).then(function(e){var t=i(e,2),o=t[0],r=t[1];n.enrichedDecorators=f(n.parentEntityRef,Number(a),o,r),n.stats=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{byDirectionAndMappingStatus:(0,s.nest)().key(function(e){return e.direction}).key(function(e){return e.mappingStatus}).object(e),byDirectionAndAuthoritativeness:(0,s.nest)().key(function(e){return e.direction}).key(function(e){return e.decorator.rating}).object(e),chartData:(0,s.nest)().key(function(e){return e.direction}).key(function(e){return e.mappingStatus}).key(function(e){return e.decorator.rating}).rollup(function(e){return e.length}).object(e)}}(n.enrichedDecorators)})};n.$onInit=function(){t.loadAppData(r.CORE_API.DataTypeStore.findAll).then(function(e){return(0,l.findUnknownDataType)(e.data)}).then(function(e){return a(e.id)})}}m.$inject=[\"$q\",\"ServiceBroker\"];var y={template:u.default,bindings:{parentEntityRef:\"<\"},controller:m};t.default={component:y,id:\"waltzApplicationFlowSummaryPane\"}},894:function(e,t){e.exports=' <div class=waltz-application-flow-summary-pane> <strong>Summary Chart</strong> <div style=padding-top:1em;padding-bottom:.6em> <p class=\"small text-muted\"> Chart showing incoming vs outgoing flow decorations which are mapped to a known data type and then categorized by their authoritativeness. <a class=clickable ng-click=\"$ctrl.visibility.stats = !$ctrl.visibility.stats\"> <span ng-bind=\"$ctrl.visibility.stats ? \\'Hide\\' : \\'Show\\'\"></span> stats </a> </p> <waltz-application-flow-summary-graph summary-data=$ctrl.stats.chartData> </waltz-application-flow-summary-graph> </div> <div class=\"small waltz-fade-if\" ng-if=$ctrl.visibility.stats> <strong>By Mapping Status</strong> <p class=\"small text-muted\"> Incoming/Outgoing flow decorations mapped to a known data type. </p> <table class=\"table table-condensed small\"> <colgroup> <col width=20%> <col width=20%> <col width=20%> <col width=40%> </colgroup> <thead> <tr> <th>Direction</th> <th>Total Known</th> <th>Total Unknown</th> <th/> </tr> </thead> <tbody> <tr> <td>Inbound</td> <td> <span ng-bind=\"$ctrl.stats.byDirectionAndMappingStatus[\\'INBOUND\\'][\\'KNOWN\\'].length || 0\"></span> </td> <td> <span ng-bind=\"$ctrl.stats.byDirectionAndMappingStatus[\\'INBOUND\\'][\\'UNKNOWN\\'].length || 0\"></span> </td> <td></td> </tr> <tr> <td>Outbound</td> <td> <span ng-bind=\"$ctrl.stats.byDirectionAndMappingStatus[\\'OUTBOUND\\'][\\'KNOWN\\'].length || 0\"></span> </td> <td> <span ng-bind=\"$ctrl.stats.byDirectionAndMappingStatus[\\'OUTBOUND\\'][\\'UNKNOWN\\'].length || 0\"></span> </td> <td></td> </tr> </tbody> </table> <br> <strong>By Authoritativeness Rating</strong> <p class=\"small text-muted\"> Incoming/Outgoing flow decorations by their authoritativeness. </p> <table class=\"table table-condensed small\"> <colgroup> <col width=20%> <col width=20%> <col width=20%> <col width=20%> <col width=20%> </colgroup> <thead> <tr> <th>Direction</th> <th ng-repeat=\"col in $ctrl.authoritativeCols\"> <waltz-enum-value key=col show-icon=false type=\"\\'AuthoritativenessRating\\'\"> </waltz-enum-value> </th> </tr> </thead> <tbody> <tr> <td>Inbound</td> <td ng-repeat=\"col in $ctrl.authoritativeCols\"> <span ng-bind=\"$ctrl.stats.byDirectionAndAuthoritativeness[\\'INBOUND\\'][col].length || 0\"></span> </td> </tr> <tr> <td>Outbound</td> <td ng-repeat=\"col in $ctrl.authoritativeCols\"> <span ng-bind=\"$ctrl.stats.byDirectionAndAuthoritativeness[\\'OUTBOUND\\'][col].length || 0\"></span> </td> </tr> </tbody> </table> </div> </div>'},895:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=l(n(1)),a=n(2),o=n(0),r=l(n(896));function l(e){return e&&e.__esModule?e:{default:e}}var c={dataTypeUsages:[],logicalFlows:[],logicalFlowDecorators:[],physicalFlows:[],physicalSpecifications:[],visibility:{dataTab:0,logicalFlows:!1,editor:{logicalFlows:!1,bulkLogicalFlows:!1,bulkPhysicalFlows:!1}}};function s(e){var t=(0,o.initialiseData)(this,c);function n(){var n={entityReference:t.parentEntityRef,scope:\"EXACT\"};e.loadViewData(a.CORE_API.LogicalFlowStore.findByEntityReference,[t.parentEntityRef]).then(function(e){return t.logicalFlows=e.data}),e.loadViewData(a.CORE_API.DataTypeUsageStore.findForEntity,[t.parentEntityRef]).then(function(e){return t.dataTypeUsages=e.data}),e.loadViewData(a.CORE_API.PhysicalFlowStore.findByEntityReference,[t.parentEntityRef]).then(function(e){return t.physicalFlows=e.data}),e.loadViewData(a.CORE_API.PhysicalSpecificationStore.findByEntityReference,[t.parentEntityRef]).then(function(e){return t.physicalSpecifications=e.data}),e.loadViewData(a.CORE_API.LogicalFlowDecoratorStore.findBySelectorAndKind,[n,\"DATA_TYPE\"]).then(function(e){return t.logicalFlowDecorators=e.data}),e.loadViewData(a.CORE_API.AuthSourcesStore.findByApp,[t.parentEntityRef.id]).then(function(e){t.authSources=e.data})}t.$onInit=function(){n()},t.showTab=function(n){t.visibility.dataTab=n,2===n&&function(){var n=i.default.chain(t.authSources).map(\"parentReference\").filter({kind:\"ORG_UNIT\"}).map(\"id\").uniq().value();e.loadAppData(a.CORE_API.OrgUnitStore.findByIds,[n]).then(function(e){t.orgUnits=e.data,t.orgUnitsById=i.default.keyBy(e.data,\"id\")})}()},t.onPhysicalFlowsInitialise=function(e){t.physicalFlowProducesExportFn=e.exportProducesFn,t.physicalFlowConsumesExportFn=e.exportConsumesFn,t.physicalFlowUnusedSpecificationsExportFn=e.exportUnusedSpecificationsFn},t.exportPhysicalFlowProduces=function(){t.physicalFlowProducesExportFn()},t.exportPhysicalFlowConsumes=function(){t.physicalFlowConsumesExportFn()},t.exportPhysicalFlowUnusedSpecifications=function(){t.physicalFlowUnusedSpecificationsExportFn()},t.isAnyEditorVisible=function(){return i.default.some(t.visibility.editor,function(e){return e})},t.resetToViewMode=function(){t.visibility.editor=Object.assign({},c.visibility.editor),n()}}s.$inject=[\"ServiceBroker\"];var u={template:r.default,bindings:{parentEntityRef:\"<\"},controller:s};t.default={component:u,id:\"waltzDataFlowSection\"}},896:function(e,t){e.exports='<div> <waltz-section-actions> <div waltz-has-role=LOGICAL_DATA_FLOW_EDITOR ng-if=\"$ctrl.visibility.dataTab == 0 && !$ctrl.isAnyEditorVisible()\"> <div class=btn-group uib-dropdown> <button type=button class=\"btn btn-xs btn-primary\" ng-click=\"$ctrl.visibility.editor.logicalFlow = true\"> Edit </button> <button type=button class=\"btn btn-xs btn-primary\" uib-dropdown-toggle> <span class=caret></span> </button> <ul uib-dropdown-menu class=dropdown-menu role=menu> <li role=menuitem> <a href=\"\" ng-click=\"$ctrl.visibility.editor.bulkLogicalFlows = true\" class=small> <waltz-icon name=upload></waltz-icon> Bulk Insert </a> </li> </ul> </div> </div> <a ng-if=$ctrl.isAnyEditorVisible() ng-click=$ctrl.resetToViewMode() class=\"btn btn-xs btn-primary\"> Done </a> <div waltz-has-role=LOGICAL_DATA_FLOW_EDITOR ng-if=\"$ctrl.visibility.dataTab == 1 && !$ctrl.isAnyEditorVisible()\"> <div class=btn-group uib-dropdown> <a class=\"btn btn-xs btn-primary\" ui-sref=\"main.physical-flow.registration ($ctrl.parentEntityRef)\"> Edit </a> <button type=button class=\"btn btn-xs btn-primary\" uib-dropdown-toggle> <span class=caret></span> </button> <ul uib-dropdown-menu class=dropdown-menu role=menu> <li role=menuitem> <a href=\"\" ng-click=\"$ctrl.visibility.editor.bulkPhysicalFlows = true\" class=small> <waltz-icon name=upload></waltz-icon> Bulk Insert </a> </li> </ul> </div> </div> <waltz-physical-flow-export-buttons ng-if=\"$ctrl.visibility.dataTab == 1\" export-consumes=$ctrl.exportPhysicalFlowConsumes export-produces=$ctrl.exportPhysicalFlowProduces export-unused=exportPhysicalFlowUnusedSpecifications> </waltz-physical-flow-export-buttons> <button class=\"btn btn-xs waltz-btn-transparent\" ng-click=\"$ctrl.visibility.logicalFlows = ! $ctrl.visibility.logicalFlows\"> <waltz-icon name=map-signs></waltz-icon> </button> </waltz-section-actions> <waltz-source-data-overlay visible=$ctrl.visibility.logicalFlows entities=\"[\\'LOGICAL_DATA_FLOW\\', \\'PHYSICAL_SPECIFICATION\\', \\'PHYSICAL_FLOW\\']\"> </waltz-source-data-overlay> <uib-tabset active=active ng-if=!$ctrl.isAnyEditorVisible()> <uib-tab index=0 select=$ctrl.showTab(0) heading=Summary> <div class=waltz-panel-content> <div ng-if=\"$ctrl.dataTypeUsages.length == 0 && $ctrl.logicalFlows.length == 0\"> <waltz-no-data ng-if=\"$ctrl.dataTypeUsages.length == 0\"> <message> <strong> No flows or types </strong> registered for this application. <span waltz-has-role=LOGICAL_DATA_FLOW_EDITOR> Add them <a ng-click=\"$ctrl.visibility.editor.logicalFlow = true\" class=clickable> here. </a> </span> </message> </waltz-no-data> </div> <div ng-if=\"$ctrl.dataTypeUsages.length > 0 || $ctrl.logicalFlows.length > 0\"> <div class=row> <div class=col-sm-6> <waltz-application-flow-summary-pane parent-entity-ref=$ctrl.parentEntityRef> </waltz-application-flow-summary-pane> </div> <div class=col-sm-6> <strong>Data Types</strong> <waltz-no-data ng-if=\"$ctrl.dataTypeUsages.length == 0\"> <message> <strong> No Types </strong> registered for this application. <span waltz-has-role=LOGICAL_DATA_FLOW_EDITOR> Add them <a ng-click=\"$ctrl.visibility.editor.logicalFlow = true\" class=clickable> here. </a> </span> </message> </waltz-no-data> <waltz-app-data-type-usage-list usages=$ctrl.dataTypeUsages ng-if=\"$ctrl.dataTypeUsages.length > 0\"> </waltz-app-data-type-usage-list> <hr> </div> </div> <div class=row> <div class=col-md-12> <strong>Logical Flows</strong> <waltz-no-data ng-if=\"$ctrl.logicalFlows.length == 0\"> <message> <strong> No Logical Data Flows </strong> registered for this application. <span waltz-has-role=LOGICAL_DATA_FLOW_EDITOR> Add one <a ng-click=\"$ctrl.visibility.editor.logicalFlow = true\" class=clickable> here. </a> </span> </message> </waltz-no-data> <div ng-if=\"$ctrl.logicalFlows.length > 0\"> <waltz-source-and-target-panel entity-ref=$ctrl.parentEntityRef logical-flows=$ctrl.logicalFlows decorators=$ctrl.logicalFlowDecorators physical-flows=$ctrl.physicalFlows physical-specifications=$ctrl.physicalSpecifications> </waltz-source-and-target-panel> <p class=\"text-muted small\"> This diagram shows flows categorized by data type to this application (center) from sending systems (on the left) and to the receiving system (on the right). <span style=color:#8b0000>Red lines</span> indicate <span ng-bind=\"\\'DISCOURAGED\\'|toDisplayName:\\'AuthoritativenessRating\\'\"></span> flows. <span style=color:orange>Amber lines</span> indicate <span ng-bind=\"\\'SECONDARY\\' |toDisplayName:\\'AuthoritativenessRating\\'\"></span> flows and <span style=color:#006400>Green Lines</span> indicate <span ng-bind=\"\\'PRIMARY\\'|toDisplayName:\\'AuthoritativenessRating\\'\"></span> flows. </p> </div> </div> </div> </div> </div> </uib-tab> <uib-tab index=1 select=$ctrl.showTab(1) heading=\"Physical Flow Detail\"> <div ng-if=\"$ctrl.visibility.dataTab == 1\"> <br> <waltz-physical-data-section specifications=$ctrl.physicalSpecifications logical-flows=$ctrl.logicalFlows primary-ref=$ctrl.parentEntityRef on-initialise=$ctrl.onPhysicalFlowsInitialise physical-flows=$ctrl.physicalFlows> </waltz-physical-data-section> </div> </uib-tab> <uib-tab index=2 ng-if=\"$ctrl.parentEntityRef.kind === \\'APPLICATION\\'\" select=$ctrl.showTab(2) disable=\"$ctrl.authSources | isEmpty\" heading=Authority> <div ng-if=\"$ctrl.visibility.dataTab == 2\" style=padding-top:1em> <waltz-auth-sources-table auth-sources=$ctrl.authSources> </waltz-auth-sources-table> </div> </uib-tab> </uib-tabset> <div ng-if=$ctrl.visibility.editor.logicalFlow> <h4>Edit Logical Data Flows</h4> <waltz-logical-flow-edit-panel parent-entity-ref=$ctrl.parentEntityRef> </waltz-logical-flow-edit-panel> </div> <div ng-if=$ctrl.visibility.editor.bulkLogicalFlows> <h4>Bulk Insert Logical Data Flows</h4> <waltz-bulk-logical-flow-loader-wizard> </waltz-bulk-logical-flow-loader-wizard> </div> <div ng-if=$ctrl.visibility.editor.bulkPhysicalFlows> <waltz-bulk-physical-flow-loader-wizard> </waltz-bulk-physical-flow-loader-wizard> </div> </div> '},897:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(n(6)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(215)),o=n(7),r=s(n(898)),l=s(n(900)),c=s(n(902));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=i.default.module(\"waltz.data.type.usage\",[]);return e.directive(\"waltzAppDataTypeUsageList\",r.default),e.component(\"waltzDataTypeUsageStatTable\",l.default).component(\"waltzAppDataTypeUsageEditor\",c.default),(0,o.registerStore)(e,a),e.name}},898:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=l(n(1)),a=l(n(391)),o=n(0),r=l(n(899));function l(e){return e&&e.__esModule?e:{default:e}}var c={consolidatedUsages:{},allUsageKinds:a.default,usages:[]};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2];return i.default.find(e,{dataTypeCode:t,usage:{kind:n}})}function u(e){var t=i.default.defaultsDeep(this,c);e.$watch(\"ctrl.usages\",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.consolidatedUsages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.chain(e).groupBy(\"dataTypeCode\").mapValues(function(e){return i.default.chain(e).map(\"usage\").filter(function(e){return e.isSelected||(0,o.notEmpty)(e.description)}).value()}).value()}(e)}),t.isSelected=function(e,n){var i=s(t.usages,e,n);return i&&i.usage.isSelected},t.hasDescription=function(e,n){var i=s(t.usages,e,n);return i&&i.usage.description},t.lookupDescription=function(e,n){var i=s(t.usages,e,n);return i?i.usage.description:\"\"}}u.$inject=[\"$scope\"];var d={restrict:\"E\",replace:!1,template:r.default,controller:u,controllerAs:\"ctrl\",scope:{},bindToController:{usages:\"<\"}};t.default=function(){return d}},899:function(e,t){e.exports='<div class=waltz-app-data-type-usage-list> <table class=\"table table-condensed small\"> <colgroup> <col width=50%> <col ng-repeat=\"k in ctrl.allUsageKinds\" width=\"{{ 50 / ctrl.allUsageKinds.length }}%\"> </colgroup> <thead> <tr> <th>Type</th> <th ng-repeat=\"usageKind in ctrl.allUsageKinds\" class=wadtul-rotate-45 align=\"\" uib-popover-html=usageKind.nameDescription popover-append-to-body=true popover-trigger=mouseenter> <div> <span> <span ng-bind=\"usageKind.kind | toDisplayName:\\'usageKind\\'\"></span> <waltz-icon name=\"{{ usageKind.kind | toIconName:\\'usageKind\\' }}\"> </waltz-icon> </span> </div> </th> </tr> </thead> <tbody ng-repeat=\"(dataTypeCode, usages) in ctrl.consolidatedUsages\"> <tr> <td> <span uib-popover=\"{{ dataTypeCode | toDescription: \\'dataType\\' }}\" popover-append-to-body=true popover-trigger=mouseenter ng-bind=\"dataTypeCode | toDisplayName:\\'dataType\\'\"></span> </td> <td ng-repeat=\"usageKind in ctrl.allUsageKinds\" uib-popover=\"{{ ctrl.lookupDescription(dataTypeCode, usageKind.kind) }}\" popover-append-to-body=true popover-trigger=mouseenter align=center> <span ng-if=\"ctrl.isSelected(dataTypeCode, usageKind.kind)\" style=color:green> <waltz-icon name=check></waltz-icon> </span> <span ng-if=\"ctrl.hasDescription(dataTypeCode, usageKind.kind) && ! ctrl.isSelected(dataTypeCode, usageKind.kind)\" style=color:#8b0000> <waltz-icon name=times></waltz-icon> </span> <span ng-if=\"ctrl.hasDescription(dataTypeCode, usageKind.kind)\" style=color:#00f> <waltz-icon name=ellipsis-h></waltz-icon> </span> <span ng-if=\"! ctrl.hasDescription(dataTypeCode, usageKind.kind)\"> &nbsp;&nbsp; </span> </td> </tr> </tbody> </table> </div> '},900:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i={bindings:{stats:\"<\"},template:function(e){return e&&e.__esModule?e:{default:e}}(n(901)).default};t.default=i},901:function(e,t){e.exports='<table class=\"small table table-condensed\"> <thead> <tr> <th>Usage Kind</th> <th>Count</th> </tr> </thead> <tbody> <tr ng-repeat=\"stat in $ctrl.stats | orderBy:\\'id\\'\"> <td> <span ng-bind=\"stat.id | toDisplayName:\\'usageKind\\'\"></span> </td> <td> <span ng-bind=stat.count></span> </td> </tr> </tbody> </table>'},902:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=l(n(1)),a=l(n(391)),o=n(0),r=l(n(903));function l(e){return e&&e.__esModule?e:{default:e}}var c={rows:[],onCancel:function(){return\"no onCancel handler provided for app-data-type-usage-editor\"},onSave:function(){return\"no onSave handler provided for app-data-type-usage-editor\"}};function s(){var e=(0,o.initialiseData)(this,c);e.$onChanges=function(){return e.usageRows=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=i.default.keyBy(e,\"kind\");return i.default.chain(a.default).map(function(e){var n=t[e.kind];return Object.assign({},e,{description:n?n.description:\"\",selected:null!=n&&n.isSelected})}).orderBy(\"kind\").value()}(e.usages)},e.save=function(){return e.onSave(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.map(e,function(e){return{kind:e.kind,isSelected:e.selected,description:e.description}})}(e.usageRows))},e.cancel=function(){return e.onCancel()}}s.$inject=[];var u={template:r.default,controller:s,bindings:{primaryEntity:\"<\",type:\"<\",usages:\"<\",onCancel:\"<\",onSave:\"<\"}};t.default=u},903:function(e,t){e.exports='<div class=row> <div class=col-md-11> <h4> <waltz-icon name=dot-circle-o></waltz-icon> Update data type usage <small ng-bind=$ctrl.type.name></small> </h4> <p class=\"small text-muted waltz-paragraph\"> Describe how this application uses this data type. </p> <table class=\"table table-condensed small waltz-app-type-usage-editor\"> <thead> <tr> <th>Usage</th> <th>Y/N</th> <th>Description</th> </tr> </thead> <tbody> <tr ng-repeat=\"row in $ctrl.usageRows\"> <td> <span uib-popover-html=row.nameDescription popover-append-to-body=true popover-trigger=mouseenter ng-bind=row.displayName></span> </td> <td uib-popover-html=row.readOnlyDescription popover-append-to-body=true popover-trigger=mouseenter> <input type=checkbox ng-model=row.selected ng-disabled=row.readOnly> </td> <td> <span ng-if=\"row.description.length > 0 || row.selected\"> <textarea rows=2 cols=30 placeholder=Description ng-model=row.description>\\n                        </textarea> </span> <span ng-if=\"! row.description\"> - </span> </td> </tr> </tbody> </table> <div class=pull-right> <button class=\"btn btn-success\" ng-click=$ctrl.save()> Apply </button> <a href ng-click=$ctrl.cancel()> Cancel </a> </div> </div> </div>'},904:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=v(n(6)),a=n(7),o=v(n(214)),r=v(n(905)),l=v(n(907)),c=v(n(909)),s=v(n(911)),u=v(n(913)),d=v(n(915)),p=v(n(917)),f=v(n(919)),m=v(n(921)),y=v(n(927));function v(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=i.default.module(\"waltz.data.types\",[]);return e.config(m.default),(0,a.registerStores)(e,[o.default]),(0,a.registerComponents)(e,[p.default,d.default,u.default,r.default,l.default,c.default,s.default,f.default]),e.service(\"DataTypeViewDataService\",y.default),e.name}},905:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=c(n(1)),a=n(2),o=n(24),r=c(n(906)),l=n(73);function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=i.default.keyBy(e,\"id\");i.default.chain(t).filter(function(e){return\"DATA_TYPE\"===e.decoratorEntityReference.kind}).forEach(function(e){var t=e.decoratorEntityReference.id,i=n[t],a=function(e){switch(e){case\"PRIMARY\":return\"G\";case\"SECONDARY\":return\"A\";case\"DISCOURAGED\":return\"R\";case\"NO_OPINION\":return\"Z\";default:return e}}(e.rating);i.directCounts=Object.assign({},i.directCounts,s({},a,e.count))}).value();var a=(0,o.buildHierarchies)(i.default.values(n),!1),r=function e(t,n){if(!n)return 0;var a=i.default.sum(i.default.map(n.children,function(n){return e(t,n)}))+i.default.get(n,\"directCounts.\"+t,0);return n.cumulativeCounts=Object.assign({},n.cumulativeCounts,s({},t,a)),a};return i.default.forEach(a,function(e){var t=r(\"R\",e),n=r(\"A\",e),i=r(\"G\",e),a=r(\"Z\",e);e.cumulativeCounts={R:t,A:n,G:i,Z:a,total:t+n+i+a}}),a}function d(e,t){var n=this;n.$onInit=function(){n.ratingSchemeItems=(0,l.mkAuthoritativeRatingSchemeItems)(e),t.loadAppData(a.CORE_API.DataTypeStore.findAll,[]).then(function(e){n.dataTypes=e.data,n.searchNodes=(0,o.prepareSearchNodes)(n.dataTypes)}).then(function(){return t.loadViewData(a.CORE_API.LogicalFlowDecoratorStore.summarizeInboundForAll)}).then(function(e){n.hierarchy=u(n.dataTypes,e.data),n.maxTotal=i.default.chain(n.hierarchy).map(\"cumulativeCounts.total\").max().value()})},n.treeOptions={nodeChildren:\"children\",dirSelectable:!0,equality:function(e,t){return e&&t&&e.id===t.id}},n.searchTermsChanged=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=(0,o.doSearch)(e,n.searchNodes);n.hierarchy=u(t),n.expandedNodes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length<6?i.default.clone(e):[]}(n.hierarchy)},n.clearSearch=function(){n.searchTermsChanged(\"\"),n.searchTerms=\"\"}}d.$inject=[\"DisplayNameService\",\"ServiceBroker\"];var p={bindings:{onSelection:\"<\"},template:r.default,controller:d};t.default={id:\"waltzDataTypeUsageCountTree\",component:p}},906:function(e,t){e.exports='<div> <div class=wdtt-search-region> <waltz-icon name=search ng-class=\"{\\n                    \\'wdtt-search-active\\' : $ctrl.searchTerms.length > 0,\\n                    \\'wdtt-search-inactive\\' : $ctrl.searchTerms.length == 0\\n                }\"> </waltz-icon> <input type=search class=form-control name=searchTerms ng-model=$ctrl.searchTerms ng-change=$ctrl.searchTermsChanged($ctrl.searchTerms) ng-model-options=\"{ debounce: 200 }\" placeholder=Search> &nbsp; <waltz-icon name=close style=color:#8b0000 ng-if=\"$ctrl.searchTerms.length > 0\" class=clickable ng-click=$ctrl.clearSearch()> </waltz-icon> </div> <treecontrol class=tree-light tree-model=$ctrl.hierarchy order-by=\"\\'-name\\'\" expanded-nodes=$ctrl.expandedNodes options=$ctrl.treeOptions> <span class=waltz-visibility-parent> <a ui-sref=\"main.data-type.view ({id: node.id })\" uib-popover-template=\"\\'wdtt-popover.html\\'\" popover-trigger=mouseenter popover-popup-delay=300 popover-append-to-body=true> <strong ng-bind=node.name> </strong> </a> <waltz-rag-line class=waltz-visibility-child-50 scores=node.cumulativeCounts rating-scheme-items=$ctrl.ratingSchemeItems style=padding-left:20px range=\"[0, $ctrl.maxTotal]\"> </waltz-rag-line> <div class=small style=padding-left:5em ng-hide=true> <strong>Direct</strong><pre ng-bind=\"node.directCounts | json\"></pre> <strong>Cumulative</strong><pre ng-bind=\"node.cumulativeCounts | json\"></pre> </div> </span> </treecontrol> <script type=text/ng-template id=wdtt-popover.html> <strong ng-bind=\"node.name\"></strong>\\n        <p class=\"small text-muted\"\\n           ng-bind=\"node.description\">\\n        </p>\\n        <div class=\"small\">\\n            <table class=\"table table-condensed small\">\\n                <thead>\\n                <tr>\\n                    <th>Flow Ratings</th>\\n                    <th>Count</th>\\n                </tr>\\n                </thead>\\n                <tbody>\\n                <tr>\\n                    <td>\\n                        <span ng-bind=\"\\'PRIMARY\\'| toDisplayName: \\'AuthoritativenessRating\\'\"></span>\\n                    </td>\\n                    <td>\\n                        <span ng-bind=\"node.cumulativeCounts.G\"></span>\\n                    </td>\\n                </tr>\\n                <tr>\\n                    <td>\\n                        <span ng-bind=\"\\'SECONDARY\\'| toDisplayName: \\'AuthoritativenessRating\\'\"></span>\\n                    </td>\\n                    <td>\\n                        <span ng-bind=\"node.cumulativeCounts.A\"></span>\\n                    </td>\\n                </tr>\\n                <tr>\\n                    <td>\\n                        <span ng-bind=\"\\'DISCOURAGED\\'| toDisplayName: \\'AuthoritativenessRating\\'\"></span>\\n                    </td>\\n                    <td>\\n                        <span ng-bind=\"node.cumulativeCounts.R\"></span>\\n                    </td>\\n                </tr>\\n                <tr>\\n                    <td>\\n                        <span ng-bind=\"\\'NO_OPINION\\'| toDisplayName: \\'AuthoritativenessRating\\'\"></span>\\n                    </td>\\n                    <td>\\n                        <span ng-bind=\"node.cumulativeCounts.Z\"></span>\\n                    </td>\\n                </tr>\\n                </tbody>\\n            </table>\\n        </div> <\\/script> </div>'},907:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=c(n(1)),a=n(0),o=n(2),r=c(n(908)),l=c(n(53));function c(e){return e&&e.__esModule?e:{default:e}}var s={helpText:null,isDirty:!1,visibility:{editor:!1,controls:!1}};function u(e,t,n){var r=(0,a.initialiseData)(this,s),c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(\"PHYSICAL_SPECIFICATION\"===r.parentEntityRef.kind?t.loadViewData(o.CORE_API.PhysicalSpecDataTypeStore.findBySpecificationId,[r.parentEntityRef.id],{force:e}).then(function(e){return e.data}):t.loadViewData(o.CORE_API.LogicalFlowDecoratorStore.findByFlowIdsAndKind,[[r.parentEntityRef.id]],{force:e}).then(function(e){return e.data}).then(function(e){return i.default.map(e,function(e){return{lastUpdatedAt:e.lastUpdatedAt,lastUpdatedBy:e.lastUpdatedBy,provenance:e.provenance,dataTypeId:e.decoratorEntity.id,dataFlowId:e.dataFlowId}})})).then(function(e){r.used=e})};r.$onInit=function(){n.whoami().then(function(e){return r.visibility.controls=n.hasRole(e,l.default.LOGICAL_DATA_FLOW_EDITOR)})},r.$onChanges=function(){r.parentEntityRef&&c()},r.onShowEdit=function(){r.visibility.editor=!0},r.onHideEdit=function(){r.visibility.editor=!1},r.onSave=function(){r.save?r.save().then(function(){e.success(\"Data types updated successfully\"),c(!0),r.onHideEdit()}):console.log(\"onSave - no impl\")},r.onDirty=function(e){r.isDirty=e},r.registerSaveFn=function(e){r.save=e}}u.$inject=[\"Notification\",\"ServiceBroker\",\"UserService\"];var d={template:r.default,bindings:{parentEntityRef:\"<\",helpText:\"@\"},controller:u};t.default={id:\"waltzDataTypeUsagePanel\",component:d}},908:function(e,t){e.exports='<div class=waltz-data-type-usage-panel> <waltz-sub-section name=\"Data Types\" hide-controls=\"! $ctrl.visibility.controls\"> <content> <div style=padding-top:.5em> <div ng-if=!$ctrl.visibility.editor> <div ng-if=\"$ctrl.used.length > 0\"> <waltz-data-type-usage-tree used=$ctrl.used> </waltz-data-type-usage-tree> <div ng-if=$ctrl.helpText class=\"help-block waltz-sub-section-content small\" ng-bind=$ctrl.helpText> </div> </div> <div ng-if=\"$ctrl.used.length == 0\" class=waltz-sub-section-content> No associated <strong>data types</strong> have been found </div> </div> <div ng-if=$ctrl.visibility.editor class=waltz-highlight-if> <waltz-data-type-usage-selector parent-entity-ref=$ctrl.parentEntityRef on-dirty=$ctrl.onDirty on-register-save=$ctrl.registerSaveFn> </waltz-data-type-usage-selector> </div> </div> <div class=waltz-sub-section-controls waltz-has-role=LOGICAL_DATA_FLOW_EDITOR> <span ng-if=!$ctrl.visibility.editor> <a ng-click=$ctrl.onShowEdit() class=clickable> Edit </a> </span> <span ng-if=$ctrl.visibility.editor> <a ng-click=$ctrl.onSave() class=clickable ng-disabled=\"! $ctrl.isDirty\"> Save </a> | <a ng-click=$ctrl.onHideEdit() class=clickable> Cancel </a> </span> </div> </content> </waltz-sub-section> </div> '},909:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=l(n(1)),a=n(0),o=n(2),r=l(n(910));function l(e){return e&&e.__esModule?e:{default:e}}var c={dataTypes:[],allDataTypes:[],checkedItemIds:[],originalSelectedItemIds:[],expandedItemIds:[],onDirty:function(e){return console.log(\"dtus:onDirty - default impl\",e)},onRegisterSave:function(e){return console.log(\"dtus:onRegisterSave - default impl\",e)}};function s(e){var t=(0,a.initialiseData)(this,c),n=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.map(e,\"dataTypeId\")}(t.dataTypes);t.checkedItemIds=e,t.originalSelectedItemIds=e,t.expandedItemIds=e},r=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={entityReference:t.parentEntityRef,scope:\"EXACT\"};return(\"PHYSICAL_SPECIFICATION\"==t.parentEntityRef.kind?e.loadViewData(o.CORE_API.PhysicalSpecDataTypeStore.findBySpecificationSelector,[a],{force:n}).then(function(e){return e.data}):e.loadViewData(o.CORE_API.LogicalFlowDecoratorStore.findByFlowIdsAndKind,[[t.parentEntityRef.id]],{force:n}).then(function(e){return e.data}).then(function(e){return i.default.map(e,function(e){return{lastUpdatedAt:e.lastUpdatedAt,lastUpdatedBy:e.lastUpdatedBy,provenance:e.provenance,dataTypeId:e.decoratorEntity.id,dataFlowId:e.dataFlowId}})})).then(function(e){return t.dataTypes=e})};e.loadAppData(o.CORE_API.DataTypeStore.findAll).then(function(e){t.allDataTypes=e.data,t.allDataTypesById=i.default.keyBy(e.data,\"id\")}),t.toggleTypeChecked=function(e){i.default.some(t.checkedItemIds,function(t){return t===e})?t.typeUnchecked(e):t.typeChecked(e)},t.typeUnchecked=function(e){t.onDirty(!0),t.checkedItemIds=i.default.without(t.checkedItemIds,e)},t.typeChecked=function(e){for(var n=t.allDataTypesById[e];n;){var a=t.allDataTypesById[n.parentId];!1===i.default.get(a,\"concrete\",!0)&&t.typeUnchecked(a.id),n=a}t.onDirty(!0),t.checkedItemIds=i.default.union(t.checkedItemIds,[e])},t.save=function(){var a=null;if(\"PHYSICAL_SPECIFICATION\"===t.parentEntityRef.kind){var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{specificationId:e,addedDataTypeIds:i.default.difference(t,n),removedDataTypeIds:i.default.difference(n,t)}}(t.parentEntityRef.id,t.checkedItemIds,t.originalSelectedItemIds);a=e.execute(o.CORE_API.PhysicalSpecDataTypeStore.save,[t.parentEntityRef.id,l])}else if(\"LOGICAL_DATA_FLOW\"===t.parentEntityRef.kind){var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{flowId:e,addedDecorators:i.default.chain(t).difference(n).map(function(e){return{kind:\"DATA_TYPE\",id:e}}).value(),removedDecorators:i.default.chain(n).difference(t).map(function(e){return{kind:\"DATA_TYPE\",id:e}}).value()}}(t.parentEntityRef.id,t.checkedItemIds,t.originalSelectedItemIds);a=e.execute(o.CORE_API.LogicalFlowDecoratorStore.updateDecorators,[c])}return a.then(function(e){return r(!0)}).then(function(){n(),t.onDirty(!1)})},t.$onInit=function(){t.onDirty(!1),t.onRegisterSave(t.save),r().then(n)}}s.$inject=[\"ServiceBroker\"],t.default={component:{template:r.default,bindings:{parentEntityRef:\"<\",onDirty:\"<\",onRegisterSave:\"<\"},controller:s},id:\"waltzDataTypeUsageSelector\"}},910:function(e,t){e.exports=\"<waltz-multi-select-tree-control items=$ctrl.allDataTypes on-click=$ctrl.toggleTypeChecked on-check=$ctrl.typeChecked on-uncheck=$ctrl.typeUnchecked checked-item-ids=$ctrl.checkedItemIds expanded-item-ids=$ctrl.expandedItemIds> <strong uib-popover={{node.description}} popover-trigger=mouseenter popover-popup-delay=400 popover-append-to-body=true ng-bind=node.name> </strong> </waltz-multi-select-tree-control> \"},911:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=c(n(1)),a=n(0),o=n(2),r=n(24),l=c(n(912));function c(e){return e&&e.__esModule?e:{default:e}}var s={};function u(e){var t=(0,a.initialiseData)(this,s);t.$onChanges=function(){t.used&&e.loadAppData(o.CORE_API.DataTypeStore.findAll).then(function(e){var n=i.default.keyBy(e.data,\"id\"),a=i.default.map(t.used,function(e){return\"DATA_TYPE\"===e.kind?e.id:e.dataTypeId}),o=i.default.chain(a).flatMap(function(e){return function(e,t){for(var n=[],i=t[e];i;)n.push(i),i=t[i.parentId];return n}(e,n)}).uniqBy(\"id\").map(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.assign({},e,{explicit:i.default.includes(t,e.id)})}(e,a)}).value(),l=(0,r.buildHierarchies)(o,!1);t.expandedNodes=o,t.hierarchy=l})},t.treeOptions={nodeChildren:\"children\",dirSelectable:!0,equality:function(e,t){return e&&t&&e.id===t.id}}}u.$inject=[\"ServiceBroker\"];var d={template:l.default,bindings:{used:\"<\"},controller:u};t.default={id:\"waltzDataTypeUsageTree\",component:d}},912:function(e,t){e.exports='<div class=waltz-data-type-usage-tree> <treecontrol class=tree-light tree-model=$ctrl.hierarchy order-by=\"\\'-name\\'\" expanded-nodes=$ctrl.expandedNodes options=$ctrl.treeOptions> <span uib-popover={{node.description}} popover-trigger=mouseenter popover-popup-delay=400 popover-append-to-body=true class=waltz-visibility-parent ng-class=\"{\\n                    \\'wdtut-implicit\\' : !node.explicit,\\n                    \\'wdtut-explicit\\' : node.explicit\\n                  }\"> <span ng-bind=node.name> </span> <a class=\"waltz-visibility-child-30 small\" ui-sref=\"main.data-type.view ({id: node.id })\"> (more) </a> </span> </treecontrol> </div> '},913:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(24),a=n(2),o=n(17),r=function(e){return e&&e.__esModule?e:{default:e}}(n(914));function l(e){var t=this;t.$onInit=function(){e.loadAppData(a.CORE_API.DataTypeStore.findAll).then(function(e){var n=e.data,a=_.keyBy(n,\"id\"),o=a[t.parentEntityRef.id];t.dataType=o,t.parents=(0,i.getParents)(o,function(e){return a[e.parentId]})}),e.loadViewData(a.CORE_API.ApplicationStore.findBySelector,[(0,o.mkSelectionOptions)(t.parentEntityRef)]).then(function(e){return t.apps=e.data}),e.loadViewData(a.CORE_API.DataTypeUsageStore.calculateStats,[(0,o.mkSelectionOptions)(t.parentEntityRef)]).then(function(e){return t.usageStats=e.data})}}l.$inject=[\"ServiceBroker\"];var c={bindings:{parentEntityRef:\"<\"},template:r.default,controller:l};t.default={component:c,id:\"waltzDataTypeOverview\"}},914:function(e,t){e.exports='<div class=\"waltz-page-summary waltz-page-summary-attach\"> <div class=row> <div class=col-sm-12> <div ng-if=$ctrl.dataType> <div class=row> <div class=\"col-sm-2 waltz-display-field-label\"> Description </div> <div class=\"col-sm-10 text-muted\"> <waltz-markdown text=$ctrl.dataType.description ng-if=$ctrl.dataType.description> </waltz-markdown> <span ng-if=!$ctrl.dataType.description> Description not provided </span> </div> </div> <hr> <div class=container-fluid> <div class=row> <div class=col-sm-4> <waltz-apps-by-investment-pie applications=$ctrl.apps size=70> </waltz-apps-by-investment-pie> </div> <div class=col-sm-4> <waltz-apps-by-lifecycle-phase-pie applications=$ctrl.apps size=70> </waltz-apps-by-lifecycle-phase-pie> </div> <div class=col-sm-4> <waltz-basic-info-tile waltz-jump-to=data-type-usage-section icon=crosshairs name=\"Data Type Usage\"> <br> <waltz-data-type-usage-stat-table stats=$ctrl.usageStats> </waltz-data-type-usage-stat-table> </waltz-basic-info-tile> </div> </div> </div> <div class=\"row no-overflow\" ng-if=\"$ctrl.parents.length > 0 || $ctrl.dataType.children.length > 0\" style=padding:1em> <div class=col-sm-4 ng-if=\"$ctrl.parents.length > 0\"> <h4>Parent dataTypes: </h4> <ul> <li ng-repeat=\"parent in $ctrl.parents\"> <a ui-sref=\"main.data-type.view ({id: parent.id })\" ng-bind=parent.name> </a> <span ng-if=!$last>&raquo;</span> </li> </ul> <span class=\"text-muted small\" ng-bind=$ctrl.parent.description> </span> </div> <div ng-if=\"$ctrl.dataType.children.length > 0\" class=col-sm-8> <h4>Child dataTypes</h4> <ul> <li ng-repeat=\"child in $ctrl.dataType.children | orderBy:\\'name\\'\"> <a ui-sref=\"main.data-type.view ({id: child.id})\" class=clickable ng-bind=child.name> </a> </li> </ul> </div> </div> </div> <waltz-no-data ng-if=!$ctrl.dataType> <message>No information for this Data Type</message> </waltz-no-data> </div> </div> </div>'},915:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(n(1)),a=n(0),o=n(19),r=n(2),l=n(17),c=s(n(916));function s(e){return e&&e.__esModule?e:{default:e}}var u={flowData:{},filterOptions:{showPrimary:!0,showSecondary:!0,showDiscouraged:!1,showNoOpinion:!1}};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=i.default.keyBy(e,\"dataFlowId\"),a=function(e){var t=n[e.data.id];return t?t.rating:\"NO_OPINION\"};return{node:{enter:function(e){e.on(\"click.appSelect\",t).on(\"dblclick.unfix\",function(e){e.fx=null,e.fy=null})},exit:i.default.identity,update:i.default.identity},link:{enter:function(e){e.attrs({stroke:function(e){var t=a(e);return(0,o.authoritativeRatingColorScale)(t)},fill:function(e){var t=a(e);return(0,o.authoritativeRatingColorScale)(t).brighter()}})},exit:i.default.identity,update:i.default.identity}}};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return i.default.filter(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){switch(t.rating){case\"PRIMARY\":return e.showPrimary;case\"SECONDARY\":return e.showSecondary;case\"DISCOURAGED\":return e.showDiscouraged;case\"NO_OPINION\":return e.showNoOpinion}}}(t))}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments[2]),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=i.default.map(t,\"dataFlowId\");return i.default.filter(e,function(e){return i.default.includes(n,e.id)})}(e,t);return{entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.chain(e).flatMap(function(e){return[e.source,e.target]}).uniqBy(\"id\").value()}(n),flows:n,decorators:t}}function f(e,t,n){var i=(0,a.initialiseData)(this,u),o=function(e){return t.$applyAsync(function(){return i.selectedApp=e})};i.filterChanged=function(){i.flowData=p(i.rawFlows,i.rawDecorators,i.filterOptions)},i.showAll=function(){i.filterOptions={showPrimary:!0,showSecondary:!0,showDiscouraged:!0,showNoOpinion:!0},i.filterChanged()},i.refocusApp=function(e){o(e)},i.$onInit=function(){var t=(0,l.mkSelectionOptions)(i.parentEntityRef),a=n.loadViewData(r.CORE_API.LogicalFlowStore.findBySelector,[t]).then(function(e){return i.rawFlows=e.data}),c=n.loadViewData(r.CORE_API.LogicalFlowDecoratorStore.findBySelector,[t]).then(function(e){i.rawDecorators=e.data,i.graphTweakers=d(i.rawDecorators,o)});e.all([a,c]).then(function(){return i.filterChanged()})}}f.$inject=[\"$q\",\"$scope\",\"ServiceBroker\"];var m={bindings:{parentEntityRef:\"<\"},template:c.default,controller:f};t.default={component:m,id:\"waltzDataTypeFlowSection\"}},916:function(e,t){e.exports='<div> <div class=row> <div class=col-sm-4> <div> <div class=\"waltz-paragraph text-muted small\"> Use this panel to configure this view: </div> <h5> <waltz-icon name=filter></waltz-icon> Authoritative Rating </h5> <div class=\"waltz-flow-filter-options-overlay waltz-paragraph small\" style=padding-bottom:4px;margin-left:1em> Select one of the following ratings: <div> <div> <label> <input type=checkbox ng-model=$ctrl.filterOptions.showPrimary ng-change=$ctrl.filterChanged()> <waltz-enum-value type=\"\\'AuthoritativenessRating\\'\" show-icon=false key=\"\\'PRIMARY\\'\"> </waltz-enum-value> </label> </div> <div> <label> <input type=checkbox ng-model=$ctrl.filterOptions.showSecondary ng-change=$ctrl.filterChanged()> <waltz-enum-value type=\"\\'AuthoritativenessRating\\'\" show-icon=false key=\"\\'SECONDARY\\'\"> </waltz-enum-value> </label> </div> <div> <label> <input type=checkbox ng-model=$ctrl.filterOptions.showDiscouraged ng-change=$ctrl.filterChanged()> <waltz-enum-value type=\"\\'AuthoritativenessRating\\'\" show-icon=false key=\"\\'DISCOURAGED\\'\"> </waltz-enum-value> </label> </div> <div> <label style=\"border-bottom:1px dotted #ccc;margin-bottom:4px;padding-bottom:4px\"> <input type=checkbox ng-model=$ctrl.filterOptions.showNoOpinion ng-change=$ctrl.filterChanged()> <waltz-enum-value type=\"\\'AuthoritativenessRating\\'\" show-icon=false key=\"\\'NO_OPINION\\'\"> </waltz-enum-value> </label> </div> <a class=clickable ng-click=$ctrl.showAll()> <strong>Show All Flows</strong> </a> </div> </div> </div> <div ng-if=$ctrl.selectedApp> <hr> <h4 ng-bind=$ctrl.selectedApp.name></h4> <a ui-sref=\"main.app.view ({ id: $ctrl.selectedApp.id })\"> More &raquo; </a> <waltz-app-centric-flow-table app=$ctrl.selectedApp flows=$ctrl.flowData.flows decorators=$ctrl.flowData.decorators data-data-types=$ctrl.dataTypes on-select=$ctrl.refocusApp> </waltz-app-centric-flow-table> </div> </div> <div class=col-sm-8> <div ng-if=\"$ctrl.flowData.entities.length == 0\"> <div class=\"alert alert-warning\"> <strong>No data to show</strong> given the current filter options. </div> </div> <div ng-if=\"$ctrl.flowData.entities.length >= 200 && !$ctrl.visibility.ignoreLimits\"> <div class=\"alert alert-warning\"> This graph will have <strong>too many nodes</strong> to render smoothly. Use the configure button too limit the amount of data to show. Alternatively the data is available via the \\'Table\\' tab. <br> If you still want to see the graph click <a class=clickable ng-click=\"$ctrl.visibility.ignoreLimits = true\">here</a> - however be aware that your machine may struggle. </div> </div> <div ng-if=\"$ctrl.flowData.flows.length > 0\"> <div ng-if=\"$ctrl.flowData.entities.length < 200  || $ctrl.visibility.ignoreLimits\" style=\"border:1px solid #ccc\"> <waltz-logical-flow-diagram data=$ctrl.flowData tweakers=$ctrl.graphTweakers> </waltz-logical-flow-diagram> <div class=\"small text-muted\"> Dragging nodes will pin them. Double click to unpin. </div> </div> </div> </div> </div> </div> '},917:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=c(n(1)),a=n(0),o=n(2),r=c(n(918)),l=n(17);function c(e){return e&&e.__esModule?e:{default:e}}var s={dataTypes:[],flowOriginators:{}};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.default.keyBy(e,\"id\");return i.default.map(t,function(e,t){return{dataType:n[t],appReferences:i.default.sortBy(e,\"name\")}})}function d(e){var t=(0,a.initialiseData)(this,s);t.$onInit=function(){var n=e.loadAppData(o.CORE_API.DataTypeStore.findAll).then(function(e){return t.dataTypes=e.data}),i=e.loadViewData(o.CORE_API.DataTypeUsageStore.findForUsageKindByDataTypeIdSelector,[\"ORIGINATOR\",(0,l.mkSelectionOptions)(t.parentEntityRef)]).then(function(e){return t.flowOriginators=e.data});n.then(function(){return i}).then(function(){return t.originators=u(t.dataTypes,t.flowOriginators)})},t.$onChanges=function(){t.originators=u(t.dataTypes,t.flowOriginators)}}d.$inject=[\"ServiceBroker\"];var p={bindings:{parentEntityRef:\"<\",flowOriginators:\"<\"},template:r.default,controller:d};t.default={component:p,id:\"waltzDataTypeOriginators\"}},918:function(e,t){e.exports='<div> <div class=row> <div class=col-md-12> <p class=text-muted> This section shows applications which originate data (they have no incoming flow of that data type) </p> </div> </div> <div class=row> <div class=col-md-6 ng-repeat=\"typeGroup in $ctrl.originators\"> <div> <h4 ng-bind=typeGroup.dataType.name></h4> <div ng-class=\"{\\'waltz-scroll-region-250\\': typeGroup.appReferences.length > 15 }\"> <ul class=\"small list-unstyled\"> <ul ng-repeat=\"appRef in typeGroup.appReferences\"> <li> <a ui-sref=\"main.app.view ({id: appRef.id })\" ng-bind=appRef.name></a> </li> </ul> </ul> </div> </div> </div> </div> </div>'},919:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(n(920)),a=n(0),o=n(2),r=s(n(1)),l=n(12),c=n(110);function s(e){return e&&e.__esModule?e:{default:e}}var u={visibility:{picker:!1}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=r.default.map(e,\"id\");return r.default.includes(n,t.id)}function p(e,t){var n=(0,a.initialiseData)(this,u);function i(){if(null!==n.parentEntityRef&&null!==n.dataTypes){var t=r.default.keyBy(n.dataTypes,\"id\");e.loadViewData(o.CORE_API.EntityRelationshipStore.findForEntity,[n.parentEntityRef],{force:!0}).then(function(e){n.relatedDataTypes=r.default.chain(e.data).filter(function(e){return\"DATA_TYPE\"===e.b.kind}).map(function(e){return Object.assign({},t[e.b.id])}).sortBy(\"name\").value()})}}n.$onInit=function(){e.loadAppData(o.CORE_API.DataTypeStore.findAll).then(function(e){return n.dataTypes=e.data}).then(function(e){return i()})},n.$onRefresh=function(){return i()},n.onSelectDataType=function(e){n.selectedDataType=e,n.editMode=d(n.relatedDataTypes,n.selectedDataType)?\"REMOVE\":\"ADD\"},n.onAction=function(){var a=d(n.relatedDataTypes,n.selectedDataType),r=a?o.CORE_API.EntityRelationshipStore.remove:o.CORE_API.EntityRelationshipStore.create,s=(0,c.mkRel)(n.parentEntityRef,\"RELATES_TO\",(0,l.toEntityRef)(n.selectedDataType));e.execute(r,[s]).then(function(){var e=a?\"removed\":\"added\",o=\"Relationship to \"+n.selectedDataType.name+\" \"+e;t.success(o),n.selectedDataType=null,i()})},n.onShowPicker=function(){return n.visibility.picker=!n.visibility.picker}}p.$inject=[\"ServiceBroker\",\"Notification\"];var f={controller:p,bindings:{parentEntityRef:\"<\"},template:i.default};t.default={component:f,id:\"waltzRelatedDataTypeSection\"}},920:function(e,t){e.exports='<div> <waltz-section-actions> <button class=\"btn btn-xs btn-primary clickable\" ng-if=!$ctrl.visibility.picker ng-click=$ctrl.onShowPicker()> Edit </button> <button class=\"btn btn-xs btn-primary clickable\" ng-if=$ctrl.visibility.picker ng-click=$ctrl.onShowPicker()> View </button> </waltz-section-actions> <div class=row ng-if=!$ctrl.visibility.picker> <div class=col-md-12> <waltz-data-type-usage-tree used=$ctrl.relatedDataTypes> </waltz-data-type-usage-tree> </div> </div> <div class=row ng-if=$ctrl.visibility.picker> <div class=col-sm-5> <ul class=list-unstyled> <li ng-repeat=\"dataType in $ctrl.relatedDataTypes\"> <waltz-entity-link entity-ref=dataType ng-if=!$ctrl.visibility.picker> </waltz-entity-link> <waltz-entity-icon-label entity-ref=dataType class=clickable ng-click=$ctrl.onSelectDataType(dataType) ng-if=$ctrl.visibility.picker> </waltz-entity-icon-label> </li> </ul> <waltz-no-data ng-if=\"$ctrl.relatedDataTypes.length === 0\"> <message> <strong>No Data Types</strong> have been related </message> </waltz-no-data> </div> <div class=col-sm-7> <div style=\"border-left:1px solid #eee;padding-left:1em\"> <h4>Edit related Data Type</h4> <waltz-tree-picker items=$ctrl.dataTypes on-select=$ctrl.onSelectDataType> </waltz-tree-picker> <br> <button class=\"btn btn-sm\" ng-class=\"{\\n                            \\'btn-danger\\' : $ctrl.editMode === \\'REMOVE\\',\\n                            \\'btn-success\\' : $ctrl.editMode === \\'ADD\\'\\n                        }\" ng-if=$ctrl.selectedDataType ng-click=$ctrl.onAction()> <span ng-bind=\"$ctrl.editMode === \\'REMOVE\\' ? \\'Remove\\' : \\'Add\\'\"> </span> <span ng-bind=$ctrl.selectedDataType.name> </span> </button> <a class=clickable ng-click=$ctrl.onShowPicker()> Cancel </a> </div> </div> </div> </div>'},921:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(922),a=r(n(923)),o=r(n(925));function r(e){return e&&e.__esModule?e:{default:e}}var l={resolve:{dataTypes:i.loadDataTypes}},c={url:\"data-types\",views:{\"content@\":a.default}},s={url:\"data-types/code/{code}\",views:{\"content@\":o.default},resolve:{dataType:i.dataTypeByCodeResolver}},u={url:\"data-types/{id:int}\",views:{\"content@\":o.default},resolve:{dataType:i.dataTypeByIdResolver}};function d(e){e.state(\"main.data-type\",l).state(\"main.data-type.list\",c).state(\"main.data-type.code\",s).state(\"main.data-type.view\",u)}d.$inject=[\"$stateProvider\"],t.default=d},922:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadDataTypes=o,t.dataTypeByIdResolver=r,t.dataTypeByCodeResolver=l;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),a=n(2);function o(e){return e.loadAppData(a.CORE_API.DataTypeStore.findAll,[]).then(function(e){return e.data})}function r(e,t){if(!e.id)throw\"'id' not found in stateParams\";return t.loadAppData(a.CORE_API.DataTypeStore.findAll,[]).then(function(t){var n=i.default.find(t.data,{id:e.id});return n||(console.error(\"data type with id: \"+e.id+\" not found\"),null)})}function l(e,t){if(!e.code)throw\"'code' not found in stateParams\";return t.loadAppData(a.CORE_API.DataTypeStore.findAll,[]).then(function(t){var n=i.default.find(t.data,{code:e.code});return n||(console.error(\"data type with code: \"+e.code+\" not found\"),null)})}o.$inject=[\"ServiceBroker\"],r.$inject=[\"$stateParams\",\"ServiceBroker\"],l.$inject=[\"$stateParams\",\"ServiceBroker\"]},923:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=l(n(6)),a=n(0),o=n(2),r=l(n(924));function l(e){return e&&e.__esModule?e:{default:e}}var c={visibility:{editor:!1}};function s(e,t){var n=(0,a.initialiseData)(this,c),r=function(){t.loadViewData(o.CORE_API.AuthSourcesStore.findAll).then(function(e){return n.authSources=e.data})};n.$onInit=function(){t.loadAppData(o.CORE_API.SvgDiagramStore.findByGroup,[\"DATA_TYPE\"]).then(function(e){return n.diagrams=e.data}),r()},n.nodeSelected=function(e){return n.selectedNode=e},n.blockProcessor=function(t){t.block.onclick=function(){return e.go(\"main.data-type.code\",{code:t.value})},i.default.element(t.block).addClass(\"clickable\")},n.showAuthSources=function(){n.visibility.editor=!1,r()},n.editAuthSources=function(){n.visibility.editor=!0}}s.$inject=[\"$state\",\"ServiceBroker\"];var u={template:r.default,controllerAs:\"ctrl\",controller:s};t.default=u},924:function(e,t){e.exports='<div> <waltz-page-header name=Data small=search icon=qrcode> <ol class=waltz-breadcrumbs> <li> <a ui-sref=main> Home </a> </li> <li>Data</li> </ol> </waltz-page-header> <div class=row> <div class=col-md-12> <div class=\"waltz-page-summary waltz-page-summary-attach\"> <blockquote> Data describes what items of significance to the business are captured, consumed or produced by applications. </blockquote> <waltz-svg-diagrams diagrams=ctrl.diagrams block-processor=ctrl.blockProcessor> </waltz-svg-diagrams> </div> </div> </div> <br> <div class=row> <div class=col-sm-12> <waltz-static-panels group-key=HOME.DATA-TYPE> </waltz-static-panels> </div> </div> <div class=row> <div class=col-md-12> <waltz-section name=Data icon=qrcode small=Types id=data-types-tree-section> <waltz-data-type-usage-count-tree on-selection=ctrl.nodeSelected> </waltz-data-type-usage-count-tree> </waltz-section> </div> </div> <waltz-section icon=shield ng-init=\"ctrl.visibility.editor = false\" name=\"Authoritative Sources\"> <waltz-section-actions> <span waltz-has-role=AUTHORITATIVE_SOURCE_EDITOR> <a ng-click=ctrl.editAuthSources() ng-if=!ctrl.visibility.editor class=\"btn btn-xs btn-primary\"> Edit </a> </span> <span waltz-has-role=AUTHORITATIVE_SOURCE_EDITOR> <a ng-click=ctrl.showAuthSources() ng-if=ctrl.visibility.editor class=\"btn btn-xs btn-primary\"> View </a> </span> </waltz-section-actions> <waltz-static-panels render-mode=minimal-border group-key=SECTION.AUTH_SOURCES.ABOUT> </waltz-static-panels> <br> <div ng-if=!ctrl.visibility.editor> <waltz-auth-sources-table auth-sources=ctrl.authSources> </waltz-auth-sources-table> </div> <div ng-if=ctrl.visibility.editor> <waltz-auth-source-editor-panel> </waltz-auth-source-editor-panel> </div> </waltz-section> </div>'},925:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(n(926)),o=n(12);var r={dataType:null,entityRef:null,sections:[],availableSections:[]};function l(e,t,n){var a=(0,i.initialiseData)(this,r);e&&(a.entityRef=(0,o.toEntityRef)(e,\"DATA_TYPE\"),a.dataType=e,a.$onInit=function(){a.availableSections=t.findAvailableSectionsForKind(\"DATA_TYPE\"),a.sections=t.findUserSectionsForKind(\"DATA_TYPE\"),n.put(e.name,\"DATA_TYPE\",\"main.data-type.view\",{id:e.id})}),a.addSection=function(e){return a.sections=t.openSection(e,\"DATA_TYPE\")},a.removeSection=function(e){return a.sections=t.removeSection(e,\"DATA_TYPE\")}}l.$inject=[\"dataType\",\"DynamicSectionManager\",\"HistoryStore\"],t.default={template:a.default,controller:l,controllerAs:\"ctrl\"}},926:function(e,t){e.exports='<div> <waltz-page-header name=\"{{ ctrl.dataType.name }}\" small=\"Data Type\" tour=ctrl.tour icon=qrcode> <ol class=waltz-breadcrumbs> <li><a ui-sref=main>Home</a></li> <li><a ui-sref=main.data-type.list>Data</a></li> <li ng-bind=ctrl.dataType.name></li> </ol> </waltz-page-header> <waltz-data-type-overview parent-entity-ref=ctrl.entityRef> </waltz-data-type-overview> <div ng-if=ctrl.dataType> <div class=\"waltz-page-summary waltz-page-summary-attach\"> <waltz-dynamic-section-navigation available-sections=ctrl.availableSections open-sections=ctrl.sections on-select=ctrl.addSection> </waltz-dynamic-section-navigation> </div> <br> <waltz-dynamic-sections-view sections=ctrl.sections parent-entity-ref=ctrl.entityRef on-remove=ctrl.removeSection> </waltz-dynamic-sections-view> </div> </div>'},927:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(i=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(2);function r(e,t){var n={};return{loadAll:function(r){var l={entityReference:{id:r,kind:\"DATA_TYPE\"},scope:\"CHILDREN\"},c=[t.loadAppData(o.CORE_API.DataTypeStore.findAll).then(function(e){return e.data}),t.loadViewData(o.CORE_API.ApplicationStore.findBySelector,[l]).then(function(e){return e.data})];return e.all(c).then(function(e){var t=i(e,2),o=t[0],r=t[1],l={dataTypes:o,apps:a.default.map(r,function(e){return a.default.assign(e,{management:\"IT\"})})};Object.assign(n,l)}).then(function(){return function(r){var l={entityReference:{kind:\"DATA_TYPE\",id:r},scope:\"CHILDREN\"};return e.all([t.loadAppData(o.CORE_API.SourceDataRatingStore.findAll).then(function(e){return e.data}),t.loadViewData(o.CORE_API.DataTypeUsageStore.findForUsageKindByDataTypeIdSelector,[\"ORIGINATOR\",l]).then(function(e){return e.data}),t.loadViewData(o.CORE_API.DataTypeUsageStore.findForUsageKindByDataTypeIdSelector,[\"DISTRIBUTOR\",l]).then(function(e){return e.data})]).then(function(e){var t=i(e,3),o=t[0],l=t[1],c=t[2],s={dataTypeId:r,sourceDataRatings:o,flowOriginators:l,flowDistributors:c};return Object.assign(n,s),n.dataType=a.default.find(n.dataTypes,{id:r}),n})}(r)}).then(function(){return n})}}}r.$inject=[\"$q\",\"ServiceBroker\"],t.default=r},928:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=l(n(6)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(213)),o=n(7),r=l(n(929));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=i.default.module(\"waltz.databases\",[]);return e.component(\"waltzDatabasePies\",r.default),(0,o.registerStores)(e,[a]),e.name}},929:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(19),a=n(0),o=n(109),r=function(e){return e&&e.__esModule?e:{default:e}}(n(930));var l=70;function c(e){var t=this;t.pieConfig={environment:{size:l,colorProvider:function(e){return(0,i.environmentColorScale)(e.data.key)}},vendor:{size:l,colorProvider:function(e){return(0,i.variableScale)(e.data.key)}},endOfLifeStatus:{size:l,colorProvider:function(e){return(0,i.variableScale)(e.data.key)},labelProvider:function(e){return o.endOfLifeStatus[e.key]?o.endOfLifeStatus[e.key].name:\"Unknown\"}}};var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,a.notEmpty)(e)&&(t.pieData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{environment:(0,a.toKeyCounts)(e,function(e){return e.environment}),vendor:(0,a.toKeyCounts)(e,function(e){return e.dbmsVendor}),endOfLifeStatus:(0,a.toKeyCounts)(e,function(e){return e.endOfLifeStatus})}}(e))};t.$onChanges=function(){t.databases&&n(t.databases)}}c.$inject=[\"$scope\"];var s={bindings:{databases:\"<\"},template:r.default,controller:c};t.default=s},930:function(e,t){e.exports='<div class=row> <div class=col-sm-4> <waltz-pie-table data=$ctrl.pieData.vendor config=$ctrl.pieConfig.vendor title=\"By Vendor\"> </waltz-pie-table> </div> <div class=col-sm-4> <waltz-pie-table data=$ctrl.pieData.environment config=$ctrl.pieConfig.environment title=\"By Environment\"> </waltz-pie-table> </div> <div class=col-sm-4> <waltz-pie-table data=$ctrl.pieData.endOfLifeStatus config=$ctrl.pieConfig.endOfLifeStatus title=\"By EOL Status\"> </waltz-pie-table> </div> </div>'},931:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(n(6)),a=s(n(932)),o=s(n(934)),r=s(n(940)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(216)),c=n(7);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=i.default.module(\"waltz.drill-grid\",[]);return(0,c.registerStores)(e,[l]),(0,c.registerComponents)(e,[a.default,o.default,r.default]),e.name}},932:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=f(n(933)),a=n(0),o=n(19),r=f(n(1)),l=n(5),c=n(30),s=n(44),u=n(39),d=n(14),p=n(24);function f(e){return e&&e.__esModule?e:{default:e}}var m={},y={top:100,right:10,bottom:20,left:10},v=1024-y.left-y.right,g=20,h=v/32,b={dy:-.3*g,dx:3},S=24,w=4,A=350,I=(0,c.scaleLinear)().domain([0,32]).range([0,v]),D={region:\"wdgc-region\",rowGroupHover:\"wdgc-rowGroupHover\",colHeader:\"wdgc-colHeader\",colHover:\"wdgc-colHover\",appMapping:\"wdgc-appMapping\",rowGroup:\"wdgc-rowGroup\",appRow:\"wdgc-appRow\",history:\"wdgc-history\",descendable:\"wdgc-descendable\",tooltip:\"wdgc-tooltip\",popup:\"wdgc-popup\",usage:\"wdgc-usage\",rowGroupBackground:\"wdgc-rowGroupBackground\"},E=[{name:\"xHeader\",x:5,y:0,w:27},{name:\"yHeader\",x:1,y:1,w:4},{name:\"rowGroups\",x:2,y:1,w:31},{name:\"appFocus\",x:2,y:-1,w:3}];function T(e){return e.attr(\"dy\",b.dy).attr(\"dx\",b.dx)}var O=function(e,t,n){n.selectAll(\".\"+D.appMapping).filter(function(t){return t.colId===e}).classed(D.colHover,t),n.selectAll(\".\"+D.colHeader).filter(function(t){return t.id===e}).classed(D.colHover,t)};function k(e,t,n){_(e,t,\"tooltip\");var i=e.col.name,a=e.row.name,o=function(e,t){return'<div class=\"'+((0,p.flattenChildren)(e).length>10?\"waltz-scroll-region-150\":\"\")+' small\">\\n            '+function e(t,n){var i=r.default.sortBy(t,\"name\"),a=r.default.map(i,function(t){return r.default.isEmpty(t.children)?\"<li>\"+t.name+\"</li>\":'<li><a class=\"clickable wdgc-navigation\" data-wdgc-option-key=\"'+n+'\" data-wdgc-option-value=\"'+t.id+'\">'+t.name+\"</a></li>\"+e(t.children,n)});return t.length>0?\"<ul> \"+r.default.join(a,\"\")+\" </ul>\":\"\"}([e],t)+\"\\n        </div>\"};return R(t,\"popup\",'\\n       <div class=\"small\">\\n            <div>\\n                '+e.col.name+\" / \"+e.row.name+'\\n            </div>\\n            <div>\\n                <a class=\"wdgc-app-link clickable\" \\n                   data-wdgc-app-id=\"'+e.app.id+'\">\\n                    '+e.app.name+'\\n                </a>\\n            </div>\\n            <div class=\"small\">\\n                '+(0,u.truncate)(e.app.description,128)+\"\\n            </div>\\n            <br>\\n            \\n            <div>\\n                Children of <strong>\"+i+\"</strong>:\\n                \"+o(e.col,\"xId\")+\"\\n                <br>\\n            </div>\\n  \\n            <div>\\n                Children of \"+a+\":\\n                \"+o(e.row,\"yId\")+'\\n                <br>\\n            </div>\\n            <div class=\"clickable closer\">\\n                <a class=\"clickable\">\\n                  <span class=\"clearFocus\">✕ </span>\\n                  <span>Dismiss</span>\\n                </a>\\n            </div>\\n        </div>\\n    ',!0,n)}function R(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments[4],o=e[t];if(e.pinned&&!i)return e.active;e.active=o,e.pinned=i;var c=o.html(n).style(\"display\",\"block\").style(\"left\",function(){return l.event.pageX+\"px\"}).style(\"top\",function(){return l.event.offsetY-30+\"px\"}).style(\"opacity\",.9);c.selectAll(\".closer\").on(\"click\",function(n){return _(n,e,t,!0)}),c.selectAll(\".wdgc-navigation\").on(\"click\",function(n){_(n,e,t,!0);var i=(0,l.select)(this),o=i.attr(\"data-wdgc-option-key\"),c=i.attr(\"data-wdgc-option-value\");r.default.isEmpty(o)||r.default.isEmpty(c)||a.refresh(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o,c))}),c.selectAll(\".wdgc-app-link\").on(\"click\",function(n){_(n,e,t,!0);var i=(0,l.select)(this).attr(\"data-wdgc-app-id\");r.default.isEmpty(i)||(window.location.hash=\"/application/\"+i)})}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"tooltip\",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t[n];t.pinned&&!i||(a.style(\"display\",\"none\"),t.active=null,t.pinned=!1)}function P(e,t,n,i,a){var l=e.selectAll(\".\"+D.appMapping).data(function(e){return r.default.filter(e.mappings,function(e){return\"Z\"!==e.rating})},function(e){return e.colId});l.exit().remove();var c=l.enter().filter(function(e){return\"NONE\"!=e.colType}).append(\"g\").classed(D.appMapping,!0).on(\"mouseover.highlight\",function(e){return O(e.colId,!0,i)}).on(\"mouseout.highlight\",function(e){return O(e.colId,!1,i)}).on(\"mouseover.tooltip\",function(e){return function(e,t){return R(t,\"tooltip\",'\\n        <div class=\"small\">\\n            <div>\\n                '+e.col.name+\" / \"+e.row.name+\"\\n            </div>\\n            <div>\"+e.app.name+'</div>\\n            <div class=\"small\">\\n                '+(0,u.truncate)(e.app.description,128)+'\\n            </div>\\n            <br>\\n            <div class=\"small text-muted\">\\n                Click cell for more information\\n            </div>\\n        </div>\\n    ')}(e,a)}).on(\"mouseout.tooltip\",function(e){return _(e,a,\"tooltip\")}).on(\"click.detail\",function(e){return k(e,a,n)});return c.append(\"rect\").attr(\"stroke\",function(e){return(0,o.ragColorScale)(e.rating)}).attr(\"fill\",function(e){return(0,o.ragColorScale)(e.rating).brighter(2.5)}).attr(\"rx\",1).attr(\"y\",1).attr(\"x\",t.bandwidth()/2*-1).attr(\"width\",t.bandwidth()).attr(\"height\",g-2),l.merge(c).attr(\"transform\",function(e){return\"translate(\"+t(e.colId)+\" , 0)\"})}var C={DIRECT:\" \",HEIR:\"↑\",ANCESTOR:\"↓\",NONE:\"x\",UNKNOWN:\"?\"},N={DIRECT:1,HEIR:2,ANCESTOR:3,UNKNOWN:4,NONE:5};function x(e){return N[e]||9}function M(e,t,n,i,a){var o=e.selectAll(\".\"+D.appRow).data(function(e){return e.rows},function(e){return e.app.id}),l=o.enter().append(\"g\").classed(D.appRow,!0);return l.merge(o).sort(function(e,t){var n=x(e.rowType),i=x(t.rowType);return(0,d.ascending)(n+e.app.name,i+t.app.name)}).attr(\"transform\",function(e,t){return\"translate(\"+3*h+\", \"+t*g+\")\"}),l.append(\"text\").text(function(e){return function(e){return C[e]||\" \"}(e.rowType)+\" \"+e.app.name}).attr(\"y\",g).on(\"click\",function(e){r.default.get(n,\"options.focusApp.id\")===e.app.id?n.refresh({focusApp:null}):n.refresh({focusApp:e.app})}).on(\"mouseover\",function(e){return function(e,t){return R(t,\"tooltip\",'\\n        <div class=\"small\">\\n            <div class=\"strong\">'+e.app.name+'</div>\\n            <div class=\"small\">\\n                '+(0,u.truncate)(e.app.description,128)+'\\n            </div>\\n            <br>\\n            <div class=\"small text-muted\">\\n                Click on the application to toggle focus\\n            </div>\\n        </div>\\n    ')}(e,a)}).on(\"mouseout\",function(e){return _(e,a,\"tooltip\")}).call(T).call(s.truncateText,4*h),o.exit().remove(),o.merge(l).call(P,t,n,i,a),o}function $(e,t,n){return e.append(\"text\").attr(\"y\",g).text(function(e){return e.group.name}).on(\"click.focus\",function(e){return t.refresh({yId:e.group.id})}).on(\"mouseover\",function(e){return function(e,t){var n=r.default.map((0,p.getParents)(e.group),function(e){return\"<li>\"+e.name+\"</li>\"}),i=r.default.isEmpty(n)?\"\":'<hr>\\n           <div class=\"small text-muted\">Parents</div>\\n           <ul class=\"small text-muted\">\\n               '+r.default.join(n,\"\")+\"\\n           </ul>\\n          \";return R(t,\"tooltip\",'\\n        <div class=\"small\">\\n            <div>\\n                '+e.group.name+'\\n            </div>\\n            <div class=\"small\">\\n                '+(0,u.truncate)(e.group.description,128)+\"\\n            </div>\\n            \"+i+\"\\n        </div>\\n    \")}(e,n)}).on(\"mouseout\",function(e){return _(e,n,\"tooltip\")}).call(T).call(s.truncateText,3*h-10)}function L(e,t,n,i,a){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.default.reduce(e,function(e,t){var n=t.rows.length,i=e.total,a=n*g;return e[t.group.id]={start:i,height:a},e.total=i+a+w,e},{total:0})}(e.rowGroups),c=t.select(\".rowGroups\").selectAll(\".\"+D.rowGroup).data(e.rowGroups,function(e){return e.group.id});c.exit().remove();var s=c.enter().append(\"g\").classed(D.descendable,function(e){return(e.group.children||[]).length>0}).classed(D.rowGroup,!0);s.append(\"rect\").classed(D.rowGroupBackground,!0),s.merge(c).attr(\"transform\",function(e){return\"translate(0, \"+o[e.group.id].start+\")\"}).select(\"rect\").attr(\"width\",a).attr(\"height\",function(e){return o[e.group.id].height}).attr(\"fill\",function(e,t){return t%2?\"#fafafa\":\"#f3f3f3\"}),s.on(\"mouseover.hover\",function(){(0,l.select)(this).classed(D.rowGroupHover,!0)}).on(\"mouseout.hover\",function(){(0,l.select)(this).classed(D.rowGroupHover,!1)}).call($,e,n),c.merge(s).call(M,i,e,t,n)}function z(e){return r.default.isString(e)?e:e.kind+\"/\"+e.id}function F(e,t,n,i){if(t){var a=function(e){var t=2*g+r.default.chain(e.rowGroups).map(function(e){return e.rows.length}).sum().value()*g+e.rowGroups.length*w+y.top+y.bottom;return r.default.max([t,A])}(e);t.attr(\"viewBox\",\"0 0 1024 \"+a),t.attr(\"height\",a);var o=r.default.flow(function(e){return r.default.get(e,\"xAxis.current.domain\",[])},function(e){return r.default.map(e,\"id\")})(e),l=S*o.length||1,u=i(5),d=(0,c.scaleBand)().domain(o).range([u,u+l]).paddingInner([.1]).paddingOuter([.3]).align([.5]),p=l+i(8);!function(e,t,n){var i=r.default.get(e,\"xAxis.current.domain\",[]),a=t.select(\".xHeader\").selectAll(\".\"+D.colHeader).data(i,z);a.exit().remove();var o=a.enter().append(\"g\").classed(D.colHeader,!0).classed(D.descendable,function(e){return(e.children||[]).length>0}).on(\"mouseover\",function(e){return O(e.id,!0,t)}).on(\"mouseout\",function(e){return O(e.id,!1,t)});o.append(\"text\").text(function(e){return e.name}).attr(\"y\",16).call(s.truncateText,4*h),o.merge(a).attr(\"transform\",function(e){return\"translate(\"+n(e.id)+\", 0) rotate(315 0,14)\"}).on(\"click.focus\",function(t){return e.refresh({xId:t.id})})}(e,t,d),L(e,t,n,d,p),function(e,t){var n=r.default.get(e,\"xAxis.current.active\"),i=r.default.get(e,\"yAxis.current.active\"),a=e.options.focusApp,o=a?{id:\"APPLICATION\",name:a.name,action:function(){return e.refresh({focusApp:null})}}:null,l=n?{id:\"XAXIS\",name:n.name,action:function(){return e.refresh({xId:n.parentId})}}:null,c=i?{id:\"YAXIS\",name:i.name,action:function(){return e.refresh({yId:i.parentId})}}:null,u=r.default.compact([o,l,c]);t.select(\".\"+D.usage).style(\"display\",u.length>0?\"none\":\"inline-block\");var d=t.select(\".appFocus\").selectAll(\"text\").data(u,function(e){return e.id+e.name});d.exit().remove();var p=d.enter().append(\"text\").on(\"click\",function(e){return e.action()});d.merge(p).attr(\"dy\",function(e,t){return 12*t}),p.append(\"tspan\").classed(\"clearFocus\",!0).text(\"✕ \"),p.append(\"tspan\").text(function(e){return e.name}).call(s.truncateText,4*h)}(e,t)}}function B(e){var t=(0,a.initialiseData)(this,m),n=null,i={tooltip:null,popup:null,active:null};t.$onInit=function(){var t=e[0];n=(0,l.select)(t).select(\"svg\"),i.tooltip=(0,l.select)(t).select(\".\"+D.tooltip),i.popup=(0,l.select)(t).select(\".\"+D.popup),function(e,t){var n=e.append(\"g\").attr(\"transform\",\"translate(\"+y.left+\", \"+y.top+\")\");n.selectAll(\".\"+D.region).data(E,function(e){return e.name}).enter().append(\"g\").classed(D.region,!0).attr(\"transform\",function(e){return\"translate(\"+t(e.x)+\", \"+g*e.y+\")\"}).each(function(e){(0,l.select)(this).classed(e.name,!0)})}(n,I)},t.$onChanges=function(e){e.drillGrid&&t.drillGrid&&t.drillGrid.addListener(function(){return F(t.drillGrid,n,i,I)})}}B.$inject=[\"$element\"];var U={controller:B,bindings:{drillGrid:\"<\"},template:i.default};t.default={id:\"waltzDrillGridChart\",component:U}},933:function(e,t){e.exports=\"<div class=waltz-drill-grid-chart> <div class=wdgc-tooltip> </div> <div class=wdgc-popup> </div> <svg width=100% preserveAspectRatio=xMinYMin> <g class=wdgc-usage transform=translate(70,40)> <text> <tspan>Select <tspan style=font-weight:700>bold axis</tspan> values to drill down.</tspan> <tspan x=0 dy=18>Select application names to filter.</tspan> <tspan x=0 dy=18>↑ - indicates application has 'bubbled up'</tspan> <tspan x=0 dy=18>↓ - indicates application has 'come down'</tspan> </text> </g> </svg> </div> \"},934:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(i=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),a=p(n(1)),o=n(0),r=n(2),l=n(17),c=n(935),s=p(n(936)),u=p(n(937)),d=p(n(939));function p(e){return e&&e.__esModule?e:{default:e}}var f={visibility:{chart:!1,loading:!0,unavailable:!1}};function m(e,t,n,i){if(\"DATA_TYPE\"===n.kind){var o=a.default.keyBy(t,\"code\");return y(e,function(e){return o[e.dataType].id},function(e){return i[e.applicationReference.id]},function(e){return\"Z\"})}return function(e,t){return y(a.default.filter(e,function(e){return t[e.entityReference.id]}),function(e){return e.measurableId},function(e){return t[e.entityReference.id]},function(e){return e.rating})}(e,i)}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2],i=arguments[3];return a.default.chain(e).map(function(e){return{domainId:t(e),app:n(e),rating:i(e)}}).value()}function v(e,t,n){var d=(0,o.initialiseData)(this,f),p=function(n){d.visibility.loading=!0;var o=function(e){return\"DATA_TYPE\"===e.kind?t.loadAppData(r.CORE_API.DataTypeStore.findAll).then(function(e){return e.data}):t.loadAppData(r.CORE_API.MeasurableStore.findAll).then(function(t){return a.default.filter(t.data,{categoryId:e.id})})},l=function(e){return\"DATA_TYPE\"===e.kind?t.loadViewData(r.CORE_API.AuthSourcesStore.findAuthSources,[d.parentEntityRef]).then(function(e){return e.data}):t.loadViewData(r.CORE_API.MeasurableRatingStore.findByCategory,[e.id]).then(function(e){return e.data})},c=[o(n.xAxis),o(n.yAxis),l(n.xAxis),l(n.yAxis)];e.all(c).then(function(){return d.visibility.loading=!1}),e.all(c).then(function(e){var t=i(e,4),o=t[0],r=t[1],l=t[2],c=t[3],p=[],f=!0;if(a.default.isEmpty(l)&&(f=!1,p.push(\"No data for x-axis: \"+n.xAxis.name)),a.default.isEmpty(c)&&(f=!1,p.push(\"No data for y-axis: \"+n.yAxis.name)),d.messages=p,d.visibility.chart=f,f){var y=function(e,t,n,i,o){var r=function(e){return a.default.chain(e).map(\"applicationReference\").keyBy(\"id\").value()};return\"DATA_TYPE\"===n.kind?r(e):\"DATA_TYPE\"===i.kind?r(t):a.default.keyBy(o,\"id\")}(l,c,n.xAxis,n.yAxis,d.allApps),v={domain:o,mappings:m(l,o,n.xAxis,y)},g={domain:r,mappings:m(c,r,n.yAxis,y)},h=new u.default(n,new s.default(v),new s.default(g));d.visibility.chart=!h.isEmpty(),d.drillGrid=h}})};d.$onInit=function(){var o=[t.loadViewData(r.CORE_API.ApplicationStore.findBySelector,[(0,l.mkSelectionOptions)(d.parentEntityRef)]).then(function(e){return e.data}),t.loadAppData(r.CORE_API.DrillGridDefinitionStore.findAll).then(function(e){return e.data}),n.findOrDefault(c.DRILL_GRID_DEFAULT_DEFINITION_ID)];e.all(o).then(function(e){var t=i(e,3),n=t[0],o=t[1],r=t[2];a.default.isEmpty(o)?console.error(\"Cannot show drill grid if no definitions have been declared.\"):(d.allApps=n,d.selectedDefinition=a.default.find(o,{id:+r})||o[0],p(d.selectedDefinition))})},d.onSelectDefinition=function(e){d.selectedDefinition=e,p(e)}}v.$inject=[\"$q\",\"ServiceBroker\",\"SettingsService\"];var g={controller:v,bindings:{parentEntityRef:\"<\"},template:d.default};t.default={id:\"waltzDrillGridPanel\",component:g}},936:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(24),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function r(e,t){return o.default.chain(e.nodesByParent[t]||[]).sortBy(\"name\").value()}function l(e){var t=e.nodesById,n=o.default.values(t);o.default.chain(n).flatMap(function(e){return e.mappings.direct}).each(function(e){var n=t[e.domainId];!function(e,t){o.default.each((0,a.getParents)(e),function(e){e.mappings.heirs=o.default.unionBy(e.mappings.heirs,[t],function(e){return e.app.id})})}(n,e),function e(t,n){o.default.each(t.children,function(t){t.mappings.inherited=o.default.unionBy(t.mappings.inherited,[n],function(e){return e.app.id}),e(t,n)})}(n,e)}).value()}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=o.default.map(e,function(e){return Object.assign({},e,{mappings:{direct:[],inherited:[],heirs:[]}})}),i=o.default.keyBy(n,\"id\");o.default.chain(t).filter(function(e){return i[e.domainId]}).each(function(e){return i[e.domainId].mappings.direct.push(e)}).value();var r=function(e){var t=(0,a.buildHierarchies)(e);return{hierarchy:t,nodesById:(0,a.indexHierarchyByKey)(t,function(e){return e.id}),nodesByParent:(0,a.groupHierarchyByKey)(t,function(e){return e.parentId})}}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return o.default.chain(t).map(function(t){return e[t.domainId]}).compact().uniqBy(\"id\").flatMap(function(t){return function(e,t){for(var n=[],i=t;i;)n.push(i),i=e[i.parentId];return n}(e,t)}).uniqBy(\"id\").value()}(i,t));return l(r),r}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.dataSet=c(t.domain,t.mappings),this.current={active:null,domain:r(this.dataSet,null),parents:[]}}return i(e,[{key:\"focus\",value:function(e){var t=r(this.dataSet,e);if(0!==t.length){var n=this.dataSet.nodesById[e];this.current={domain:t,active:n,parents:(0,a.getParents)(n)}}else console.log(\"cannot focus on domain id: \",{id:e})}}]),e}();t.default=s},937:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=r(n(1)),o=r(n(938));function r(e){return e&&e.__esModule?e:{default:e}}var l={xId:null,yId:null},c=function(){function e(t,n,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options=Object.assign({},l,a),this.definition=t,this.xAxis=n,this.yAxis=i,this.rowGroups=[],this.listeners=[],this.refresh()}return i(e,[{key:\"addListener\",value:function(e){this.listeners.push(e),e(this)}},{key:\"notifyListeners\",value:function(){var e=this;a.default.each(this.listeners,function(t){return t(e)})}},{key:\"refresh\",value:function(e){var t=this;return a.default.merge(this.options,e),this.yAxis.focus(this.options.yId),this.xAxis.focus(this.options.xId),this.rowGroups=a.default.chain(this.yAxis.current.domain).map(function(e){return new o.default(e,t.xAxis,t.options.focusApp)}).reject(function(e){return e.isEmpty()}).value(),this.restrictXDomainToUsedValues(),this.notifyListeners(),this}},{key:\"restrictXDomainToUsedValues\",value:function(){var e=a.default.chain(this.rowGroups).flatMap(function(e){return e.rows}).flatMap(function(e){return e.mappings}).filter(function(e){return\"Z\"!=e.rating}).map(function(e){return e.colId}).uniq().value();this.xAxis.current.domain=a.default.filter(this.xAxis.current.domain,function(t){return a.default.includes(e,t.id)})}},{key:\"isEmpty\",value:function(){return 0==(this.rowGroups||[]).length}}]),e}();t.default=c},938:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return a.default.includes(t,e.id)?\"DIRECT\":a.default.includes(n,e.id)?\"HEIR\":a.default.includes(i,e.id)?\"ANCESTOR\":e.hasMappings?\"NONE\":\"UNKNOWN\"}function r(e,t){return a.default.chain(e).values().flatten().map(function(e){return e.app}).uniqBy(function(e){return e.id}).filter(function(e){return!t||e.id===t.id}).value()}var l=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var l=n.current.domain||[];if(0==l.length)return null;var c=r(t.mappings,i),s=a.default.flatMap(l,function(e){return r(e.mappings,i)}),u=a.default.intersectionBy(c,s,\"id\"),d=a.default.differenceBy(c,u,\"id\"),p=a.default.map(t.mappings.direct,\"app.id\"),f=a.default.map(t.mappings.inherited,\"app.id\"),m=a.default.map(t.mappings.heirs,\"app.id\"),y=a.default.chain(u).sortBy(\"name\").map(function(e){var n=o(e,p,m,f);if(\"NONE\"===n)return console.log(\"should never happen\"),null;var i=a.default.map(l,function(n){var i=o(e,a.default.map(n.mappings.direct,\"app.id\"),a.default.map(n.mappings.heirs,\"app.id\"),a.default.map(n.mappings.inherited,\"app.id\")),r=function(e,t){var n=function(e){return a.default.chain(e).filter(function(e){return e.app.id===t}).map(\"rating\").value()};return a.default.head(n(e.direct))||a.default.head(n(e.heirs))||a.default.head(n(e.inherited))||\"Z\"}(n.mappings,e.id);return{colId:n.id,groupId:t.id,colType:i,col:n,row:t,app:e,rating:r}});return{app:e,rowType:n,mappings:i}}).compact().reject(function(e){return a.default.every(e.mappings,function(e){return\"NONE\"===e.colType})}).compact().value();this.group=t,this.rows=y,this.rowOnlyApplications=d}return i(e,[{key:\"isEmpty\",value:function(){return a.default.isEmpty(this.rows)}}]),e}();t.default=l},939:function(e,t){e.exports='<div> <div class=row> <div class=col-md-12> <waltz-drill-grid-definition-selector on-select-definition=$ctrl.onSelectDefinition selected-definition=$ctrl.selectedDefinition> </waltz-drill-grid-definition-selector> </div> </div> <div class=row> <div class=col-md-12> <waltz-loading-notification show=$ctrl.visibility.loading name=\"Loading data\"> </waltz-loading-notification> <br> <waltz-no-data ng-if=\"! $ctrl.visibility.chart && ! $ctrl.visibility.loading\"> <message> <strong>No data</strong> to show. <div ng-if=\"$ctrl.messages.length > 0\"> <br> <ul> <li ng-repeat=\"message in $ctrl.messages\"> <span ng-bind=message></span> </li> </ul> </div> </message> </waltz-no-data> <div ng-show=\"$ctrl.visibility.chart && ! $ctrl.visibility.loading\"> <waltz-drill-grid-chart drill-grid=$ctrl.drillGrid> </waltz-drill-grid-chart> </div> </div> </div> </div> '},940:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=l(n(941)),a=n(0),o=n(2),r=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c={visibility:{manualPicker:!1,choicePicker:!1,summary:!0,loading:!0},definitions:[],messages:[]};function s(e){var t=(0,a.initialiseData)(this,c),n=function(){if(t.visibility.loading)return[];t.messages=[],t.selectedDefinition||t.messages.push(\"No selected definition\"),0==t.definitions.length&&t.messages.push(\"No prebuilt definitions, select the dimensions manually\")};t.$onInit=function(){t.visibility.loading=!0,e.loadAppData(o.CORE_API.MeasurableCategoryStore.findAll).then(function(e){t.axisOptions=r.default.union(e.data,[{id:-1,kind:\"DATA_TYPE\",name:\"Data Type\"}])}),e.loadAppData(o.CORE_API.DrillGridDefinitionStore.findAll).then(function(e){t.definitions=e.data,t.visibility.manualPicker=0===e.data.length,n(),t.visibility.loading=!1}),t.selectedDefinition&&(t.visibility.manualPicker=null===t.selectedDefinition.id)},t.$onChanges=function(){return n()},t.onAxisChange=function(){var e=Object.assign({},t.selectedDefinition,{name:t.selectedDefinition.xAxis.name+\" / \"+t.selectedDefinition.yAxis.name,description:\"Custom dimensions\"});t.onSelectDefinition(e)},t.onOptionSelect=function(e){t.onSelectDefinition(e),t.switchToSummary()},t.switchToSummary=function(){var e=t.visibility;e.manualPicker=!1,e.choicePicker=!1,e.summary=!0},t.switchToChoicePicker=function(){var e=t.visibility;e.manualPicker=!1,e.choicePicker=!0,e.summary=!1},t.switchToManualPicker=function(){var e=t.visibility;e.manualPicker=!0,e.choicePicker=!1,e.summary=!1}}s.$inject=[\"ServiceBroker\"];var u={template:i.default,controller:s,bindings:{selectedDefinition:\"<\",onSelectDefinition:\"<\"}};t.default={component:u,id:\"waltzDrillGridDefinitionSelector\"}},941:function(e,t){e.exports='<div ng-if=$ctrl.visibility.loading> <waltz-icon name=spinner spin=true></waltz-icon> Loading </div> <div ng-if=\"! $ctrl.visibility.loading\"> <div ng-if=$ctrl.visibility.summary> <h4> <span ng-bind=$ctrl.selectedDefinition.name></span> <span class=small style=margin-left:2em> <a ng-click=$ctrl.switchToChoicePicker() class=clickable> <waltz-icon name=exchange></waltz-icon> Change dimensions </a> </span> </h4> <div class=small> <waltz-markdown text=$ctrl.selectedDefinition.description> </waltz-markdown> </div> </div> <div ng-if=$ctrl.visibility.choicePicker> <ul class=list-unstyled> <li ng-repeat=\"definition in $ctrl.definitions\"> <waltz-toggle state=\"definition.id == $ctrl.selectedDefinition.id\" on-toggle=$ctrl.onOptionSelect(definition)> </waltz-toggle> <span ng-bind=definition.name class=clickable ng-click=$ctrl.onOptionSelect(definition)> </span> <span uib-popover-template=\"\\'wdgds/desc-popup.html\\'\" popover-class=waltz-popover-wide popover-append-to-body=true popover-placement=right popover-trigger=outsideClick> <a class=clickable> <waltz-icon name=info-circle> </waltz-icon> </a> </span> </li> </ul> <div> <a class=\"small clickable\" ng-click=$ctrl.switchToManualPicker()> <waltz-icon name=wrench></waltz-icon> Configure </a> </div> </div> <div ng-if=$ctrl.visibility.manualPicker> <p class=text-muted> Select dimensions </p> <div class=row> <div class=col-md-3> Columns (X): </div> <div class=col-md-9> <select ng-model=$ctrl.selectedDefinition.xAxis ng-change=$ctrl.onAxisChange() ng-options=\"option.name for option in $ctrl.axisOptions track by option.id\"> </select> </div> </div> <div class=row> <div class=col-md-3> Rows Groups (Y): </div> <div class=col-md-9> <select ng-model=$ctrl.selectedDefinition.yAxis ng-change=$ctrl.onAxisChange() ng-options=\"option.name for option in $ctrl.axisOptions track by option.id\"> </select> </div> </div> <div ng-if=\"$ctrl.definitions.length > 0\"> <a class=\"small clickable\" ng-click=$ctrl.switchToSummary()> <waltz-icon name=check></waltz-icon> Done </a> </div> </div> <div ng-if=\"$ctrl.messages.length > 0\"> <hr> <div class=\"alert alert-warning\"> <ul> <li ng-repeat=\"message in $ctrl.messages\"> <span ng-bind=message></span> </li> </ul> </div> </div> </div> <script type=text/ng-template id=wdgds/desc-popup.html> <div>\\n        <waltz-markdown text=\"definition.description\"></waltz-markdown>\\n    </div> <\\/script>'},942:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=u(n(6)),a=n(7),o=u(n(943)),r=u(n(392)),l=u(n(946)),c=u(n(949)),s=u(n(951));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=i.default.module(\"waltz.dynamic-section\",[]);return(0,a.registerComponents)(e,[o.default,r.default,l.default,c.default]),(0,a.registerServices)(e,[s.default]),e.name}},943:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(944)),a=n(0);var o={};function r(){(0,a.initialiseData)(this,o)}r.$inject=[];var l={controller:r,template:i.default,bindings:{parentEntityRef:\"<\",section:\"<\",onRemove:\"<\"},transclude:!0};t.default={id:\"waltzDynamicSection\",component:l}},944:function(e,t){e.exports='<div> <div class=waltz-dynamic-section-header> <div class=\"waltz-visibility-parent waltz-dynamic-section-header-title\"> <span class=\"waltz-visibility-child-30 clickable\" ng-click=$ctrl.onRemove($ctrl.section) ng-if=$ctrl.onRemove title=Close> <waltz-icon name=times> </waltz-icon> </span> <span ng-if=\"$ctrl.onRemove == null\"> <waltz-icon fixed-width=true></waltz-icon> </span> <span> <waltz-icon name=\"{{ $ctrl.section.icon }}\"></waltz-icon> <span ng-bind=$ctrl.section.name></span> </span> </div> </div> <div class=\"container-fluid waltz-dynamic-section-body\"> <ng-transclude></ng-transclude> </div> </div> '},945:function(e,t){e.exports='<div class=\"waltz-dynamic-section-navigation wdsn-summary\"> <ul class=\"list-unstyled list-inline\"> <li ng-repeat=\"section in $ctrl.sections track by section.id\" class=wdsn-option> <div ng-style=section.style> <a ng-click=$ctrl.onSelect(section) class=clickable> <waltz-icon name=\"{{ section.icon }}\"> </waltz-icon> <span class=small ng-bind=section.name> </span> </a> </div> </li> </ul> </div> <div class=\"waltz-dynamic-section-navigation wdsn-sticky\" ng-class=\"{\\n        \\'wdsn-sticky-visible\\' : $ctrl.stickyVisible\\n     }\"> <ul class=\"list-unstyled list-inline\"> <li ng-repeat=\"section in $ctrl.sections track by section.id\" class=wdsn-option> <a ng-click=$ctrl.scrollAndSelectSection(section) class=clickable> <waltz-icon name=\"{{ section.icon }}\"> </waltz-icon> <span class=small ng-bind=section.name> </span> </a> </li> </ul> </div>'},946:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(n(947)),o=n(948);var r={};function l(e,t,n){var a=(0,i.initialiseData)(this,r);a.$onInit=function(){var i=n.$new();i.parentEntityRef=a.parentEntityRef,i.section=a.section,i.onRemove=a.onRemove,i.canRemove=a.canRemove;var r=t((0,o.sectionToTemplate)(a.section))(i);e.append(r)}}l.$inject=[\"$element\",\"$compile\",\"$scope\"];var c={controller:l,template:a.default,bindings:{parentEntityRef:\"<\",section:\"<\",onRemove:\"<\"}};t.default={component:c,id:\"waltzDynamicSectionWrapper\"}},947:function(e,t){e.exports=\"\"},948:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.sectionToTemplate=function(e){try{(0,i.checkIsDynamicSection)(e)}catch(t){console.log(\"Skipping section\",{section:e,e:t})}var t=\"waltz-\"+e.componentId;return'\\n        <waltz-dynamic-section parent-entity-ref=\"$ctrl.parentEntityRef\"\\n                               class=\"waltz-dynamic-section '+t+\" waltz-dynamic-section-\"+e.id+'\"\\n                               section=\"$ctrl.section\"\\n                               on-remove=\"$ctrl.onRemove\">\\n            <'+t+' parent-entity-ref=\"$ctrl.parentEntityRef\"></'+t+\">\\n        </waltz-dynamic-section>\\n    \"};var i=n(8)},949:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(950)),a=n(0);var o={onRemove:function(e){return console.log(\"wdsv: onRemove, default impl\",e)}};function r(){(0,a.initialiseData)(this,o).$onInit=function(){}}r.$inject=[];var l={controller:r,bindings:{parentEntityRef:\"<\",sections:\"<\",onRemove:\"<\"},template:i.default};t.default={id:\"waltzDynamicSectionsView\",component:l}},950:function(e,t){e.exports='<div class=waltz-dynamic-sections-view> <div ng-repeat=\"section in $ctrl.sections track by section.id\" class=waltz-animate-repeat> <waltz-dynamic-section-wrapper section=section on-remove=$ctrl.onRemove parent-entity-ref=$ctrl.parentEntityRef> </waltz-dynamic-section-wrapper> </div> <div ng-if=\"$ctrl.sections.length == 0\" class=wdsv-arrow_box> <h3 style=text-align:center>No Sections</h3> <p style=text-align:center>Use the options above to show sections.</p> </div> </div> '},951:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.service=l;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),a=n(8),o=n(31);var r=3;function l(e,t,n){var l=i.default.keyBy(i.default.values(o.dynamicSections),\"id\"),c=function(e){return\"waltz-user-section-ids-\"+e},s=function(e){return i.default.compact(n.get(c(e))||[])},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.set(c(e),i.default.compact(t))},d=function(t,n){var a=s(t);return function(t){var n=i.default.chain(t).compact().take(3).join(\";\").value();e.search(\"sections\",n)}(i.default.take(a,r)),i.default.chain(n?i.default.take(a,r):a).map(function(e){return l[e]}).value()};function p(e,t){if(null==e)return d(t);var n=s(t),a=n.length>0&&n[0]===e.id,o=i.default.reject(n,function(t){return t===e.id});return a||o.unshift(e.id),u(t,o),d(t)}return{findAvailableSectionsForKind:function(e){(0,a.checkNotEmpty)(e);var t=o.dynamicSectionsByKind[e]||[],n=i.default.filter(t,{id:o.dynamicSections.changeLogSection.id});return i.default.chain(t).reject({id:o.dynamicSections.changeLogSection.id}).sortBy(\"name\").union(n).value()},findUserSectionsForKind:function(e){i.default.chain(t.sections).split(\";\").map(function(e){return Number(e)}).reverse().forEach(function(t){return p(l[t],e)}).value();var n=d(e,r);return u(e,i.default.chain(n).compact().take(r).map(\"id\").value()),n},openSection:p,removeSection:function(e,t){if(null==e)return d(t);var n=s(t),a=i.default.without(n,e.id);return u(t,a),d(t)}}}l.$inject=[\"$location\",\"$stateParams\",\"localStorageService\"];t.default={service:l,serviceName:\"DynamicSectionManager\"}}}]);","extractedComments":[]}