{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1069:function(e,t){e.exports='<div> <div class=\"waltz-page-header wph-free no-overflow\"> <div ng-transclude> </div> <h2> <waltz-icon name=\"{{ $ctrl.icon || \\'dot-circle-o\\' }}\" fixed=true></waltz-icon> <span ng-bind=\"$ctrl.name | truncateMiddle:50\"></span> <small ng-bind=$ctrl.small></small> <span class=\"small pull-right\" uib-popover=\"Tour Guide\" popover-trigger=mouseenter popover-placement=left> <waltz-icon name=map-o ng-if=\"$ctrl.tour.stepCount > 0\" class=clickable ng-click=$ctrl.startTour()> </waltz-icon> &nbsp; </span> </h2> </div> <div class=\"waltz-page-header wph-sticky\" ng-class=\"{\\n            \\'wph-sticky-visible\\' : $ctrl.stickyVisible\\n            }\"> <h2 class=clickable ng-click=$ctrl.scrollToTop()> <waltz-icon name=\"{{ $ctrl.icon || \\'dot-circle-o\\' }}\" fixed=true></waltz-icon> <span ng-bind=$ctrl.name></span> <small ng-bind=$ctrl.small></small> </h2> </div> </div>'},1204:function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJEAAAAgCAYAAAASTprzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkOGIxMjQ1ZS0yY2YxLTQ2NWYtOGMwNC1kNjU4OWUwZDc0MWUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkU2NjAwNzAzQzY4MTFFNkEyQzRFRDZEQzI0NTI2MkUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkU2NjAwNkYzQzY4MTFFNkEyQzRFRDZEQzI0NTI2MkUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgTWFjaW50b3NoIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YzlmYTc2MjgtMWM5ZS00ODAyLTgyYzEtMjlmZDA1MWM0ZDU4IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MDYwZTY1NzEtODRjNC0xMTc5LThkOGYt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\"},1481:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=i(n(6)),a=i(n(1482)),l=i(n(1484));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=r.default.module(\"waltz.tour\",[]);return e.service(\"TourService\",a.default).service(\"TourStore\",l.default),e.name}},1482:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw l}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),a=n(1483),l=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(0);var s=function(){return console.log(\"tourService: completionCallback missing\")};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if((0,i.isEmpty)(e))return null;var n={steps:l.default.map(e,function(e){return{element:e.selector,intro:e.description,position:e.position}}),showStepNumbers:!1,showProgress:!0,showBullets:!1,exitOnOverlayClick:!0,exitOnEsc:!0,nextLabel:\"<strong>Next</strong>\",prevLabel:\"<span>Previous</span>\",skipLabel:\"Exit\",doneLabel:\"Done\",overlayOpacity:.6,disableInteraction:!0},r=new a.introJs;return r.setOptions(n),r.onexit(t),r.oncomplete(t),r}function c(e){return e+\".tour.seen\"}function u(e,t,n,a){return{initialiseWithSteps:function(){var e=o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);return e?function(){return e.start()}:null},initialiseForKey:function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=[n.findForKey(t),a.loadPreferences()];return e.all(u).then(function(e){var n=r(e,2),u=n[0],d=void 0===u?[]:u,f=n[1],p=void 0===f?{}:f,m=o(d,function(){return function(e,t){var n=c(t);e.savePreference(n,\"true\")}(a,t)}),g=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})[c(e)];return!!t&&\"true\"===t.value}(t,p);return!g&&s&&(0,i.notEmpty)(d)&&m.start(),{seen:g,start:m?function(){return m.start()}:function(){},stepCount:l.default.size(d)}})},delayedStart:function(e){return t(function(){return e.start()},1500)}}}u.$inject=[\"$q\",\"$timeout\",\"TourStore\",\"UserPreferenceService\"],t.default=u},1484:function(e,t,n){\"use strict\";function r(e,t){var n=t+\"/tour\";return{findForKey:function(t){return e.get(n+\"/\"+t).then(function(e){return e.data})}}}Object.defineProperty(t,\"__esModule\",{value:!0}),r.$inject=[\"$http\",\"BaseApiUrl\"],t.default=r},1485:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=g(n(6)),a=n(7),l=g(n(1486)),i=g(n(1487)),s=g(n(262)),o=g(n(1488)),c=g(n(154)),u=g(n(1489)),d=g(n(1490)),f=g(n(1491)),p=g(n(1492)),m=g(n(1493));function g(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=r.default.module(\"waltz.user\",[]);return e.config(m.default),(0,a.registerStore)(e,s.default),e.service(\"UserAgentInfoStore\",l.default).service(\"UserService\",i.default).service(\"UserPreferenceStore\",o.default).service(\"UserPreferenceService\",c.default),e.directive(\"waltzHasRole\",u.default).directive(\"waltzHasRoleForEntityKind\",d.default).directive(\"waltzUnlessRole\",f.default).directive(\"waltzIfAnonymous\",p.default),e.name}},1486:function(e,t,n){\"use strict\";function r(e,t,n){var r=n+\"/user-agent-info\";return{findForUser:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e.get(r+\"/user/\"+t,{params:{limit:n}}).then(function(e){return e.data})},save:function(){var n={operatingSystem:t.navigator.platform,resolution:t.screen.width+\"x\"+t.screen.height};return e.post(r,n).then(function(e){return e.data})}}}Object.defineProperty(t,\"__esModule\",{value:!0}),r.$inject=[\"$http\",\"$window\",\"BaseApiUrl\"],t.default=r},1487:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var a=null,l=null;function i(e,t,n){var i=this,s=t+\"/user\",o=function(){return(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||null==a&&null==l)&&(a=e.get(s+\"/whoami\").then(function(e){return e.data}).then(function(e){return l=\"anonymous\"===e.userName?null:e.userName,e})),a};return o(),{whoami:o,login:function(e){return n.login(e).then(function(e){n.setToken(e.data.token)})},logout:function(){return n.logout().then(function(){i.userPromise=null,i.user=null})},hasRole:function(e,t){var n=e.roles,a=void 0===n?[]:n;if(r.default.isEmpty(t))return!0;var l=r.default.isObject(t)?t.key:t;return r.default.includes(a,l)}}}i.$inject=[\"$http\",\"BaseApiUrl\",\"$auth\"],t.default=i},1488:function(e,t,n){\"use strict\";function r(e,t){var n=t+\"/user-preference\";return{findAllForUser:function(){return e.get(\"\"+n).then(function(e){return e.data})},saveForUser:function(t){return e.post(n+\"/save\",t).then(function(e){return e.data})},saveAllForUser:function(t){return e.post(n+\"/save-all\",t).then(function(e){return e.data})},deleteForUser:function(){return e.delete(n+\"/clear\").then(function(e){return e.data})}}}Object.defineProperty(t,\"__esModule\",{value:!0}),r.$inject=[\"$http\",\"BaseApiUrl\"],t.default=r},1489:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={role:\"@waltzHasRole\"};function a(e){var t=this;e.whoami().then(function(n){return t.show=e.hasRole(n,t.role)}),t.show=!1}a.$inject=[\"UserService\"],t.default=function(){return{replace:!0,restrict:\"A\",transclude:!0,scope:{},bindToController:r,controllerAs:\"ctrl\",template:'<span ng-show=\"ctrl.show\"><ng-transclude></ng-transclude></span>',controller:a}}},1490:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(112),a={entityKind:\"@waltzHasRoleForEntityKind\"};function l(e,t){var n=this;n.show=!1,e.$watch(\"ctrl.entityKind\",function(e){if(e){var a=(0,r.getEditRoleForEntityKind)(e);t.whoami().then(function(e){return n.show=t.hasRole(e,a)})}})}l.$inject=[\"$scope\",\"UserService\"],t.default=function(){return{replace:!0,restrict:\"A\",transclude:!0,scope:{},bindToController:a,controllerAs:\"ctrl\",template:'<span ng-show=\"ctrl.show\"><ng-transclude></ng-transclude></span>',controller:l}}},1491:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={role:\"@waltzUnlessRole\"};function a(e){var t=this;e.whoami().then(function(n){return t.hide=!e.hasRole(n,t.role)}),t.hide=!0}a.$inject=[\"UserService\"],t.default=function(){return{replace:!0,restrict:\"A\",transclude:!0,scope:{},bindToController:r,controllerAs:\"ctrl\",template:'<span ng-show=\"!hide\"><ng-transclude></ng-transclude></span>',controller:a}}},1492:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={shouldBeAnonymous:\"=waltzIfAnonymous\"};function a(e){var t=this;e.whoami().then(function(e){return t.show=t.shouldBeAnonymous?\"anonymous\"===e.userName:\"anonymous\"!=e.userName}),t.show=!1}a.$inject=[\"UserService\"],t.default=function(){return{replace:!0,restrict:\"A\",transclude:!0,scope:{},bindToController:r,controllerAs:\"ctrl\",template:'<span ng-show=\"ctrl.show\"><ng-transclude></ng-transclude></span>',controller:a}}},1493:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=i(n(1494)),a=i(n(1496)),l=i(n(1498));function i(e){return e&&e.__esModule?e:{default:e}}var s={url:\"user\"},o={url:\"/active-users\",views:{\"content@\":r.default}},c={url:\"/management\",views:{\"content@\":a.default}},u={url:\"/log\",views:{\"content@\":l.default}};function d(e){e.state(\"main.user\",s).state(\"main.user.active\",o).state(\"main.user.management\",c).state(\"main.user.log\",u)}d.$inject=[\"$stateProvider\"],t.default=d},1494:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=i(n(1)),a=n(0),l=i(n(1495));function i(e){return e&&e.__esModule?e:{default:e}}var s={activeUsers:[]};function o(e,t){var n=(0,a.initialiseData)(this,s);n.onDurationChange=function(e){t.findActiveUsers(e).then(function(e){return n.activeUsers=e})},n.emailUsers=function(){var t=r.default.map(n.activeUsers,\"userId\");e.open(\"mailto:?bcc=\"+t.join(\"; \"))}}o.$inject=[\"$window\",\"AccessLogStore\"],t.default={template:l.default,controller:o,controllerAs:\"ctrl\",bindToController:!0,scope:{}}},1495:function(e,t){e.exports='<div> <waltz-page-header icon=line-chart name=\"Active Users\"> <ol class=waltz-breadcrumbs> <li><a ui-sref=main>Home</a></li> <li><a ui-sref=main.system.list>System Admin</a></li> <li>Active Users</li> </ol> </waltz-page-header> <div class=\"waltz-page-summary waltz-page-summary-attach\"> <div class=row> <div class=col-md-6> <form class=form-inline> <div class=form-group> <label>Select duration</label> <select class=form-control placeholder=Username ng-model=ctrl.selectedDuration ng-change=ctrl.onDurationChange(ctrl.selectedDuration) ng-model-options=\"{debounce: 300}\"> <option value=10> 10 minutes </option> <option value=20> 20 minutes </option> <option value=30> 30 minutes </option> <option value=45> 45 minutes </option> <option value=60> 60 minutes </option> <option value=90> 90 minutes </option> </select> </div> </form> </div> <div class=col-md-6> <button class=\"btn btn-sm btn-primary pull-right\" ng-click=ctrl.emailUsers()> Email users </button> </div> </div> <div ng-if=ctrl.selectedDuration> <hr> <div> <h4> Active Users <small>in the last <span ng-bind=ctrl.selectedDuration></span> minutes</small> </h4> <div ng-if=\"ctrl.activeUsers.length > 0\" class=waltz-user-log-scroll> <table class=\"table small\"> <thead> <tr> <th width=30%>User</th> <th width=30%>Timestamp</th> </tr> </thead> <tbody> <tr ng-repeat=\"log in ctrl.activeUsers\"> <td> <a ui-sref=\"main.profile.view ({userId: log.userId})\"> <span ng-bind=log.userId> </span> </a> </td> <td> <waltz-from-now timestamp=log.createdAt> </waltz-from-now> </td> </tr> </tbody> </table> </div> <waltz-no-data ng-if=\"ctrl.activeUsers.length == 0\"> <message> No recent activity </message> </waltz-no-data> </div> </div> </div> </div> '},1496:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=o(n(1)),a=n(0),l=n(2),i=o(n(1497)),s=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var c={numAllowedWithoutFilter:100,roles:s.default};function u(e){var t=(0,a.initialiseData)(this,c);function n(e){t.roleSelections=r.default.reduce(r.default.map(s.default,\"key\"),function(t,n){return t[n]=e,t},{})}e.loadViewData(l.CORE_API.UserStore.findAll,[]).then(function(e){return t.users=e.data}),t.dismiss=function(){t.newUser=null,t.selectedUser=null,t.newPassword1=null,t.newPassword2=null},t.userSelected=function(e){t.dismiss(),t.selectedUser=e,t.roleSelections=r.default.reduce(e.roles,function(e,t){return e[t]=!0,e},{})},t.addUserSelected=function(){t.dismiss(),t.newUser={userName:\"\",password:\"\"}},t.isValidNewUser=function(e){return e.userName&&e.password},t.registerUser=function(n){e.execute(l.CORE_API.UserStore.register,[n]).then(function(){t.userSelected(n),t.users=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.users),[n])},function(e){console.error(\"Error registering user: \",e),t.lastError=e.data})},t.updateUser=function(n,a,i,s){if(i===s){var o=r.default.chain(a).map(function(e,t){return e?t:null}).compact().value();e.execute(l.CORE_API.UserStore.updateRoles,[n.userName,o]).then(function(){n.roles=o,t.dismiss()},function(e){t.lastError=e.data}),i&&e.execute(l.CORE_API.UserStore.resetPassword,[n.userName,i])}else t.lastError={id:\"MISMATCH\",message:\"Passwords do not match\"}},t.hasRole=function(e,t){return(e.roles||[]).indexOf(t)>-1},t.deleteUser=function(n){return e.execute(l.CORE_API.UserStore.deleteUser,[n.userName]).then(function(){t.users=r.default.reject(t.users,function(e){return e===n}),t.dismiss()},function(e){return t.lastError=e.data}),!1},t.selectAll=function(){n(!0)},t.deselectAll=function(){n(!1)}}u.$inject=[\"ServiceBroker\"],t.default={template:i.default,controller:u,controllerAs:\"ctrl\",bindToController:!0,scope:{}}},1497:function(e,t){e.exports='<div> <style>div.waltz-user-admin-scroll{height:300px;width:100%;overflow:auto;border:1px solid #ccc;border-radius:3px;padding:8px}.waltz-user-admin-selected{background-color:#eee}</style> <waltz-page-header icon=users name=\"User Management\"> <ol class=waltz-breadcrumbs> <li><a ui-sref=main>Home</a></li> <li><a ui-sref=main.system.list>System Admin</a></li> <li>User Management</li> </ol> </waltz-page-header> <div class=\"waltz-page-summary waltz-page-summary-attach\"> <form class=form-inline> <div class=form-group> <label>Search</label> <input type=search class=form-control placeholder=\"Filter by username/role....\" ng-model=userFilterQuery ng-model-options=\"{debounce: 300}\" ng-minlength=3> <div class=text-danger ng-if=\"ctrl.users.length > ctrl.numAllowedWithoutFilter && !userFilterQuery\"> <br> Too many results, please enter at least 3 characters to filter </div> </div> </form> <hr> <div class=waltz-user-admin-scroll> <table class=\"table table-condensed table-striped table-hover small\"> <thead> <tr> <th>User Name</th> <th ng-repeat=\"role in ctrl.roles\"> <span ng-bind=role.name> </span> </th> </tr> </thead> <tbody> <tr ng-repeat=\"user in ctrl.users | orderBy:\\'userName\\' | filter:userFilterQuery\" ng-if=\"ctrl.users.length <= ctrl.numAllowedWithoutFilter || userFilterQuery\" ng-click=ctrl.userSelected(user) ng-class=\"{ \\'waltz-user-admin-selected\\' : user == ctrl.selectedUser }\"> <td> <a class=clickable ng-bind=user.userName> </a> </td> <td align=left ng-repeat=\"role in ctrl.roles\"> <span ng-if=\"ctrl.hasRole(user, role.key)\"> <waltz-icon name=check></waltz-icon> </span> </td> </tr> </tbody> </table> </div> <div style=margin-top:6px> Select a user from the above list <i>or</i> add a <a class=clickable ng-click=ctrl.addUserSelected()>new user</a>. </div> <div ng-if=ctrl.selectedUser> <hr> <h3> <span ng-bind=ctrl.selectedUser.userName></span> <small>User</small> </h3> <form class=form-horizontal ng-submit=\"ctrl.updateUser(ctrl.selectedUser, ctrl.roleSelections, ctrl.newPassword1, ctrl.newPassword2)\"> <div class=form-group> <label class=\"col-sm-2 control-label\">Permissions</label> <div class=col-sm-10> <table class=\"table table-condensed table-hover\"> <colgroup> <col width=5%> <col width=40%> <col width=55%> </colgroup> <thead> <tr> <th> <a ng-click=ctrl.selectAll() class=clickable> <waltz-icon name=plus fixed-width=true></waltz-icon> </a> / <a ng-click=ctrl.deselectAll() class=clickable> <waltz-icon name=minus fixed-width=true></waltz-icon> </a> </th> <th>Role</th> <th>Desc</th> </tr> </thead> <tbody> <tr ng-repeat=\"role in ctrl.roles\"> <td> <input type=checkbox ng-model=ctrl.roleSelections[role.key]> </td> <td> <div ng-bind=role.name></div> </td> <td> <p class=help-block ng-bind=role.description> </p> </td> </tr> </tbody> </table> </div> </div> <div class=form-group> <label class=\"col-sm-2 control-label\"> Reset Password </label> <div class=col-sm-10> <input type=password class=form-control ng-model=ctrl.newPassword1 placeholder=\"New password\"> </div> </div> <div class=form-group> <label class=\"col-sm-2 control-label\"> Re-type Password </label> <div class=col-sm-10> <input type=password class=form-control ng-model=ctrl.newPassword2 placeholder=\"New password\"> <p class=help-block>Leave both blank to preserve existing password</p> </div> </div> <div class=form-group> <div class=\"col-sm-offset-2 col-sm-10\"> <button type=submit class=\"btn btn-success\"> Save Changes </button> <button class=\"btn btn-danger\" type=button ng-click=ctrl.deleteUser(ctrl.selectedUser)> Delete </button> <a class=clickable ng-click=ctrl.dismiss()> Dismiss </a> </div> </div> </form> </div> <div ng-if=ctrl.newUser> <hr> <h3>New User <small>Registration</small></h3> <form class=form-horizontal ng-submit=ctrl.registerUser(ctrl.newUser)> <div class=form-group> <label class=\"col-sm-2 control-label\">User Name</label> <div class=col-sm-10> <input class=form-control ng-model=ctrl.newUser.userName placeholder=\"User name\"> </div> </div> <div class=form-group> <label class=\"col-sm-2 control-label\"> Password </label> <div class=col-sm-10> <input type=password class=form-control ng-model=ctrl.newUser.password placeholder=Password> </div> </div> <div class=form-group> <div class=\"col-sm-offset-2 col-sm-10\"> <button type=submit class=\"btn btn-success\" ng-disabled=\"! ctrl.isValidNewUser(ctrl.newUser)\"> Register </button> <a class=clickable ng-click=ctrl.dismiss()> Cancel </a> </div> </div> </form> </div> <div class=\"alert alert-danger\" ng-if=ctrl.lastError> <strong ng-bind=ctrl.lastError.id> </strong> <span ng-bind=ctrl.lastError.message> </span> <br> <a class=clickable ng-click=\"ctrl.lastError = null\"> Clear <waltz-icon name=times></waltz-icon> </a> </div> </div> </div> '},1498:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n(1499));function l(e,t){var n=this;n.accesslogs=[],n.changeLogs=[],n.onChange=function(a){null===a||\"\"===a?(n.accessLogs=[],n.changeLogs=[]):(e.findForUserName(a,500).then(function(e){return n.accesslogs=e}),t.loadViewData(r.CORE_API.ChangeLogStore.findForUserName,[n.userName,500]).then(function(e){return n.changeLogs=e.data}))},n.changeLogColumnDefs=[{field:\"severity\",name:\"Severity\",width:\"10%\",cellFilter:\"toDisplayName:'severity'\"},{field:\"message\",name:\"Message\",width:\"50%\"},{field:\"parentReference\",name:\"Entity\",width:\"30%\",cellTemplate:'<div class=\"ui-grid-cell-contents\"><span ng-bind=\"COL_FIELD.kind\"></span> / <span ng-bind=\"COL_FIELD.id\"></span> <span ng-if=\"COL_FIELD.name\"> <span ng-bind=\"COL_FIELD.name\"></span></span></div>'},{field:\"createdAt\",name:\"Timestamp\",width:\"10%\",cellTemplate:'<div class=\"ui-grid-cell-contents\"><waltz-from-now timestamp=\"COL_FIELD\"></waltz-from-now></div>'}],n.accessLogColumnDefs=[{field:\"state\",name:\"State\",width:\"20%\"},{field:\"params\",name:\"Params\",width:\"50%\"},{field:\"createdAt\",name:\"Timestamp\",width:\"20%\",cellTemplate:'<div class=\"ui-grid-cell-contents\"><waltz-from-now timestamp=\"COL_FIELD\"></waltz-from-now></div>'},{field:\"params\",name:\"\",width:\"10%\",cellTemplate:'<div class=\"ui-grid-cell-contents\"><waltz-grid-sref state=\"row.entity.state\" params=\"row.entity.params\" link-text=\"Visit\"></waltz-grid-sref></div>'}]}l.$inject=[\"AccessLogStore\",\"ServiceBroker\"],t.default={template:a.default,controller:l,controllerAs:\"ctrl\",bindToController:!0,scope:{}}},1499:function(e,t){e.exports='<div> <style>div.waltz-user-log-scroll{height:400px;width:100%;overflow:auto;border:1px solid #ccc;border-radius:3px;padding:8px}</style> <waltz-page-header icon=list-ul name=\"User Logs\"> <ol class=waltz-breadcrumbs> <li><a ui-sref=main>Home</a></li> <li><a ui-sref=main.system.list>System Admin</a></li> <li>User Logs</li> </ol> </waltz-page-header> <div class=\"waltz-page-summary waltz-page-summary-attach\"> <h3> Select User </h3> <form class=form-inline> <div class=form-group> <label>Search</label> <input type=search class=form-control placeholder=Username ng-model=ctrl.userName ng-change=ctrl.onChange(ctrl.userName) ng-model-options=\"{debounce: 300}\"> </div> </form> <div ng-if=ctrl.userName> <hr> <div> <h4> Audit Log <small ng-bind=ctrl.userName></small> </h4> <waltz-grid-with-search ng-if=\"ctrl.changeLogs.length > 0\" column-defs=ctrl.changeLogColumnDefs entries=ctrl.changeLogs search-placeholder-text=\"Search audit log...\"> </waltz-grid-with-search> <waltz-no-data ng-if=\"ctrl.changeLogs.length == 0\"> <message> No audit logs </message> </waltz-no-data> </div> <div> <hr> <h4> Access Log <small ng-bind=ctrl.userName></small> </h4> <waltz-grid-with-search ng-if=\"ctrl.accesslogs.length > 0\" column-defs=ctrl.accessLogColumnDefs entries=ctrl.accesslogs search-placeholder-text=\"Search access log...\"> </waltz-grid-with-search> <waltz-no-data ng-if=\"ctrl.accesslogs.length == 0\"> <message> No Access logs </message> </waltz-no-data> </div> </div> </div> </div> '},1500:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=l(n(6)),a=l(n(1501));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=r.default.module(\"waltz.user.contribution\",[]);return e.service(\"UserContributionStore\",a.default),e.name}},1501:function(e,t,n){\"use strict\";function r(e,t){return{findForUserId:function(n){return e.get(t+\"/user-contribution/user/\"+n+\"/score\").then(function(e){return e.data})},findForDirects:function(n){return e.get(t+\"/user-contribution/user/\"+n+\"/directs/score\").then(function(e){return e.data})},getLeaderBoard:function(){return e.get(t+\"/user-contribution/leader-board\").then(function(e){return e.data})}}}Object.defineProperty(t,\"__esModule\",{value:!0}),r.$inject=[\"$http\",\"BaseApiUrl\"],t.default=r},1502:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=l(n(6)),a=l(n(1503));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=r.default.module(\"waltz.welcome\",[]);return e.component(\"waltzRecentlyViewedSection\",a.default),e.name}},1503:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={bindings:{history:\"<\"},template:function(e){return e&&e.__esModule?e:{default:e}}(n(1504)).default};t.default=r},1504:function(e,t){e.exports='<waltz-section icon=history id=recently-viewed name=\"Recently Viewed\"> <ul class=list-unstyled> <li ng-repeat=\"item in $ctrl.history\"> <a ui-sref=\"{{ ::item.state }} ({{ ::item.stateParams }})\"> <waltz-icon class=text-muted fixed-width=true name=\"{{ item.kind | toIconName:\\'entity\\' }}\"></waltz-icon> <span ng-bind=::item.name></span> </a> </li> </ul> <div class=\"alert alert-info\" ng-if=\"$ctrl.history.length == 0\"> <strong>Recently viewed</strong> items will be added as you navigate through Waltz </div> <div class=\"small text-muted\" ng-if=\"$ctrl.history.length > 0\"> The recently viewed list can be quickly accessed from any point in Waltz via the \\'Recent\\' button on the menu bar at the top of the screen. </div> </waltz-section>'},1505:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=B(n(6)),a=B(n(1506)),l=B(n(1508)),i=B(n(1510)),s=B(n(1512)),o=B(n(1514)),c=B(n(1516)),u=n(7),d=B(n(1524)),f=B(n(1525)),p=B(n(1527)),m=B(n(1529)),g=B(n(1530)),v=B(n(1531)),h=B(n(1533)),w=B(n(1534)),b=B(n(1536)),y=B(n(1538)),A=B(n(1540)),z=B(n(1542)),j=B(n(1543)),k=B(n(1544)),S=B(n(1546)),M=B(n(1548)),O=B(n(1550)),x=B(n(1552)),C=B(n(1553)),D=B(n(1555)),I=B(n(1557)),E=B(n(1559)),N=B(n(1561)),T=B(n(393)),R=B(n(1562)),U=B(n(1564)),P=B(n(1566)),V=B(n(1568)),$=B(n(1570)),F=B(n(1571)),L=B(n(1573));function B(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=r.default.module(\"waltz.widgets\",[]);return e.directive(\"waltzChangeTimeline\",d.default),e.directive(\"waltzErrorAlert\",f.default),e.directive(\"waltzExternalLink\",p.default),e.directive(\"waltzFromNow\",m.default),e.directive(\"waltzJumpTo\",g.default),e.directive(\"waltzMailTo\",h.default),e.directive(\"waltzOverlayPanel\",w.default),e.directive(\"waltzPhoneLink\",b.default),e.directive(\"waltzRagIndicator\",y.default),e.directive(\"waltzSearch\",A.default),e.directive(\"waltzSectionActions\",z.default),e.directive(\"waltzStepCount\",j.default),e.directive(\"waltzYqSelect\",k.default),e.component(\"waltzBasicInfoTile\",S.default).component(\"waltzDataExtractLink\",M.default).component(\"waltzEditableField\",O.default).component(\"waltzIcon\",x.default).component(\"waltzInlineEditArea\",C.default).component(\"waltzKeywordList\",D.default).component(\"waltzKeywordEdit\",I.default).component(\"waltzNoData\",E.default).component(\"waltzMarkdown\",N.default).component(\"waltzPageHeader\",T.default).component(\"waltzPie\",R.default).component(\"waltzPieSegmentTable\",U.default).component(\"waltzPieTable\",P.default).component(\"waltzSection\",V.default).component(\"waltzSimpleStackChart\",$.default).component(\"waltzToggle\",F.default).component(\"waltzTwistie\",L.default),(0,u.registerComponents)(e,[a.default,l.default,s.default,o.default,v.default,c.default,i.default]),e.name}},1506:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=s(n(1)),a=n(0),l=n(0),i=s(n(1507));function s(e){return e&&e.__esModule?e:{default:e}}var o={sourceColumns:[],targetColumns:[],availableSourceColumns:[],mappings:{},onChange:function(e){return console.log(\"default onChange handler for column-mapper: \",e)}};function c(){var e=(0,a.initialiseData)(this,o),t=function(){var t=r.default.chain(e.targetColumns).filter(function(e){return e.required}).map(function(e){return e.key}),n=r.default.values(e.mappings);return r.default.isEmpty(r.default.difference(t,n))};e.$onInit=function(){e.availableSourceColumns=e.sourceColumns},e.$onChanges=function(t){t.existingMappings&&(e.mappings=e.existingMappings||{},e.onMappingSelect())},e.onMappingSelect=function(){e.availableSourceColumns=function(){var t=r.default.values(e.mappings);return r.default.difference(e.sourceColumns,t)}();var n={mappings:r.default.omitBy(e.mappings,function(e,t){return r.default.isEmpty(e)}),isComplete:t};(0,l.invokeFunction)(e.onChange,n)},e.resetMappings=function(){e.mappings={},e.onMappingSelect()}}c.$inject=[];var u={template:i.default,bindings:{sourceColumns:\"<\",targetColumns:\"<\",existingMappings:\"<\",onChange:\"<\"},controller:c};t.default={component:u,id:\"waltzColumnMapper\"}},1507:function(e,t){e.exports='<div class=waltz-column-mapper> <div class=\"text-muted small\"> The list below details the fields required by Waltz to construct a physical flow. Please select the columns from the drop down selectors on the right to populate the required Waltz fields. <a class=\"pull-right clickable\" ng-click=$ctrl.resetMappings()> reset </a> </div> <br> <table class=\"table table-condensed\"> <thead> <tr> <td>Target Fields (mapped to Waltz)</td> <td>Source Fields (pick from file)</td> </tr> </thead> <tr ng-repeat=\"target in $ctrl.targetColumns\"> <td> <div uib-popover-template=\"\\'wcm/desc-popup.html\\'\" popover-class=waltz-popover-wide popover-append-to-body=true popover-placement=top popover-trigger=mouseenter ng-class=\"{\\n                            \\'wcm-column-required\\': target.required && !$ctrl.mappings[target.key],\\n                            \\'wcm-column-success\\': target.required && $ctrl.mappings[target.key]\\n                          }\"> <span ng-bind=target.name> </span> <waltz-icon name=check-circle-o ng-if=\"target.required && $ctrl.mappings[target.key]\"> </waltz-icon> <waltz-icon name=question-circle-o ng-if=\"target.required && !$ctrl.mappings[target.key]\"> </waltz-icon> </div> </td> <td width=50%> <ui-select ng-model=$ctrl.mappings[target.key] on-select=$ctrl.onMappingSelect() theme=bootstrap> <ui-select-match placeholder=Select... allow-clear=true> <span ng-bind-html=$select.selected> </span> </ui-select-match> <ui-select-choices repeat=\"source in $ctrl.availableSourceColumns | filter: $select.search\"> <span ng-bind=source></span> </ui-select-choices> </ui-select> </td> </tr> </table> </div> <script type=text/ng-template id=wcm/desc-popup.html> <div>\\n        <waltz-markdown text=\"target.description\"></waltz-markdown>\\n        <br>\\n        <strong ng-if=\"target.required\"\\n              class=\"text-muted small\">\\n            This is a required column\\n        </strong>\\n    </div> <\\/script>'},1508:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=o(n(1509)),a=n(0),l=o(n(89)),i=n(271),s=n(39);function o(e){return e&&e.__esModule?e:{default:e}}var c={currencyStr:\"-\",simplify:!1};function u(e,t){var n=(0,a.initialiseData)(this,c),r=null,o=function(){r&&n.amount&&(n.simplify?n.currencyStr=r.symbol+(0,s.numberFormatter)(n.amount,1,!0):n.currencyStr=e(\"currency\")(n.amount,r.symbol,r.fraction))};n.$onChanges=o,n.$onInit=function(){t.findOrDefault(l.default.defaultCurrency,\"EUR\").then(function(e){return r=i.currenciesByCode[n.currencyCode||e]}).then(o)}}u.$inject=[\"$filter\",\"SettingsService\"];var d={controller:u,template:r.default,bindings:{currencyCode:\"<?\",amount:\"<\",simplify:\"@?\"}};t.default={component:d,id:\"waltzCurrencyAmount\"}},1509:function(e,t){e.exports=\"<span ng-bind=$ctrl.currencyStr> </span> \"},1510:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1511)),a=n(0);var l={showBorder:!0};function i(){(0,a.initialiseData)(this,l).$onChanges=function(){}}i.$inject=[];var s={template:r.default,bindings:{name:\"@\",small:\"@\",showBorder:\"<\"},controller:i,transclude:{content:\"content\"}};t.default={id:\"waltzSubSection\",component:s}},1511:function(e,t){e.exports=\"<div class=waltz-sub-section ng-class=\\\"{ 'show-border': $ctrl.showBorder }\\\"> <div ng-if=$ctrl.name class=wss-name ng-bind=$ctrl.name> </div> <div ng-if=$ctrl.small class=wss-small-name ng-bind=$ctrl.small> </div> <div ng-transclude=content class=wss-content> </div> </div>\"},1512:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),a=n(29),l=function(e){return e&&e.__esModule?e:{default:e}}(n(1513));var i={currentVal:null,visibility:{editor:!1}};function s(e,t){var n=(0,r.initialiseData)(this,i);n.$onChanges=function(){n.currentVal=n.initialVal,n.enumKind&&t.loadEnums().then(function(e){return n.enumValues=(0,a.toOptions)(e[n.enumKind])})},n.onEdit=function(){n.visibility.editor=!0},n.doCancel=function(){n.visibility.editor=!1,n.saving=!1,n.currentVal=n.initialVal},n.doSave=function(){return n.saving=!0,n.onSave(n.currentVal,n.ctx).then(function(){n.visibility.editor=!1,n.saving=!1})},n.isDirty=function(){return null!==n.currentVal&&n.currentVal!==n.initialVal}}s.$inject=[\"DisplayNameService\",\"EnumValueService\"];var o={template:l.default,controller:s,bindings:{initialVal:\"<\",enumKind:\"@\",onSave:\"<\",editRole:\"@\",ctx:\"<?\"}};t.default={component:o,id:\"waltzEditableEnum\"}},1513:function(e,t){e.exports='<div class=waltz-visibility-parent> <span ng-if=!$ctrl.visibility.editor> <span ng-bind=\"$ctrl.currentVal | toDisplayName:$ctrl.enumKind\"></span> <a ng-click=$ctrl.onEdit() ng-if=$ctrl.editRole waltz-has-role=\"{{ $ctrl.editRole }}\" class=\"btn btn-xs waltz-visibility-child-30\"> <waltz-icon name=pencil></waltz-icon> Edit </a> <a ng-click=$ctrl.onEdit() ng-if=\"! $ctrl.editRole\" class=\"btn btn-xs waltz-visibility-child-30\"> <waltz-icon name=pencil></waltz-icon> Edit </a> </span> <form class=form-inline ng-if=$ctrl.visibility.editor> <select ng-model=$ctrl.currentVal ng-options=\"item.code as item.name for item in $ctrl.enumValues\" class=form-control> </select> <button class=\"btn btn-xs btn-success\" ng-disabled=\"$ctrl.saving || !$ctrl.isDirty()\" ng-click=$ctrl.doSave()> <waltz-icon name=check></waltz-icon> Save </button> <button class=\"btn btn-xs\" ng-click=$ctrl.doCancel() ng-if=!$ctrl.saving> <waltz-icon name=times></waltz-icon> Cancel </button> <span ng-if=$ctrl.saving> <waltz-icon name=spinner spin=true> </waltz-icon> </span> </form> </div>'},1514:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=i(n(1)),a=n(0),l=i(n(1515));function i(e){return e&&e.__esModule?e:{default:e}}var s={currentVal:null,currentComments:null,dropdownValues:[],dropdownsByCode:{},visibility:{editor:!1}};function o(){var e=(0,a.initialiseData)(this,s);e.$onChanges=function(){e.currentVal=e.initialVal,e.currentComments=e.initialComments,e.entries&&(e.dropdownValues=r.default.orderBy(e.entries,[\"position\",\"name\"]),e.dropdownsByCode=r.default.keyBy(e.dropdownValues,\"code\"))},e.onEdit=function(){e.visibility.editor=!0},e.doCancel=function(){e.visibility.editor=!1,e.saving=!1,e.currentVal=e.initialVal,e.currentComments=e.initialComments},e.doSave=function(){return e.saving=!0,e.onSave(e.currentVal,e.currentComments,e.ctx).then(function(){e.visibility.editor=!1,e.saving=!1})},e.getName=function(t){return r.default.get(e,[\"dropdownsByCode\",t,\"name\"],t)},e.isDirty=function(){return null!=e.currentVal&&(e.currentVal!=e.initialVal||e.currentComments!=e.initialComments)}}o.$inject=[];var c={template:l.default,controller:o,bindings:{initialVal:\"<\",entries:\"<\",commentsAllowed:\"@?\",initialComments:\"<?\",onSave:\"<\",onRemove:\"<?\",editRole:\"@\",ctx:\"<?\"}};t.default={component:c,id:\"waltzEditableDropdown\"}},1515:function(e,t){e.exports='<div class=waltz-visibility-parent> <span ng-if=!$ctrl.visibility.editor> <span ng-bind=$ctrl.getName($ctrl.currentVal)></span> <span ng-if=$ctrl.currentComments ng-bind=$ctrl.currentComments class=\"small text-muted\"> </span> <a ng-click=$ctrl.onEdit() ng-if=$ctrl.editRole waltz-has-role=\"{{ $ctrl.editRole }}\" class=\"btn btn-xs waltz-visibility-child-30\"> <waltz-icon name=pencil></waltz-icon> Edit </a> <a ng-click=$ctrl.onEdit() ng-if=\"! $ctrl.editRole\" class=\"btn btn-xs waltz-visibility-child-30\"> <waltz-icon name=pencil></waltz-icon> Edit </a> <a class=\"btn btn-xs waltz-visibility-child-30\" ng-if=\"$ctrl.onRemove && $ctrl.currentVal\" ng-click=$ctrl.onRemove($ctrl.ctx)> <waltz-icon name=trash></waltz-icon> Remove </a> </span> <form class=form-inline ng-if=$ctrl.visibility.editor> <select ng-model=$ctrl.currentVal placeholder=wibble ng-options=\"item.code as item.name for item in $ctrl.dropdownValues\" class=form-control> <option value=\"\" disabled=disabled selected=selected>Select your option</option> </select> <input type=text ng-if=$ctrl.commentsAllowed placeholder=Comment... ng-model=$ctrl.currentComments class=\"form-control input-sm small text-muted\"> <button class=\"btn btn-xs btn-success\" ng-disabled=\"$ctrl.saving || !$ctrl.isDirty()\" ng-click=$ctrl.doSave()> <waltz-icon name=check></waltz-icon> Save </button> <button class=\"btn btn-xs\" ng-click=$ctrl.doCancel() ng-if=!$ctrl.saving> <waltz-icon name=times></waltz-icon> Cancel </button> <span ng-if=$ctrl.saving> <waltz-icon name=spinner spin=true> </waltz-icon> </span> </form> </div>'},1516:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=o(n(1)),a=n(0),l=o(n(1517)),i=n(0),s=o(n(1523));function o(e){return e&&e.__esModule?e:{default:e}}var c={columnDefs:[],rowData:[],selectedSheetName:null,sheetNames:[],workbook:null,onGridInitialise:function(e){return console.log(\"default grid initialise handler for spreadsheet-loader\")},onSpreadsheetLoaded:function(e){return console.log(\"default onSpreadsheetLoaded handler for spreadsheet-loader, \",e)}};function u(e,t){var n=l.default.utils.sheet_to_json(e.Sheets[t],{header:1})[0],a=l.default.utils.sheet_to_json(e.Sheets[t]);return{columnDefs:function(e){return r.default.map(e,function(e){return{field:e,name:e}})}(n),rowData:a}}function d(e,t){var n=(0,a.initialiseData)(this,c),s=function(){var e=u(n.workbook,n.selectedSheetName),t=e.columnDefs,r=e.rowData;n.columnDefs=t,n.rowData=r;var a={columnDefs:t,rowData:r};(0,i.invokeFunction)(n.onSpreadsheetLoaded,a)};n.$onInit=function(){if(n.input=e.find(\"input\"),!n.input)throw\"Could not find input element\";n.input.on(\"change\",n.fileChange)},n.$onDestroy=function(){n.input&&n.input.off(\"change\",n.fileChange)},n.fileChange=function(e){var a=r.default.get(e,\"target.files\",[]);if(0!=a.length){var i=a[0],o=new FileReader;o.onload=function(e){t.$apply(function(){var t=function(e){if(e){for(var t=\"\",n=new Uint8Array(e),r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return t}}(r.default.get(e,\"target.result\"));n.workbook=l.default.read(t,{type:\"binary\"}),n.sheetNames=n.workbook.SheetNames,n.selectedSheetName=n.sheetNames[0],s()})},o.readAsArrayBuffer(i)}},n.onSelectedSheetChange=function(){s()}}d.$inject=[\"$element\",\"$scope\"];var f={template:s.default,bindings:{onSpreadsheetLoaded:\"<\"},controller:d};t.default={component:f,id:\"waltzSpreadsheetLoader\"}},1521:function(e,t){},1522:function(e,t){},1523:function(e,t){e.exports='<div class=waltz-spreadsheet-loader> <div class=input> <h5 class=muted>Select Spreadsheet File</h5> <input type=file accept=.xls,.xlsx,.ods,.csv multiple=false /> </div> <div ng-if=$ctrl.workbook> <hr/> <div ng-if=\"$ctrl.sheetNames.length > 1\"> <span>Worksheet:</span> <select ng-model=$ctrl.selectedSheetName ng-options=\"sheet for sheet in $ctrl.sheetNames\" ng-change=$ctrl.onSelectedSheetChange()> </select> <br> <br> </div> <waltz-grid-with-search ng-if=\"$ctrl.rowData.length > 0\" scope-provider=$ctrl column-defs=$ctrl.columnDefs entries=$ctrl.rowData searchplaceholdertext=Search on-initialise=$ctrl.onGridInitialise> </waltz-grid-with-search> <waltz-no-data ng-if=\"$ctrl.rowData.length === 0\"> <message> <waltz-icon name=warning></waltz-icon> No data found in worksheet </message> </waltz-no-data> </div> </div> '},1524:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(90),a=n(5),l=n(30);n(45);var i=o(n(1)),s=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}function c(e){return 10*e.year+e.quarter}function u(e,t){var n=Number(e.attr(\"width\")),a=function(e){return i.default.chain(e).map(function(e){return i.default.map([1,2,3,4],function(t){return{year:e,quarter:t,id:10*e+t}})}).flatten().value()}(function(e,t){var n=(new Date).getFullYear(),r=e||{year:n},a=t||{year:r.year+5};return i.default.range(r.year,a.year+1)}(t.start,t.end)),s=(0,l.scaleBand)().domain(i.default.map(a,\"id\")).range([0,n],.2),o=(0,l.scaleLinear)().domain([0,i.default.maxBy(t.changes,\"size\").size]).range([42,4]);e.selectAll(\"*\").remove(),e.attr(\"height\",80),function(e,t){var n=(0,r.axisBottom)(t).tickFormat(function(e){return e%10==1?Math.round(e/10):\"\"}),a=(0,r.axisBottom)(t).tickFormat(function(e){return\"Q\"+e%10}).tickSize(4).orient(\"bottom\");e.append(\"g\").attr(\"class\",\"year axis\").attr(\"transform\",\"translate(0, 12)\").call(n),e.append(\"g\").attr(\"class\",\"yq axis\").call(a)}(e.append(\"g\").attr(\"transform\",\"translate(0, 42)\"),s),function(e,t,n,r,a){var l=t.rangeBand();e.selectAll(\".bar\").data(r).enter().append(\"rect\").classed(\"changes\",!0).classed(\"applied\",function(e){return a&&c(a)>c(e)}).classed(\"pending\",function(e){return!a||c(a)<c(e)}).classed(\"selected\",function(e){return a&&a.year===e.year&&a.quarter===e.quarter}).attrs({x:function(e){return t(c(e))},y:function(e){return n(e.size)},width:l,height:function(e){return n(0)-n(e.size)}})}(e,s,o,t.changes,t.selected),e.selectAll(\".click-handler\").data(s.domain()).enter().append(\"rect\").classed(\"click-handler\",!0).attrs({fill:\"none\",\"pointer-events\":\"visible\",x:function(e){return s(e)},y:0,width:s.rangeBand(),height:80}).on(\"click\",function(e){t.onSelect({year:Math.round(e/10),quarter:e%10})})}function d(e,t){var n=this;var r=i.default.debounce(function(){var t=e.vizElem.offsetWidth;e.svg.attr(\"width\",t);var r={start:n.start,end:n.end,changes:n.changes,onSelect:function(t){return e.$apply(n.onSelect()(t))},selected:n.selected};u(e.svg,r)},10);s.default.element(t).on(\"resize\",function(){return r()}),e.$watch(\"svg\",function(){return r()}),e.$watch(\"ctrl.selected\",function(){return r()})}function f(e,t){e.vizElem=t[0].querySelector(\".viz\"),e.svg=(0,a.select)(e.vizElem).append(\"svg\")}d.$inject=[\"$scope\",\"$window\"],t.default=function(){return{restrict:\"E\",replace:!0,scope:{start:\"=\",end:\"=\",changes:\"=\",selected:\"=\",onSelect:\"&\"},template:'<div><div class=\"viz waltz-ct\"></div></div>',controllerAs:\"ctrl\",bindToController:!0,controller:d,link:f}}},1525:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1526));t.default=function(){return{restrict:\"E\",replace:!0,template:r.default,scope:{error:\"=\",retry:\"&\"}}}},1526:function(e,t){e.exports='<div class=\"alert alert-danger\"> <div> <strong> Save Failed: </strong> {{ error.status }} / {{ error.statusText }} </div> <div> {{error.data.id}} / {{ error.data.message }} </div> <a ng-if=\"retry() != null\" ng-click=retry()() class=clickable> Retry </a> </div> '},1527:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw l}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),a=n(39),l=function(e){return e&&e.__esModule?e:{default:e}}(n(1528));var i={url:\"@\",title:\"@\",showUrl:\"=\"};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return _.truncate((0,a.toDomain)(e),{length:60})}function o(e){var t=this;e.$watchGroup([\"ctrl.url\",\"ctrl.title\",\"ctrl.showUrl\"],function(e){var n=r(e,3),a=n[0],l=n[1],i=n[2],o=void 0!==i&&i;t.prettyTitle=l||s(a),t.prettyUrl=s(a),t.showAside=o&&l&&a})}o.$inject=[\"$scope\"],t.default=function(){return{replace:!0,restrict:\"E\",scope:{},bindToController:i,controllerAs:\"ctrl\",controller:o,template:l.default}}},1528:function(e,t){e.exports='<a target=_blank ng-href=\"{{ ctrl.url }}\" rel=\"noopener noreferrer\"> <span ng-bind=ctrl.prettyTitle></span> <span class=\"text-muted small\" ng-if=ctrl.showAside> (<span ng-bind=ctrl.prettyUrl></span>) </span> </a>'},1529:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(4));var a={daysAndMinutes:\"ddd Do MMM YYYY - HH:mm:ss\",daysOnly:\"ddd Do MMM YYYY\",parse:\"YYYY-MM-DDThh:mm:ss.SSS\"};function l(e){var t=this;e.$watch(\"ctrl.timestamp\",function(e){if(!e)return t.hoverValue=null,void(t.fromNow=null);var n=r.default.utc(e,a.parse),l=t.daysOnly?a.daysOnly:a.daysAndMinutes,i=t.daysOnly?(0,r.default)().startOf(\"day\"):(0,r.default)();t.hoverValue=n.local().format(l),t.fromNow=t.daysOnly?0!==Math.round(i.diff(n,\"days\",!0))?n.from(i):\"today\":n.fromNow()})}l.$inject=[\"$scope\"];var i={restrict:\"E\",replace:!0,scope:{},bindToController:{timestamp:\"<\",daysOnly:\"<\"},controllerAs:\"ctrl\",template:'<span title=\"{{ ctrl.hoverValue }}\" ng-bind=\"ctrl.fromNow\"></span>',controller:l};t.default=function(){return i}},1530:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e,t){return{restrict:\"A\",link:function(n,r,a){var l=a.waltzJumpTo;r.on(\"click\",function(){e.yOffset=160,t.hash(l),e(),n.$apply()})}}};r.$inject=[\"$anchorScroll\",\"$location\"],t.default=r},1531:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1532)),a=n(0);var l={show:!0};var i={template:r.default,bindings:{show:\"<?\",name:\"@\"},controller:function(){(0,a.initialiseData)(this,l)}};t.default={id:\"waltzLoadingNotification\",component:i}},1532:function(e,t){e.exports=\"<div> <div ng-if=$ctrl.show> <h4 class=text-muted> <waltz-icon name=circle-o-notch spin=true> </waltz-icon> <span ng-bind=$ctrl.name> </span> </h4> </div> </div> \"},1533:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){return{restrict:\"E\",replace:!0,template:'<a href=\"mailto:{{person.email}}\">{{person.email}} <waltz-icon name=\"envelope-o\"></waltz-icon></a>',scope:{person:\"=\"}}}},1534:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1535));var a={name:\"@\",icon:\"@\",small:\"@\",visible:\"=\"};t.default=function(){return{restrict:\"E\",replace:!0,template:r.default,scope:{},bindToController:a,controller:function(){},controllerAs:\"ctrl\",transclude:!0}}},1535:function(e,t){e.exports='<div class=row> <div class=col-md-12> <div ng-if=\"ctrl.visible == true\" class=\"waltz-fade-if waltz-overlay-panel\" style=\"\"> <div> <h4> <waltz-icon name=\"{{ ctrl.icon }}\"> </waltz-icon> <span ng-bind=ctrl.name></span> <small> <span ng-bind=ctrl.small></span> </small> <a href class=\"small pull-right\" ng-click=\"ctrl.visible = false\"> <waltz-icon size=lg name=times-circle> </waltz-icon> Close </a> </h4> </div> <div ng-transclude> </div> </div> </div> </div> '},1536:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1537));t.default=function(){return{restrict:\"E\",replace:!0,template:r.default,scope:{number:\"@\"}}}},1537:function(e,t){e.exports=\"<span> <span ng-if=number> {{number}} <a ng-href=sip:{{number}}> <waltz-icon name=phone-square></waltz-icon> </a> </span> <span ng-if=!number> - </span> </span> \"},1538:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1539));var a={name:\"@\",rating:\"=ragRating\"};function l(){this.ragToTextColor=function(e){switch(e){case\"G\":case\"PRIMARY\":return\"text-success\";case\"A\":case\"SECONDARY\":return\"text-warning\";case\"R\":case\"DISCOURAGED\":return\"text-danger\";default:return\"text-info\"}}}l.$inject=[],t.default=function(){return{restrict:\"E\",replace:!0,template:r.default,scope:{},bindToController:a,controllerAs:\"ctrl\",controller:l}}},1539:function(e,t){e.exports=\"<span> <span ng-class=ctrl.ragToTextColor(ctrl.rating) style=white-space:nowrap> <waltz-icon size=lg name=\\\"{{ ctrl.rating | toIconName:'rag' }}\\\"> </waltz-icon> <span ng-bind=ctrl.name></span> </span> </span> \"},154:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.lastViewedMeasurableCategoryKey=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.lastViewedMeasurableCategoryKey=\"main.measurable-category.list.lastCategory\";var a=null;function l(e,t){var n=function(){return(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||null==a)&&(a=t.findAllForUser()),a.then(function(e){return r.default.keyBy(e,\"key\")})};return n(),{loadPreferences:n,savePreference:function(r,l){if(a&&void 0!==l&&null!==l)return n().then(function(n){var i=!n[r],s=!i&&n[r].value!==l;if(i||s){var o={key:r,value:l};return t.saveForUser(o).then(function(t){return a=e.defer().resolve(t)})}}).then(function(){return n()})}}}l.$inject=[\"$q\",\"UserPreferenceStore\"],t.default=l},1540:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=l(n(1)),a=l(n(1541));function l(e){return e&&e.__esModule?e:{default:e}}var i={clear:\"=\",search:\"=\"};function s(){var e=this;e.doSearch=function(t){r.default.isFunction(e.search)&&e.search(t)},e.clearSearch=function(){r.default.isFunction(e.clear)&&e.clear(),e.qry=\"\"}}s.$inject=[],t.default=function(){return{restrict:\"E\",replace:!0,template:a.default,scope:{},bindToController:i,controllerAs:\"ctrl\",controller:s}}},1541:function(e,t){e.exports='<div class=btn-group style=width:100%> <input type=search class=form-control ng-model=ctrl.qry ng-change=ctrl.doSearch(ctrl.qry) ng-model-options=\"{ debounce: 200 }\" placeholder=Search> <span class=\"waltz-search-clear glyphicon glyphicon-remove-circle\" ng-click=ctrl.clearSearch()> </span> </div>'},1542:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){return{restrict:\"E\",replace:!0,transclude:!0,template:'<div class=\"waltz-section-actions\"> <ng-transclude></ng-transclude> </div>'}}},1543:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){return{restrict:\"E\",replace:!0,template:'<svg width=\"50\" height=\"50\">\\n    <circle r=\"25\" cx=\"25\" cy=\"25\" fill=\"{{colour}}\"></circle>\\n    <text text-anchor=\"middle\" x=\"25\" y=\"32\" font-size=\"24\">\\n        {{count}}\\n    </text>\\n</svg>',scope:{count:\"@\",colour:\"@\"}}}},1544:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){return{restrict:\"E\",replace:!0,template:a.default,scope:{start:\"=\",end:\"=\",selected:\"=\",onSelect:\"&\"},bindToController:!0,controllerAs:\"ctrl\",controller:i}};var r=l(n(1)),a=l(n(1545));function l(e){return e&&e.__esModule?e:{default:e}}function i(){var e=this,t=(new Date).getFullYear(),n=e.start,a=void 0===n?{year:t,quarter:1}:n,l=e.end,i=void 0===l?{year:a.year+5,quarter:4}:l;e.years=r.default.range(a.year,i.year+1),e.select=function(t){e.onSelect()&&e.onSelect()(t)},e.isSelected=function(t,n){return e.selected&&e.selected.year===t&&e.selected.quarter===n},e.isDisabled=function(e,t){return 10*e+t<10*a.year+a.quarter||10*e+t>10*i.year+i.quarter}}},1545:function(e,t){e.exports='<table class=waltz-yq-select> <tr ng-repeat=\"year in ctrl.years\"> <td ng-class=\"{ \\'selected-year\\': ctrl.selected.year == year }\">{{ year }}</td> <td ng-repeat=\"q in [1,2,3,4]\" ng-class=\"{\\n                selected: ctrl.isSelected(year, q),\\n                disabled: ctrl.isDisabled(year, q),\\n                enabled: !ctrl.isDisabled(year, q)\\n            }\" ng-click=\"ctrl.select({ year: year, quarter: q })\"> Q{{q}} </td> </tr> </table> '},1546:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1547));t.default={template:r.default,transclude:!0,bindings:{name:\"@\",subName:\"@\",icon:\"@\",description:\"@\"}}},1547:function(e,t){e.exports='<div class=waltz-info-tile> <div class=title> <waltz-icon name=\"{{ $ctrl.icon }}\"></waltz-icon> <span ng-bind=$ctrl.name></span> <div class=sub-title ng-if=$ctrl.subName> <span ng-bind=ctrl.subName></span> </div> </div> <div class=content> <div class=main-content ng-transclude> </div> <div class=\"text-muted description\" ng-bind=$ctrl.description> </div> </div> </div>'},1548:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(75),a=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(n(1549));var i={name:\"Export\",filename:\"extract.csv\",method:\"GET\",requestBody:null,styling:\"button\"};function s(e){var t=e.headers(\"Content-Disposition\");return t?t.split(\";\")[1].trim().split(\"=\")[1].replace(/\"/g,\"\"):null}function o(e,t){var n=(0,a.initialiseData)(this,i);n.$onChanges=function(){n.url=t+\"/\"+n.extract,n.classes=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"button\"){case\"link\":return[\"clickable\"];default:return[\"btn\",\"btn-xs\",\"btn-primary\"]}}(n.styling)},n.export=function(){switch(n.method){case\"GET\":return e.get(n.url).then(function(e){return(0,r.downloadFile)(e.data,s(e)||n.filename)});case\"POST\":return e.post(n.url,n.requestBody).then(function(e){return(0,r.downloadFile)(e.data,s(e)||n.filename)});default:throw\"Unrecognised method: \"+n.method}}}o.$inject=[\"$http\",\"BaseExtractUrl\"];var c={bindings:{name:\"@\",extract:\"@\",method:\"@\",filename:\"@\",requestBody:\"<\",styling:\"@?\"},controller:o,template:l.default};t.default=c},1549:function(e,t){e.exports=\"<a ng-class=$ctrl.classes ng-click=$ctrl.export()> <waltz-icon name=cloud-download></waltz-icon> <span ng-bind=$ctrl.name></span> </a> \"},1550:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(n(1551));var l={errorMessage:\"\",editing:!1,saving:!1,fieldType:\"text\",buttonLabel:\"Edit\",saveLabel:\"Save\",onSave:function(){return console.log(\"WEF: No on-save method provided\")}};function i(e,t){return e&&\"date\"===t?new Date(e):e}function s(){var e=(0,r.initialiseData)(this,l);e.$onChanges=function(){e.initialVal&&(e.newVal=i(e.initialVal,e.fieldType))};var t=function(){e.saving=!1,e.editing=!1,e.errorMessage=\"\"},n=function(t){e.saving=!1,e.editing=!0,e.errorMessage=t};e.save=function(){var r={newVal:e.newVal,oldVal:e.initialVal};e.saving=!0;var a=e.onSave(e.itemId,r);a?a.then(t,n):t()},e.edit=function(){e.editing=!0,e.newVal=i(e.initialVal,e.fieldType)},e.cancel=function(){e.editing=!1,e.saving=!1,e.errorMessage=\"\"},e.entitySelect=function(t){e.newVal=t}}s.$inject=[];var o={template:a.default,bindings:{initialVal:\"<\",onSave:\"<\",fieldType:\"@\",dateFormat:\"@\",itemId:\"<\",buttonLabel:\"@\",saveLabel:\"@?\",editRole:\"@\",emptyLabel:\"@\"},controller:s};t.default=o},1551:function(e,t){e.exports='<div class=waltz-visibility-parent> <div ng-if=\"! $ctrl.editing\"> <span ng-switch=$ctrl.fieldType> <span ng-switch-when=person> <waltz-entity-link entity-ref=$ctrl.newVal> </waltz-entity-link> </span> <span ng-switch-when=logical-data-element> <waltz-entity-link entity-ref=$ctrl.newVal icon-placement=none> </waltz-entity-link> </span> <span ng-switch-when=date> <span ng-bind=\"$ctrl.initialVal | date:\\'{{ $ctrl.dateFormat }}\\'\"> </span> </span> <span ng-switch-when=textarea> <waltz-markdown text=$ctrl.initialVal> </waltz-markdown> </span> <span ng-switch-default> <span ng-bind=$ctrl.initialVal> </span> </span> </span> <span ng-bind=$ctrl.emptyLabel ng-if=\"$ctrl.newVal == null\"> </span> <a ng-click=$ctrl.edit() ng-if=$ctrl.editRole waltz-has-role=\"{{ $ctrl.editRole }}\" class=\"btn btn-xs waltz-visibility-child-30\"> <waltz-icon name=pencil></waltz-icon> <span ng-bind=$ctrl.buttonLabel></span> </a> <a ng-click=$ctrl.edit() ng-if=\"! $ctrl.editRole\" class=\"btn btn-xs waltz-visibility-child-30\"> <waltz-icon name=pencil></waltz-icon> <span ng-bind=$ctrl.buttonLabel></span> </a> </div> <div ng-if=$ctrl.editing style=\"border-radius:3px;border:1px solid #eee;background-color:#fafafa;padding:10px\"> <div ng-if=\"$ctrl.fieldType === \\'text\\'\"> <input type=text ng-model=$ctrl.newVal class=\"form-control input-sm\"> </div> <div ng-if=\"$ctrl.fieldType === \\'textarea\\'\"> <textarea ng-model=$ctrl.newVal class=\"form-control input-sm\">\\n            </textarea> </div> <div ng-if=\"$ctrl.fieldType === \\'boolean\\'\"> <input type=checkbox ng-model=$ctrl.newVal class=input-sm style=height:auto> </div> <div ng-if=\"$ctrl.fieldType === \\'person\\'\"> <waltz-entity-selector current-selection=$ctrl.newVal on-select=$ctrl.entitySelect entity-kinds=\"[\\'PERSON\\']\" item-id=$ctrl.itemId> </waltz-entity-selector> </div> <div ng-if=\"$ctrl.fieldType === \\'logical-data-element\\'\"> <waltz-entity-selector current-selection=$ctrl.newVal on-select=$ctrl.entitySelect entity-kinds=\"[\\'LOGICAL_DATA_ELEMENT\\']\" item-id=$ctrl.itemId clearable=true> </waltz-entity-selector> </div> <div ng-if=\"$ctrl.fieldType === \\'date\\'\"> <waltz-date-picker-form-input place-holder=\"{{ $ctrl.dateFormat }}\" format=\"{{ $ctrl.dateFormat }}\" model=$ctrl.newVal> </waltz-date-picker-form-input> </div> <div style=margin-top:4px> <button class=\"btn btn-xs btn-success\" ng-disabled=$ctrl.saving ng-click=$ctrl.save()> <waltz-icon name=check></waltz-icon> <span ng-bind=$ctrl.saveLabel></span> </button> <button class=\"btn btn-xs\" ng-click=$ctrl.cancel() ng-if=!$ctrl.saving> <waltz-icon name=times></waltz-icon> Cancel </button> <span ng-if=$ctrl.saving> <waltz-icon name=spinner spin=true> </waltz-icon> </span> <span ng-if=\"$ctrl.errorMessage.length > 0\" ng-bind=$ctrl.errorMessage class=waltz-error> </span> </div> </div> </div>'},1552:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={bindings:{name:\"@\",size:\"@\",flip:\"@\",rotate:\"@\",stack:\"@\",fixedWidth:\"@\",inverse:\"@\",spin:\"@\"},template:'<span style=\"font-size: smaller; opacity: 0.8;\"><i ng-class=\"$ctrl.classNames\"/></span>',controller:function(){var e=this;e.$onChanges=function(){e.classNames=[\"fa\",\"fa-\"+e.name,e.flip?\"fa-flip-\"+e.flip:\"\",e.rotate?\"fa-rotate-\"+e.rotate:\"\",e.size?\"fa-\"+e.size:\"\",e.stack?\"fa-stack-\"+e.stack:\"\",e.fixedWidth?\"fa-fw\":\"\",e.inverse?\"fa-inverse\":\"\",e.spin?\"fa-spin\":\"\"].join(\" \")}}};t.default=r},1553:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=l(n(6)),a=l(n(1554));function l(e){return e&&e.__esModule?e:{default:e}}var i={SAVING:Symbol(),VIEWING:Symbol(),EDITING:Symbol()};function s(){var e=this;e.mode=i.VIEWING,e.Modes=i,e.$onChanges=function(t){t.value&&(e.mode=i.VIEWING)},e.edit=function(){e.editor={modifiableValue:r.default.copy(e.value)},e.mode=i.EDITING},e.cancel=function(){e.mode=i.VIEWING},e.mySave=function(){e.mode=i.SAVING;var t=e.editor.modifiableValue;e.onSave(t,e.value).then(function(t){e.mode=i.VIEWING,e.value=e.editor.modifiableValue},function(e){console.log(\"Error\",e)})},e.onKeydown=function(t){13===t.keyCode&&(t.metaKey||t.ctrlKey)&&e.mySave()}}s.$inject=[];var o={template:a.default,controller:s,bindings:{placeholder:\"@\",value:\"<\",onSave:\"<\"}};t.default=o},1554:function(e,t){e.exports='<div> <div ng-if=\"$ctrl.mode == $ctrl.Modes.VIEWING\"> <span ng-bind=$ctrl.value></span> <span ng-bind=$ctrl.placeholder class=text-muted ng-hide=$ctrl.value></span> <button ng-click=$ctrl.edit() class=\"btn btn-xs btn-primary\"> <waltz-icon name=pencil-square-o></waltz-icon> Edit </button> </div> <div ng-if=\"$ctrl.mode == $ctrl.Modes.EDITING\"> <textarea ng-model=$ctrl.editor.modifiableValue rows=10 ng-keydown=$ctrl.onKeydown($event) style=width:80%>\\n        </textarea> <br> <button ng-click=$ctrl.mySave() class=\"btn btn-xs btn-success\" ng-disabled=\"$ctrl.editor.modifiableValue == $ctrl.value\" uib-popover-html=\"\\'Shortcut: <kbd>ctrl+enter</kbd>\\'\" popover-trigger=mouseenter popover-placement=bottom> <waltz-icon name=cloud-upload></waltz-icon> Save </button> <button ng-click=$ctrl.cancel() class=\"btn btn-xs btn-warning\"> Cancel </button> </div> <div ng-if=\"$ctrl.mode == $ctrl.Modes.SAVING\"> <textarea ng-model=$ctrl.editor.modifiableValue rows=10 style=width:80% disabled=disabled>\\n        </textarea> <br> <waltz-icon spin=true name=spinner></waltz-icon> Saving.. </div> </div> '},1555:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(n(1556));var l={};function i(){var e=this;e.$onInit=function(){return(0,r.initialiseData)(e,l)},e.$onChanges=function(e){}}i.$inject=[];var s={template:a.default,transclude:{empty:\"?empty\",last:\"?last\"},bindings:{keywords:\"<\",onSelect:\"&?\"},controller:i};t.default=s},1556:function(e,t){e.exports='<span> <span ng-if=\"$ctrl.keywords.length == 0\"> <div ng-transclude=empty></div> </span> <ul ng-if=\"$ctrl.keywords.length > 0\" class=waltz-keyword-list> <li ng-repeat=\"keyword in $ctrl.keywords | orderBy\" ng-click=\"$ctrl.onSelect({keyword: keyword})\" class=wkl-keyword ng-class=\"{ \\'clickable\\': $ctrl.onSelect }\"> <span ng-bind=keyword></span> </li> <li class=\"wkl-last waltz-visibility-parent\"> <div ng-transclude=last class=waltz-visibility-child-30> </div> </li> </ul> </span> '},1557:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=s(n(6)),a=s(n(1)),l=n(0),i=s(n(1558));function s(e){return e&&e.__esModule?e:{default:e}}var o={};function c(){var e=this;e.$onInit=function(){return(0,l.initialiseData)(e,o)},e.$onChanges=function(t){e.working=r.default.copy(e.keywords)},e.save=function(){var t=a.default.map(e.working,\"text\");e.onSave(t)}}c.$inject=[];var u={template:i.default,bindings:{onCancel:\"<\",onSave:\"<\",keywords:\"<\"},controller:c};t.default=u},1558:function(e,t){e.exports='<div style=\"padding:10px;border-radius:3px;border:1px solid #ddd;background-color:#f5f5f5\"> <tags-input class=bootstrap ng-model=$ctrl.working replace-spaces-with-dashes=false placeholder=Edit> </tags-input> <div style=margin-top:4px> <button class=\"btn btn-xs btn-success\" ng-click=$ctrl.save()> Update </button> <a class=\"clickable small\" ng-click=$ctrl.onCancel()> Cancel </a> </div> </div>'},1559:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1560));t.default={template:r.default,transclude:{message:\"message\"}}},1560:function(e,t){e.exports=\"<div class=waltz-no-data> <div ng-transclude=message></div> </div>\"},1561:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={bindings:{text:\"<\"},template:'\\n    <span ng-if=\"$ctrl.text\" \\n          class=\"waltz-markdown\" \\n          markdown-to-html=\"$ctrl.text\">\\n    </span>'};t.default=r},1562:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(5),a=n(82),l=n(119);n(45);var i=c(n(1)),s=n(403),o=c(n(1563));function c(e){return e&&e.__esModule?e:{default:e}}var u={emptyPie:\"empty-pie\"},d=function(e){return console.log(\"pie.onSelect default handler: \",e)},f=80;function p(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,a.arc)().outerRadius(e-10+3).innerRadius(e/2.5).padAngle(.07).cornerRadius(0):(0,a.arc)().outerRadius(e-10).innerRadius(e/2.5).padAngle(.07).cornerRadius(0)}var m=function(e,t){var n=(0,r.select)(e),a=p(t,!0);n.transition().ease(l.easeElasticOut.amplitude(2)).duration(1e3).attr(\"d\",function(e){return a(e)})},g=function(e,t){var n=(0,r.select)(e),a=p(t,!1);n.transition().duration(50).attr(\"d\",function(e){return a(e)})};function v(e,t,n,r){var l=t.size,o=void 0===l?f:l,c=o,d=o;e.attrs({width:c,height:d});var m=e.selectAll(\".main-group\").data([1]);!function(e,t,n,r){var l=t.colorProvider,o=t.valueProvider,c=void 0===o?function(e){return e.count}:o,d=t.idProvider,m=void 0===d?function(e){return e.data.key}:d,g=t.size,v=(void 0===g?f:g)/2,h=p(v,!1),w=(0,a.pie)().value(c)(i.default.filter(n,function(e){return e.count>0})),b=e.selectAll(\".arc\").data(w,m),y=b.enter().append(\"path\").classed(\"arc clickable\",!0).on(\"click\",function(e){return r(e.data)});y.append(\"title\").text(function(e){return e.data.key+\" - \"+e.data.count}),b.merge(y).attr(\"d\",function(e){return h(e)}).attr(\"fill\",function(e){return l(e).brighter()}).attr(\"stroke\",function(e){return l(e)}),b.exit().remove();var A=e.selectAll(\".\"+u.emptyPie).data((0,s.isPieEmpty)(n)?[1]:[]);A.enter().append(\"circle\").attrs({cx:0,cy:0,r:v/2,fill:\"#eee\",stroke:\"#bbb\",\"stroke-dasharray\":[5,1]}).classed(u.emptyPie,!0),A.exit().remove()}(m.enter().append(\"g\").classed(\"main-group\",!0).merge(m).attr(\"transform\",\"translate(\"+c/2+\",\"+d/2+\")\"),t,n,r)}function h(e,t){var n=e[0].querySelector(\".waltz-pie\"),a=(0,r.select)(n).append(\"svg\"),l=this;l.$onChanges=function(e){if(l.data&&l.config&&e.data){var n=l.config.onSelect||d;v(a,l.config,l.data,function(e){return t.$apply(function(){return n(e)})})}e.selectedSegmentKey&&a.selectAll(\".arc\").classed(\"wp-selected\",function(e){var t=e.data.key===l.selectedSegmentKey;return t?m(this,l.config.size/2):g(this,l.config.size/2),t})}}h.$inject=[\"$element\",\"$scope\"];var w={bindings:{data:\"<\",config:\"<\",selectedSegmentKey:\"<\"},controller:h,template:o.default};t.default=w},1563:function(e,t){e.exports=\"<span> <span class=waltz-pie></span> </span>\"},1564:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=i(n(1)),a=n(19),l=n(39);function i(e){return e&&e.__esModule?e:{default:e}}var s={total:0,headings:[]},o={labelProvider:function(e){return e.key},colorProvider:function(e){return(0,a.variableScale)(e)},descriptionProvider:function(e){return null}},c=function(e){return console.log(\"no pie-segment-table::on-select handler provided:\",e)};var u={bindings:{config:\"<\",data:\"<\",headings:\"<\",selectedSegmentKey:\"<\"},controller:function(){var e=r.default.defaultsDeep(this,s);e.$onChanges=function(t){t.data&&(e.total=r.default.sumBy(e.data,\"count\"),e.totalStr=(0,l.numberFormatter)(e.total,2,!1)),t.config&&(e.config=r.default.defaultsDeep(e.config,o),e.rowSelected=function(t,n){n.stopPropagation(),(e.config.onSelect||c)(t)})},e.asPercentage=function(t){return(0,l.toPercentage)(t.count,e.total)}},template:i(n(1565)).default};t.default=u},1565:function(e,t){e.exports='<table class=waltz-pie-segment-table> <thead> <tr ng-if=\"$ctrl.headings.length > 0\"> <th></th> <th ng-bind=$ctrl.headings[0]></th> <th ng-bind=$ctrl.headings[1] class=wpst-number-col></th> <th ng-bind=$ctrl.headings[2] class=wpst-number-col></th> <th></th> </tr> </thead> <tbody> <tr ng-repeat=\"r in $ctrl.data | orderBy:\\'key\\'\" class=small ng-click=\"$ctrl.rowSelected(r, $event)\" ng-class=\"{\\n            \\'wpst-selected\\': $ctrl.selectedSegmentKey === r.key,\\n            \\'clickable\\' : $ctrl.config.onSelect\\n        }\" uib-tooltip=\"{{ $ctrl.config.descriptionProvider(r) }}\" tooltip-append-to-body=true tooltip-placement=right> <td> <div class=wpst-indicator-cell ng-style=\"{\\n                    \\'background-color\\': $ctrl.config.colorProvider({ data: r }).brighter().toString(),\\n                    \\'border-color\\' : $ctrl.config.colorProvider({ data: r }).toString()\\n                 }\"> &nbsp; </div> </td> <td> <span ng-bind=$ctrl.config.labelProvider(r)></span> </td> <td class=wpst-number-col> <span ng-bind=r.count></span> </td> <td class=wpst-number-col> <span class=small ng-bind=$ctrl.asPercentage(r)> </span> % </td> <td width=36px> <a class=clickable ng-if=\"$ctrl.selectedSegmentKey === r.key\" ng-click=\"$ctrl.rowSelected(null, $event)\"> <waltz-icon size=lg name=ban title=\"Cancel selection\"></waltz-icon> </a> <span ng-if=\"$ctrl.selectedSegmentKey !== r.key\"> <waltz-icon name=fw></waltz-icon> </span> </td> </tr> <tr class=\"small wpst-total-row\" ng-click=\"$ctrl.rowSelected(null, $event)\"> <td> </td> <td> Total </td> <td class=wpst-number-col> <strong ng-bind=$ctrl.totalStr></strong> </td> <td></td> <td></td> </tr> </tbody> </table>'},1566:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1567)),a=n(403),l=n(0);var i={},s=5;var o={template:r.default,bindings:{data:\"<\",config:\"<\",title:\"@\",subTitle:\"@\",icon:\"@\",selectedSegmentKey:\"<\"},controller:function(){var e=(0,l.initialiseData)(this,i),t=function(t){e.selectedSegmentKey=t?t.key:null};e.$onChanges=function(n){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.pieData=(0,a.limitSegments)(t,s)}(e.data),n.config&&(e.config=Object.assign({},{onSelect:t},e.config))},e.toDisplayName=function(t){return e.config.labelProvider?e.config.labelProvider(t):t}}};t.default=o},1567:function(e,t){e.exports='<div class=pie-table> <waltz-basic-info-tile name=\"{{ $ctrl.title }}\" sub-name=\"{{ $ctrl.subTitle }}\" description=\"\" icon=\"{{ $ctrl.icon }}\"> <div> <waltz-pie data=$ctrl.pieData style=display:inline-block;vertical-align:top;padding-right:24px selected-segment-key=$ctrl.selectedSegmentKey config=$ctrl.config> </waltz-pie> </div> <div> <waltz-pie-segment-table data=$ctrl.pieData style=display:inline-block selected-segment-key=$ctrl.selectedSegmentKey config=$ctrl.config> </waltz-pie-segment-table> </div> </waltz-basic-info-tile> </div>'},1568:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),a=n(39),l=function(e){return e&&e.__esModule?e:{default:e}}(n(1569));var i={collapsed:!1,collapsible:!0};function s(e,t,n){return e.name+\".section.\"+t+\".\"+n}function o(e,t){var n=(0,r.initialiseData)(this,i);n.id&&t.loadPreferences().then(function(t){var r=s(e.current,n.id,\"collapsed\");if(t[r]){var l=(0,a.stringToBoolean)(t[r].value);n.collapsed=l}}),n.expand=function(r){n.collapsed=r,n.id&&t.savePreference(s(e.current,n.id,\"collapsed\"),r)}}o.$inject=[\"$state\",\"UserPreferenceService\"];var c={template:l.default,bindings:{name:\"@\",icon:\"@\",small:\"@\",id:\"@\",collapsible:\"<\"},controller:o,transclude:!0};t.default=c},1569:function(e,t){e.exports='<div> <div class=waltz-section> <div class=waltz-section-header> <div class=\"waltz-visibility-parent waltz-section-header-title\"> <waltz-twistie ng-if=$ctrl.collapsible collapsed=$ctrl.collapsed toggle-expansion=$ctrl.expand> </waltz-twistie> <span ng-if=\"! $ctrl.collapsible\" class=text-muted> <waltz-icon fixed-width=true></waltz-icon> </span> <span ng-click=\"$ctrl.collapsible && $ctrl.expand(!$ctrl.collapsed)\" ng-class=\"{ clickable: $ctrl.collapsible }\"> <waltz-icon name=\"{{ $ctrl.icon }}\"></waltz-icon> <span ng-bind=$ctrl.name></span> <small> <span ng-bind=$ctrl.small></span> </small> </span> </div> </div> <div class=\"container-fluid waltz-section-body animate-if\" ng-if=\"! $ctrl.collapsed\"> <ng-transclude></ng-transclude> </div> </div> </div> '},1570:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),a=n(30),l=n(5);n(45);var i=n(0);function s(e){var t=(0,l.select)(e[0]).select(\".waltz-simple-stack-chart\").append(\"svg\").attr(\"width\",0),n=t.append(\"rect\").classed(\"wssc-ambient\",!0),s=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments[1],o=(0,i.perhaps)(function(){return e[0].parentElement.clientWidth||150},150);t.attr(\"width\",\"\"+o).attr(\"height\",\"24\");var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t(0);return r.default.map(e,function(e){var r=e?t(e):0,a={x:n,width:r};return n+=r,a})}(l,(0,a.scaleLinear)().domain([0,s]).range([10,o-30])),u=t.selectAll(\".wssc-stack\").data(l),d=u.enter().append(\"rect\").classed(\"wssc-stack\",!0).attr(\"class\",function(e,t){return\"wssc-stack-\"+t});u.merge(d).attr(\"y\",3).attr(\"height\",18).attr(\"x\",function(e,t){return c[t].x}).attr(\"width\",function(e,t){return c[t].width}),n.attr(\"width\",o).attr(\"height\",24).attr(\"x\",0).attr(\"y\",0)},o=this;o.$onChanges=function(){o.values&&s(o.values,o.max)}}s.$inject=[\"$element\"];var o={bindings:{values:\"<\",max:\"<\"},controller:s,template:'<div class=\"waltz-simple-stack-chart\"></div>'};t.default=o},1571:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0);var a={labelOn:\"\",labelOff:\"\",iconOn:\"toggle-on\",iconOff:\"toggle-off\",onToggle:function(){return console.log(\"no on-toggle handler supplied to waltz-toggle component\")},state:!1,readOnly:!1};var l={template:function(e){return e&&e.__esModule?e:{default:e}}(n(1572)).default,bindings:{labelOn:\"@\",labelOff:\"@\",iconOn:\"@\",iconOff:\"@\",onToggle:\"&\",state:\"<\",readOnly:\"<\"},controller:function(){(0,r.initialiseData)(this,a)}};t.default=l},1572:function(e,t){e.exports=' <a ng-if=!$ctrl.readOnly class=\"clickable no-text-select\" style=text-decoration:none ng-click=$ctrl.onToggle()> <span ng-include=\"\\'wt/toggle-content.html\\'\"></span> </a> <span ng-if=$ctrl.readOnly> <span ng-include=\"\\'wt/toggle-content.html\\'\"></span> </span> <script type=text/ng-template id=wt/toggle-content.html> <span ng-show=\"$ctrl.state\">\\n        <span style=\"font-size: larger\">\\n            <waltz-icon name=\"{{ $ctrl.iconOn }}\"></waltz-icon>\\n        </span>\\n        <span ng-bind=\"$ctrl.labelOn\"></span>\\n    </span>\\n\\n    <span ng-show=\"! $ctrl.state\">\\n        <span style=\"font-size: larger\">\\n            <waltz-icon name=\"{{ $ctrl.iconOff }}\"></waltz-icon>\\n        </span>\\n        <span ng-bind=\"$ctrl.labelOff\"></span>\\n    </span> <\\/script>'},1573:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0);var a={collapsed:!1,toggleExpansion:function(e){return console.log(\"Default handler defined for toggleExpansion - collapsed: \",e)}};var l={bindings:{collapsed:\"<\",toggleExpansion:\"<\"},controller:function(){var e=(0,r.initialiseData)(this,a);e.onClick=function(){e.collapsed=!e.collapsed,e.toggleExpansion&&e.toggleExpansion(e.collapsed)},e.$onChanges=function(){e.clazz=function(){return[\"fa\",\"fa-fw\",\"fa-\"+(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?\"chevron-right\":\"chevron-down\")]}(e.collapsed)}},template:function(e){return e&&e.__esModule?e:{default:e}}(n(1574)).default};t.default=l},1574:function(e,t){e.exports='<span class=\"small clickable text-muted\"> <i ng-class=$ctrl.clazz ng-click=$ctrl.onClick()></i> </span> '},1576:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(404));var a={appGroupSubscriptions:[],panels:[],history:[]};function l(e,t,n,r){var l=Object.assign(this,a);t.findMyGroupSubscriptions().then(function(e){return l.appGroupSubscriptions=e}).then(function(){return r.initialiseForKey(\"main.home\",!0)}).then(function(e){return l.tour=e}),l.history=n.get(\"history_2\")||[],e[0].title=\"Waltz\"}l.$inject=[\"$document\",\"AppGroupStore\",\"localStorageService\",\"TourService\"];var i={controller:l,controllerAs:\"ctrl\",template:r.default};t.default=i},1577:function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAD1CAYAAADqO8gmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0Q4QjBCNDgyMkEwMTFFNjg5OEJGQTc4ODYwQ0ZDM0MiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0Q4QjBCNDkyMkEwMTFFNjg5OEJGQTc4ODYwQ0ZDM0MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozRDhCMEI0NjIyQTAxMUU2ODk4QkZBNzg4NjBDRkMzQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozRDhCMEI0NzIyQTAxMUU2ODk4QkZBNzg4NjBDRkMzQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsFcgUEAAB5iSURBVHja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\"},262:function(e,t,n){\"use strict\";function r(e,t){var n=t+\"/user\";return{deleteUser:function(t){return e.delete(n+\"/\"+t).then(function(e){return e.data})},findAll:function(){return e.get(n).then(function(e){return e.data})},findForUserId:function(t){return e.get(n+\"/user-id/\"+t).then(function(e){return e.data})},register:function(t){return e.post(n+\"/new-user\",t)},resetPassword:function(t,r,a){var l={userName:t,newPassword:r,currentPassword:a};return e.post(n+\"/reset-password\",l).then(function(e){return e.data})},updateRoles:function(t,r){return e.post(n+\"/\"+t+\"/roles\",r).then(function(e){return e.data})},whoami:function(){return e.get(n+\"/whoami\").then(function(e){return e.data})}}}Object.defineProperty(t,\"__esModule\",{value:!0}),r.$inject=[\"$http\",\"BaseApiUrl\"];t.UserStore_API={deleteUser:{serviceName:\"UserStore\",serviceFnName:\"deleteUser\",description:\"delete a user\"},findAll:{serviceName:\"UserStore\",serviceFnName:\"findAll\",description:\"find all users\"},findForUserId:{serviceName:\"UserStore\",serviceFnName:\"findForUserId\",description:\"find a user by id\"},register:{serviceName:\"UserStore\",serviceFnName:\"register\",description:\"register a new user\"},resetPassword:{serviceName:\"UserStore\",serviceFnName:\"resetPassword\",description:\"reset a user's password\"},updateRoles:{serviceName:\"UserStore\",serviceFnName:\"updateRoles\",description:\"update a user's permissions\"},whoami:{serviceName:\"UserStore\",serviceFnName:\"whoami\",description:\"returns object representing the current user\"}};t.default={serviceName:\"UserStore\",store:r}},393:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.pageHeaderDefaultOffset=void 0;var r=s(n(1)),a=s(n(6)),l=n(0),i=s(n(1069));function s(e){return e&&e.__esModule?e:{default:e}}var o=t.pageHeaderDefaultOffset=60,c={stickyVisible:!1};function u(e,t,n){var i=(0,l.initialiseData)(this,c);i.$onChanges=function(){e[0].title=\"Waltz: \"+i.name};var s=function(){t.$applyAsync(function(){i.stickyVisible=n.pageYOffset>o})};i.$onInit=function(){a.default.element(n).on(\"scroll\",r.default.throttle(s,100))},i.$onDestroy=function(){a.default.element(n).off(\"scroll\",s)},i.startTour=function(){i.tour&&i.tour.start()},i.scrollToTop=function(){n.scrollTo(0,0)}}u.$inject=[\"$document\",\"$scope\",\"$window\"];var d={bindings:{name:\"@\",icon:\"@\",small:\"@\",tour:\"<\"},template:i.default,controller:u,transclude:!0};t.default=d},402:function(e,t){},403:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.calcTotal=a,t.isPieEmpty=function(e){return 0===a(e)},t.limitSegments=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=function(e){return r.default.filter(e,function(e){return 0!==e.count})};if(e.length>t){var a=r.default.sortBy(e,function(e){return-1*e.count}),l=r.default.take(a,t),i=r.default.drop(a,t),s={key:\"Other\",count:r.default.sumBy(i,\"count\")};return n(r.default.concat(l,s))}return n(e)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function a(e){return r.default.sumBy(e,\"count\")}},404:function(e,t,n){e.exports=\"<div class=container-fluid> <div style=margin-bottom:24px;padding:24px class=waltz-page-header> <img height=100px src=\"+n(1577)+'> <span style=font-size:x-large;padding-left:30px> Enterprise Architecture on the Wire </span> <span class=pull-right style=margin-top:36px;margin-right:20px ng-if=\"ctrl.tour.stepCount > 0\" id=tour-guide> <waltz-icon size=2x ng-click=ctrl.tour.start() name=map-o> </waltz-icon> </span> </div> <div class=row> <div class=col-sm-6> <div class=waltz-page-summary style=padding:24px> <waltz-static-panels group-key=HOME render-mode=chromeless> </waltz-static-panels> </div> </div> <div class=col-sm-6> <waltz-app-group-list-section group-subscriptions=ctrl.appGroupSubscriptions> </waltz-app-group-list-section> <waltz-recently-viewed-section history=ctrl.history> </waltz-recently-viewed-section> </div> </div> </div> '},53:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default={ADMIN:{key:\"ADMIN\",name:\"Admin\",description:\"Administrative capabilities\"},APP_EDITOR:{key:\"APP_EDITOR\",name:\"App editor\",description:\"Can modify application information\"},ATTESTATION_ADMIN:{key:\"ATTESTATION_ADMIN\",name:\"Attestation Admin\",description:\"Can manage attestation runs\"},AUTHORITATIVE_SOURCE_EDITOR:{key:\"AUTHORITATIVE_SOURCE_EDITOR\",name:\"Auth Source editor\",description:\"Can modify authoritative sources\"},BETA_TESTER:{key:\"BETA_TESTER\",name:\"Beta Tester\",description:\"Can use new features before general release\"},BOOKMARK_EDITOR:{key:\"BOOKMARK_EDITOR\",name:\"Bookmark Editor\",description:\"Can modify bookmarks\"},CAPABILITY_EDITOR:{key:\"CAPABILITY_EDITOR\",name:\"Capability editor\",description:\"Can modify measurable relationships\"},CHANGE_INITIATIVE_EDITOR:{key:\"CHANGE_INITIATIVE_EDITOR\",name:\"Change Initiative editor\",description:\"Can modify change initiatives\"},LINEAGE_EDITOR:{key:\"LINEAGE_EDITOR\",name:\"Lineage editor\",description:\"Can create logical flow diagrams\"},LOGICAL_DATA_FLOW_EDITOR:{key:\"LOGICAL_DATA_FLOW_EDITOR\",name:\"Logical flow editor\",description:\"Can update logical flows\"},ORG_UNIT_EDITOR:{key:\"ORG_UNIT_EDITOR\",name:\"Org Unit editor\",description:\"Can modify org units\"},RATING_EDITOR:{key:\"RATING_EDITOR\",name:\"Rating edit\",description:\"Can assign ratings to applications\"},SCENARIO_ADMIN:{key:\"SCENARIO_ADMIN\",name:\"Scenario Admin\",description:\"Can create roadmaps and scenarios\"},SCENARIO_EDITOR:{key:\"SCENARIO_EDITOR\",name:\"Scenario edit\",description:\"Can modify the contents of roadmap scenarios\"},SURVEY_ADMIN:{key:\"SURVEY_ADMIN\",name:\"Survey Admin\",description:\"Can administer survey runs\"},SURVEY_TEMPLATE_ADMIN:{key:\"SURVEY_TEMPLATE_ADMIN\",name:\"Survey admin\",description:\"Can create and modify survey templates\"},USER_ADMIN:{key:\"USER_ADMIN\",name:\"User Admin\",description:\"Can modify user roles and permissions\"}}},788:function(e,t,n){var r={\"./af\":272,\"./af.js\":272,\"./ar\":273,\"./ar-dz\":274,\"./ar-dz.js\":274,\"./ar-kw\":275,\"./ar-kw.js\":275,\"./ar-ly\":276,\"./ar-ly.js\":276,\"./ar-ma\":277,\"./ar-ma.js\":277,\"./ar-sa\":278,\"./ar-sa.js\":278,\"./ar-tn\":279,\"./ar-tn.js\":279,\"./ar.js\":273,\"./az\":280,\"./az.js\":280,\"./be\":281,\"./be.js\":281,\"./bg\":282,\"./bg.js\":282,\"./bm\":283,\"./bm.js\":283,\"./bn\":284,\"./bn.js\":284,\"./bo\":285,\"./bo.js\":285,\"./br\":286,\"./br.js\":286,\"./bs\":287,\"./bs.js\":287,\"./ca\":288,\"./ca.js\":288,\"./cs\":289,\"./cs.js\":289,\"./cv\":290,\"./cv.js\":290,\"./cy\":291,\"./cy.js\":291,\"./da\":292,\"./da.js\":292,\"./de\":293,\"./de-at\":294,\"./de-at.js\":294,\"./de-ch\":295,\"./de-ch.js\":295,\"./de.js\":293,\"./dv\":296,\"./dv.js\":296,\"./el\":297,\"./el.js\":297,\"./en-au\":298,\"./en-au.js\":298,\"./en-ca\":299,\"./en-ca.js\":299,\"./en-gb\":300,\"./en-gb.js\":300,\"./en-ie\":301,\"./en-ie.js\":301,\"./en-nz\":302,\"./en-nz.js\":302,\"./eo\":303,\"./eo.js\":303,\"./es\":304,\"./es-do\":305,\"./es-do.js\":305,\"./es-us\":306,\"./es-us.js\":306,\"./es.js\":304,\"./et\":307,\"./et.js\":307,\"./eu\":308,\"./eu.js\":308,\"./fa\":309,\"./fa.js\":309,\"./fi\":310,\"./fi.js\":310,\"./fo\":311,\"./fo.js\":311,\"./fr\":312,\"./fr-ca\":313,\"./fr-ca.js\":313,\"./fr-ch\":314,\"./fr-ch.js\":314,\"./fr.js\":312,\"./fy\":315,\"./fy.js\":315,\"./gd\":316,\"./gd.js\":316,\"./gl\":317,\"./gl.js\":317,\"./gom-latn\":318,\"./gom-latn.js\":318,\"./gu\":319,\"./gu.js\":319,\"./he\":320,\"./he.js\":320,\"./hi\":321,\"./hi.js\":321,\"./hr\":322,\"./hr.js\":322,\"./hu\":323,\"./hu.js\":323,\"./hy-am\":324,\"./hy-am.js\":324,\"./id\":325,\"./id.js\":325,\"./is\":326,\"./is.js\":326,\"./it\":327,\"./it.js\":327,\"./ja\":328,\"./ja.js\":328,\"./jv\":329,\"./jv.js\":329,\"./ka\":330,\"./ka.js\":330,\"./kk\":331,\"./kk.js\":331,\"./km\":332,\"./km.js\":332,\"./kn\":333,\"./kn.js\":333,\"./ko\":334,\"./ko.js\":334,\"./ky\":335,\"./ky.js\":335,\"./lb\":336,\"./lb.js\":336,\"./lo\":337,\"./lo.js\":337,\"./lt\":338,\"./lt.js\":338,\"./lv\":339,\"./lv.js\":339,\"./me\":340,\"./me.js\":340,\"./mi\":341,\"./mi.js\":341,\"./mk\":342,\"./mk.js\":342,\"./ml\":343,\"./ml.js\":343,\"./mr\":344,\"./mr.js\":344,\"./ms\":345,\"./ms-my\":346,\"./ms-my.js\":346,\"./ms.js\":345,\"./my\":347,\"./my.js\":347,\"./nb\":348,\"./nb.js\":348,\"./ne\":349,\"./ne.js\":349,\"./nl\":350,\"./nl-be\":351,\"./nl-be.js\":351,\"./nl.js\":350,\"./nn\":352,\"./nn.js\":352,\"./pa-in\":353,\"./pa-in.js\":353,\"./pl\":354,\"./pl.js\":354,\"./pt\":355,\"./pt-br\":356,\"./pt-br.js\":356,\"./pt.js\":355,\"./ro\":357,\"./ro.js\":357,\"./ru\":358,\"./ru.js\":358,\"./sd\":359,\"./sd.js\":359,\"./se\":360,\"./se.js\":360,\"./si\":361,\"./si.js\":361,\"./sk\":362,\"./sk.js\":362,\"./sl\":363,\"./sl.js\":363,\"./sq\":364,\"./sq.js\":364,\"./sr\":365,\"./sr-cyrl\":366,\"./sr-cyrl.js\":366,\"./sr.js\":365,\"./ss\":367,\"./ss.js\":367,\"./sv\":368,\"./sv.js\":368,\"./sw\":369,\"./sw.js\":369,\"./ta\":370,\"./ta.js\":370,\"./te\":371,\"./te.js\":371,\"./tet\":372,\"./tet.js\":372,\"./th\":373,\"./th.js\":373,\"./tl-ph\":374,\"./tl-ph.js\":374,\"./tlh\":375,\"./tlh.js\":375,\"./tr\":376,\"./tr.js\":376,\"./tzl\":377,\"./tzl.js\":377,\"./tzm\":378,\"./tzm-latn\":379,\"./tzm-latn.js\":379,\"./tzm.js\":378,\"./uk\":380,\"./uk.js\":380,\"./ur\":381,\"./ur.js\":381,\"./uz\":382,\"./uz-latn\":383,\"./uz-latn.js\":383,\"./uz.js\":382,\"./vi\":384,\"./vi.js\":384,\"./x-pseudo\":385,\"./x-pseudo.js\":385,\"./yo\":386,\"./yo.js\":386,\"./zh-cn\":387,\"./zh-cn.js\":387,\"./zh-hk\":388,\"./zh-hk.js\":388,\"./zh-tw\":389,\"./zh-tw.js\":389};function a(e){var t=l(e);return n(t)}function l(e){var t=r[e];if(!(t+1)){var n=new Error(\"Cannot find module '\"+e+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=l,e.exports=a,a.id=788}}]);","extractedComments":[]}